import{r as O,l as Q,m as W,p as $,j as e,s as q,n as ae,D as re,E as ne,B as R,o as ce,x as le,z as w,q as oe,aV as de,u as he,b as P,e as ue,d as p,G as y,ae as me,aG as pe,C as xe,T as je,a as fe,aw as we,P as ge}from"./index-V7YoHL8v.js";import{S as U,I as be}from"./IconUserOff-C_nqE5mP.js";import{T as i}from"./Table-CntCXXN9.js";import{I as Ce,a as ke,b as Se}from"./InputsGroupFieldset-C7YrWevd.js";const D=O.createContext(null),ve=D.Provider,Te=()=>O.useContext(D),Pe={},z=Q((c,r)=>{const{value:n,defaultValue:a,onChange:x,size:d,wrapperProps:l,children:h,readOnly:u,...s}=W("SwitchGroup",Pe,c),[t,g]=$({value:n,defaultValue:a,finalValue:[],onChange:x}),b=k=>{const j=k.currentTarget.value;!u&&g(t.includes(j)?t.filter(N=>N!==j):[...t,j])};return e.jsx(ve,{value:{value:t,onChange:b,size:d},children:e.jsx(q.Wrapper,{size:d,ref:r,...l,...s,labelElement:"div",__staticSelector:"SwitchGroup",children:e.jsx(Ce,{role:"group",children:h})})})});z.classes=q.Wrapper.classes;z.displayName="@mantine/core/SwitchGroup";var F={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const ye={labelPosition:"right",withThumbIndicator:!0},ze=ce((c,{radius:r,color:n,size:a})=>({root:{"--switch-radius":r===void 0?void 0:oe(r),"--switch-height":w(a,"switch-height"),"--switch-width":w(a,"switch-width"),"--switch-thumb-size":w(a,"switch-thumb-size"),"--switch-label-font-size":w(a,"switch-label-font-size"),"--switch-track-label-padding":w(a,"switch-track-label-padding"),"--switch-color":n?le(n,c):void 0}})),C=Q((c,r)=>{const n=W("Switch",ye,c),{classNames:a,className:x,style:d,styles:l,unstyled:h,vars:u,color:s,label:t,offLabel:g,onLabel:b,id:k,size:j,radius:N,wrapperProps:H,thumbIcon:_,checked:S,defaultChecked:J,onChange:v,labelPosition:I,description:K,error:G,disabled:L,variant:M,rootRef:X,mod:Y,withThumbIndicator:Z,...ee}=n,o=Te(),se=j||(o==null?void 0:o.size),f=ae({name:"Switch",props:n,classes:F,className:x,style:d,classNames:a,styles:l,unstyled:h,vars:u,varsResolver:ze}),{styleProps:te,rest:B}=re(ee),V=ne(k),m=o?{checked:o.value.includes(B.value),onChange:o.onChange}:{},[A,ie]=$({value:m.checked??S,defaultValue:J,finalValue:!1});return e.jsxs(ke,{...f("root"),__staticSelector:"Switch",__stylesApiProps:n,id:V,size:se,labelPosition:I,label:t,description:K,error:G,disabled:L,bodyElement:"label",labelElement:"span",classNames:a,styles:l,unstyled:h,"data-checked":m.checked||S||void 0,variant:M,ref:X,mod:Y,...te,...H,children:[e.jsx("input",{...B,disabled:L,checked:A,"data-checked":m.checked||S||void 0,onChange:T=>{var E;o?(E=m.onChange)==null||E.call(m,T):v==null||v(T),ie(T.currentTarget.checked)},id:V,ref:r,type:"checkbox",role:"switch",...f("input")}),e.jsxs(R,{"aria-hidden":"true",mod:{error:G,"label-position":I,"without-labels":!b&&!g},...f("track"),children:[e.jsx(R,{component:"span",mod:{"reduce-motion":!0,"with-thumb-indicator":Z&&!_},...f("thumb"),children:_}),e.jsx("span",{...f("trackLabel"),children:A?b:g})]})]})});C.classes={...F,...Se};C.displayName="@mantine/core/Switch";C.Group=z;function Ne({searchQuery:c=""}){const{patients:r,isLoading:n,banPatient:a,unbanPatient:x}=de(),d=he(),l=s=>{d(`/patients/${s}`)},h=(s,t)=>{t?x(s):a(s)},u=r.filter(s=>{const t=c.toLowerCase();return s.fullName.toLowerCase().includes(t)||s.email.toLowerCase().includes(t)||s.phoneNumber&&s.phoneNumber.toLowerCase().includes(t)||s.address&&s.address.toLowerCase().includes(t)});return n?e.jsxs(P,{children:[e.jsx(U,{height:40,radius:"sm"}),[1,2,3].map(s=>e.jsx(U,{height:50,radius:"sm",mt:"sm"},s))]}):e.jsxs(i,{highlightOnHover:!0,verticalSpacing:"sm",horizontalSpacing:"lg",children:[e.jsx(i.Thead,{children:e.jsxs(i.Tr,{children:[e.jsx(i.Th,{c:"dimmed",children:"Name"}),e.jsx(i.Th,{c:"dimmed",children:"Email"}),e.jsx(i.Th,{c:"dimmed",children:"Phone"}),e.jsx(i.Th,{c:"dimmed",children:"Status"})]})}),e.jsx(i.Tbody,{children:u.length===0?e.jsx(i.Tr,{children:e.jsx(i.Td,{colSpan:4,children:e.jsx(ue,{py:"xl",children:e.jsxs(P,{align:"center",gap:"md",children:[e.jsx(be,{size:30,opacity:.4}),e.jsx(p,{size:"sm",c:"dimmed",children:r.length===0?"No patients found":"No patients match your search"})]})})})}):u.map(s=>e.jsxs(i.Tr,{style:{cursor:"pointer"},onClick:()=>l(s.id),children:[e.jsx(i.Td,{children:e.jsxs(y,{gap:"sm",children:[e.jsx(me,{color:"#e7edf6",style:{cursor:"pointer"},onClick:()=>l(s.id),size:"md",radius:"xl",variant:"filled",children:e.jsx(p,{fz:"sm",children:s.fullName.split(" ").map(t=>t[0]).join("").toUpperCase()})}),e.jsx(p,{size:"sm",fw:600,style:{cursor:"pointer"},onClick:()=>l(s.id),children:s.fullName})]})}),e.jsx(i.Td,{children:e.jsx(p,{size:"sm",c:"dimmed",children:s.email})}),e.jsx(i.Td,{children:e.jsx(p,{size:"sm",c:"dimmed",children:s.phoneNumber||"N/A"})}),e.jsx(i.Td,{children:e.jsxs(y,{gap:"xs",align:"center",onClick:t=>t.stopPropagation(),children:[e.jsx(C,{checked:!s.isBanned,onChange:()=>h(s.id,s.isBanned),color:"green",size:"sm"}),e.jsx(p,{size:"xs",c:s.isBanned?"red":"dimmed",children:s.isBanned?"Banned":"Active"})]})})]},s.id))})]})}function Be(){const{searchQuery:c}=pe(),r=()=>{console.log("Add patient clicked")};return e.jsx(xe,{pt:12,maw:1232,fluid:!0,children:e.jsxs(P,{children:[e.jsx(je,{fz:"24px",order:2,children:"Patients"}),e.jsx(y,{mt:40,justify:"flex-end",children:e.jsx(fe,{size:"lg",variant:"outline",leftSection:e.jsx(we,{size:20}),onClick:r,radius:"xl",children:"Add New Patient"})}),e.jsx(ge,{radius:"md",withBorder:!0,children:e.jsx(Ne,{searchQuery:c})})]})})}export{Be as default};
