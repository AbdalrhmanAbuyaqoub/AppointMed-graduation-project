import{f as I,b as B,g as L,j as e,E as O,l as A,H as M,aA as j,J as P,aB as R,u as S,S as x,T as u,D,av as E,G as C,au as Q,r as h,al as G,C as U,af as _,B as g,aC as H,a as $,v as J,ay as V,az as W,P as Y,aD as q}from"./index-BdO48VEK.js";import{T as t}from"./Table-Sg9l75lf.js";import{A as F}from"./Avatar-D_jdutJc.js";var w={root:"m_18320242","skeleton-fade":"m_299c329c"};const K={visible:!0,animate:!0},X=A((c,{width:n,height:l,radius:a,circle:i})=>({root:{"--skeleton-height":j(l),"--skeleton-width":i?j(l):j(n),"--skeleton-radius":i?"1000px":a===void 0?void 0:M(a)}})),p=I((c,n)=>{const l=B("Skeleton",K,c),{classNames:a,className:i,style:d,styles:r,unstyled:s,vars:o,width:v,height:y,circle:N,visible:f,radius:k,animate:m,mod:T,...b}=l,z=L({name:"Skeleton",classes:w,props:l,className:i,style:d,classNames:a,styles:r,unstyled:s,vars:o,varsResolver:X});return e.jsx(O,{ref:n,...z("root"),mod:[{visible:f,animate:m},T],...b})});p.classes=w;p.displayName="@mantine/core/Skeleton";/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z=P("outline","user-off","IconUserOff",[["path",{d:"M8.18 8.189a4.01 4.01 0 0 0 2.616 2.627m3.507 -.545a4 4 0 1 0 -5.59 -5.552",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4c.412 0 .81 .062 1.183 .178m2.633 2.618c.12 .38 .184 .785 .184 1.204v2",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]]);function ee({searchQuery:c=""}){const{doctors:n,isLoading:l}=R(),a=S(),i=s=>{a(`/doctors/${s}`)},d=s=>{a(`/clinics/${s}`)},r=n.filter(s=>{const o=c.toLowerCase();return s.name.toLowerCase().includes(o)||s.clinicName.toLowerCase().includes(o)});return l?e.jsxs(x,{children:[e.jsx(p,{height:40,radius:"sm"}),[1,2,3].map(s=>e.jsx(p,{height:50,radius:"sm",mt:"sm"},s))]}):e.jsxs(x,{gap:0,children:[e.jsx(u,{fz:"lg",fw:600,m:20,children:"Doctors List"}),e.jsx(D,{}),e.jsxs(t,{highlightOnHover:!0,verticalSpacing:"sm",horizontalSpacing:"lg",children:[e.jsx(t.Thead,{children:e.jsxs(t.Tr,{children:[e.jsx(t.Th,{c:"dimmed",children:"Name"}),e.jsx(t.Th,{c:"dimmed",children:"Clinic"})]})}),e.jsx(t.Tbody,{children:r.length===0?e.jsx(t.Tr,{children:e.jsx(t.Td,{colSpan:2,children:e.jsx(E,{py:"xl",children:e.jsxs(x,{align:"center",gap:"md",children:[e.jsx(Z,{size:30,opacity:.4}),e.jsx(u,{size:"sm",c:"dimmed",children:"No doctors found"})]})})})}):r.map(s=>e.jsxs(t.Tr,{style:{cursor:"pointer"},onClick:()=>i(s.id),children:[e.jsx(t.Td,{children:e.jsxs(C,{gap:"sm",children:[e.jsx(F,{style:{cursor:"pointer"},onClick:()=>i(s.id),size:"md",radius:"xl",variant:"filled",children:s.name.split(" ").map(o=>o[0]).join("").toUpperCase()}),e.jsx(u,{size:"sm",fw:600,style:{cursor:"pointer"},onClick:()=>i(s.id),children:s.name})]})}),e.jsx(t.Td,{children:e.jsx(Q,{variant:"light",size:"lg",radius:"sm",px:"md",style:{cursor:"pointer"},onClick:()=>d(s.clinicId),children:s.clinicName})})]},s.id))})]})]})}function ie(){const[c,n]=h.useState(!1),[l,a]=h.useState(!1),[i,d]=h.useState(""),[r,s]=h.useState({firstName:"",lastName:"",email:"",address:"",phoneNumber:"",selectedClinic:""}),{clinics:o,addDoctor:v,isAddingDoctor:y}=G(),N=S(),f=()=>{!o||o.length===0?a(!0):n(!0)},k=async()=>{if(r.firstName.trim()&&r.lastName.trim()&&r.email.trim()&&r.phoneNumber.trim())try{await v({clinicId:parseInt(r.selectedClinic),firstName:r.firstName.trim(),lastName:r.lastName.trim(),email:r.email.trim(),address:r.address.trim(),phoneNumber:r.phoneNumber.trim()}),s({firstName:"",lastName:"",email:"",address:"",phoneNumber:"",selectedClinic:""}),n(!1)}catch(m){console.error("Error adding doctor:",m)}};return e.jsxs(U,{pt:20,maw:1232,fluid:!0,children:[e.jsxs(_,{title:e.jsx(u,{fz:"lg",fw:700,children:"There is no Clinics"}),radius:"md",closeButtonProps:{radius:"xl"},centered:!0,opened:l,onClose:()=>a(!1),size:"md",children:[e.jsx(u,{fz:"sm",children:"You must create at least one clinic before adding a doctor."}),e.jsxs(C,{justify:"end",mt:"xl",children:[e.jsx(g,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(g,{bg:H.primaryColor,variant:"filled",onClick:()=>N("/clinics"),children:"Go to Clinics"})]})]}),e.jsxs(x,{children:[e.jsx($,{order:2,children:"Doctors"}),e.jsxs(C,{mt:60,justify:"space-between",children:[e.jsx(J,{size:"lg",placeholder:"Search doctors...",value:i,onChange:m=>d(m.target.value),leftSection:e.jsx(V,{size:16}),style:{flex:1,maxWidth:300},radius:"md"}),e.jsx(g,{size:"lg",variant:"outline",leftSection:e.jsx(W,{size:20}),onClick:f,radius:"xl",children:"Add New Doctor"})]}),e.jsx(D,{mb:20}),e.jsx(Y,{radius:"md",withBorder:!0,shadow:"sm",children:e.jsx(ee,{searchQuery:i})}),e.jsx(q,{opened:c,onClose:()=>n(!1),onSubmit:k,doctorData:r,setDoctorData:s,isLoading:y})]})]})}export{ie as default};
