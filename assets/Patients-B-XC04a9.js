import{r as O,l as F,m as Q,p as W,j as e,s as $,n as re,D as ae,E as ne,B as R,o as ce,x as le,z as g,q as oe,u as de,b as P,e as he,d as p,G as y,ae as ue,aF as me,C as pe,T as xe,a as je,av as fe,P as ge}from"./index-DpM1l42o.js";import{u as we}from"./useUserQueries-BehJ54vB.js";import{S as U,I as be}from"./IconUserOff-WtM0z4ya.js";import{T as i}from"./Table-Bz1HMw_i.js";import{I as Ce,a as ke,b as ve}from"./InputsGroupFieldset-ixEUhhMg.js";const q=O.createContext(null),Se=q.Provider,Te=()=>O.useContext(q),Pe={},z=F((c,a)=>{const{value:n,defaultValue:r,onChange:x,size:d,wrapperProps:l,children:h,readOnly:u,...s}=Q("SwitchGroup",Pe,c),[t,w]=W({value:n,defaultValue:r,finalValue:[],onChange:x}),b=k=>{const j=k.currentTarget.value;!u&&w(t.includes(j)?t.filter(N=>N!==j):[...t,j])};return e.jsx(Se,{value:{value:t,onChange:b,size:d},children:e.jsx($.Wrapper,{size:d,ref:a,...l,...s,labelElement:"div",__staticSelector:"SwitchGroup",children:e.jsx(Ce,{role:"group",children:h})})})});z.classes=$.Wrapper.classes;z.displayName="@mantine/core/SwitchGroup";var D={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const ye={labelPosition:"right",withThumbIndicator:!0},ze=ce((c,{radius:a,color:n,size:r})=>({root:{"--switch-radius":a===void 0?void 0:oe(a),"--switch-height":g(r,"switch-height"),"--switch-width":g(r,"switch-width"),"--switch-thumb-size":g(r,"switch-thumb-size"),"--switch-label-font-size":g(r,"switch-label-font-size"),"--switch-track-label-padding":g(r,"switch-track-label-padding"),"--switch-color":n?le(n,c):void 0}})),C=F((c,a)=>{const n=Q("Switch",ye,c),{classNames:r,className:x,style:d,styles:l,unstyled:h,vars:u,color:s,label:t,offLabel:w,onLabel:b,id:k,size:j,radius:N,wrapperProps:H,thumbIcon:_,checked:v,defaultChecked:J,onChange:S,labelPosition:I,description:K,error:G,disabled:L,variant:M,rootRef:X,mod:Y,withThumbIndicator:Z,...ee}=n,o=Te(),se=j||(o==null?void 0:o.size),f=re({name:"Switch",props:n,classes:D,className:x,style:d,classNames:r,styles:l,unstyled:h,vars:u,varsResolver:ze}),{styleProps:te,rest:B}=ae(ee),A=ne(k),m=o?{checked:o.value.includes(B.value),onChange:o.onChange}:{},[E,ie]=W({value:m.checked??v,defaultValue:J,finalValue:!1});return e.jsxs(ke,{...f("root"),__staticSelector:"Switch",__stylesApiProps:n,id:A,size:se,labelPosition:I,label:t,description:K,error:G,disabled:L,bodyElement:"label",labelElement:"span",classNames:r,styles:l,unstyled:h,"data-checked":m.checked||v||void 0,variant:M,ref:X,mod:Y,...te,...H,children:[e.jsx("input",{...B,disabled:L,checked:E,"data-checked":m.checked||v||void 0,onChange:T=>{var V;o?(V=m.onChange)==null||V.call(m,T):S==null||S(T),ie(T.currentTarget.checked)},id:A,ref:a,type:"checkbox",role:"switch",...f("input")}),e.jsxs(R,{"aria-hidden":"true",mod:{error:G,"label-position":I,"without-labels":!b&&!w},...f("track"),children:[e.jsx(R,{component:"span",mod:{"reduce-motion":!0,"with-thumb-indicator":Z&&!_},...f("thumb"),children:_}),e.jsx("span",{...f("trackLabel"),children:E?b:w})]})]})});C.classes={...D,...ve};C.displayName="@mantine/core/Switch";C.Group=z;function Ne({searchQuery:c=""}){const{patients:a,isLoading:n,banPatient:r,unbanPatient:x}=we(),d=de(),l=s=>{d(`/patients/${s}`)},h=(s,t)=>{t?x(s):r(s)},u=a.filter(s=>{const t=c.toLowerCase();return s.fullName.toLowerCase().includes(t)||s.email.toLowerCase().includes(t)||s.phoneNumber&&s.phoneNumber.toLowerCase().includes(t)||s.address&&s.address.toLowerCase().includes(t)});return n?e.jsxs(P,{children:[e.jsx(U,{height:40,radius:"sm"}),[1,2,3].map(s=>e.jsx(U,{height:50,radius:"sm",mt:"sm"},s))]}):e.jsxs(i,{highlightOnHover:!0,verticalSpacing:"sm",horizontalSpacing:"lg",children:[e.jsx(i.Thead,{children:e.jsxs(i.Tr,{children:[e.jsx(i.Th,{c:"dimmed",children:"Name"}),e.jsx(i.Th,{c:"dimmed",children:"Email"}),e.jsx(i.Th,{c:"dimmed",children:"Phone"}),e.jsx(i.Th,{c:"dimmed",children:"Status"})]})}),e.jsx(i.Tbody,{children:u.length===0?e.jsx(i.Tr,{children:e.jsx(i.Td,{colSpan:4,children:e.jsx(he,{py:"xl",children:e.jsxs(P,{align:"center",gap:"md",children:[e.jsx(be,{size:30,opacity:.4}),e.jsx(p,{size:"sm",c:"dimmed",children:a.length===0?"No patients found":"No patients match your search"})]})})})}):u.map(s=>e.jsxs(i.Tr,{style:{cursor:"pointer"},onClick:()=>l(s.id),children:[e.jsx(i.Td,{children:e.jsxs(y,{gap:"sm",children:[e.jsx(ue,{color:"#e7edf6",style:{cursor:"pointer"},onClick:()=>l(s.id),size:"md",radius:"xl",variant:"filled",children:e.jsx(p,{fz:"sm",children:s.fullName.split(" ").map(t=>t[0]).join("").toUpperCase()})}),e.jsx(p,{size:"sm",fw:600,style:{cursor:"pointer"},onClick:()=>l(s.id),children:s.fullName})]})}),e.jsx(i.Td,{children:e.jsx(p,{size:"sm",c:"dimmed",children:s.email})}),e.jsx(i.Td,{children:e.jsx(p,{size:"sm",c:"dimmed",children:s.phoneNumber||"N/A"})}),e.jsx(i.Td,{children:e.jsxs(y,{gap:"xs",align:"center",onClick:t=>t.stopPropagation(),children:[e.jsx(C,{checked:!s.isBanned,onChange:()=>h(s.id,s.isBanned),color:"green",size:"sm"}),e.jsx(p,{size:"xs",c:s.isBanned?"red":"dimmed",children:s.isBanned?"Banned":"Active"})]})})]},s.id))})]})}function Ae(){const{searchQuery:c}=me(),a=()=>{console.log("Add patient clicked")};return e.jsx(pe,{pt:12,maw:1232,fluid:!0,children:e.jsxs(P,{children:[e.jsx(xe,{fz:"24px",order:2,children:"Patients"}),e.jsx(y,{mt:40,justify:"flex-end",children:e.jsx(je,{size:"lg",variant:"outline",leftSection:e.jsx(fe,{size:20}),onClick:a,radius:"xl",children:"Add New Patient"})}),e.jsx(ge,{radius:"md",withBorder:!0,children:e.jsx(Ne,{searchQuery:c})})]})})}export{Ae as default};
