import{o as d,D as u,j as e,C as m,t as c,E as p,P as h,L as g,G as x,F as w,r as t,q as b,H as f,p as j}from"./index-BMuruI52.js";import{u as v,P as S,A as L}from"./useStore-C6C7qdrE.js";import{u as y}from"./use-form-SJ6bQh1n.js";const z=()=>{const o=d(),i=v(r=>r.isLoading),{handleLogin:n}=u(),a=y({initialValues:{email:"",password:""},validate:{email:r=>r?/^\S+@\S+$/.test(r)?null:"Invalid email address":"Email is required",password:r=>r?null:"Password is required"}}),l=async r=>{try{const s=await n({email:r.email,password:r.password,rememberMe:!1});if(!(s!=null&&s.success))throw new Error((s==null?void 0:s.error)||"Login failed")}catch(s){console.error("Login error:",s)}};return e.jsxs(m,{w:"100vw",h:"100vh",fluid:!0,bg:c.backgroundColor,children:[e.jsx(p,{h:"50"}),e.jsxs(h,{withBorder:!0,shadow:"md",radius:"lg",p:"xl",w:"100%",maw:400,mx:"auto",pos:"relative",children:[e.jsx(g,{visible:i,overlayProps:{blur:2}}),e.jsx(x,{pb:"md",justify:"center",children:e.jsx(w,{height:60,width:60,onClick:()=>o("/"),cursor:"pointer"})}),e.jsx(t,{size:"xl",ta:"center",mb:"xl",fw:500,children:"Login to your account"}),e.jsx("form",{onSubmit:a.onSubmit(l),children:e.jsxs(b,{gap:"md",children:[e.jsx(f,{required:!0,label:"Email",placeholder:"your@email.com",value:a.values.email,onChange:r=>a.setFieldValue("email",r.currentTarget.value),error:a.errors.email,radius:"md",disabled:i,size:"md"}),e.jsx(S,{required:!0,label:"Password",placeholder:"Your password",value:a.values.password,onChange:r=>a.setFieldValue("password",r.currentTarget.value),error:a.errors.password,radius:"md",disabled:i,size:"md"}),e.jsx(j,{type:"submit",radius:"xl",fullWidth:!0,loading:i,size:"lg",mt:"md",children:"Sign in"}),e.jsxs(t,{ta:"center",size:"sm",mt:"md",children:["Don't have an account?"," ",e.jsx(L,{component:"button",type:"button",onClick:()=>o("/register"),fw:500,disabled:i,children:"Sign up"})]})]})})]})]})};export{z as default};
