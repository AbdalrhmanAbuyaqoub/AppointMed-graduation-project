import{j as e,S as c,ah as h,U as i,t as g,T as n,G as o,A as T,ai as p,C,Y as P,F as z,P as N}from"./ui-DwlZS5FE.js";import{f as S,c as k}from"./appointments-D_E_DIOB.js";import{g as w}from"./chat-DfZj3kwJ.js";import{H as y,p as b}from"./icons-CEIuXgFH.js";import{u as v}from"./router-DP3ythCP.js";import"./vendor-DJG_os-6.js";import"./query-CPQchYQR.js";function B({searchQuery:l=""}){const{patients:d,isLoading:m,banPatient:x,unbanPatient:u}=S(),j=v(),a=s=>{j(`/patients/${s}`)},f=(s,r)=>{r?u(s):x(s)},t=d.filter(s=>{const r=l.toLowerCase();return s.fullName.toLowerCase().includes(r)||s.email.toLowerCase().includes(r)||s.phoneNumber&&s.phoneNumber.toLowerCase().includes(r)||s.address&&s.address.toLowerCase().includes(r)});return m?e.jsxs(c,{children:[e.jsx(h,{height:40,radius:"sm"}),[1,2,3].map(s=>e.jsx(h,{height:50,radius:"sm",mt:"sm"},s))]}):e.jsxs(i,{highlightOnHover:!0,verticalSpacing:"sm",horizontalSpacing:"lg",children:[e.jsx(i.Thead,{children:e.jsxs(i.Tr,{children:[e.jsx(i.Th,{c:"dimmed",children:"Name"}),e.jsx(i.Th,{c:"dimmed",children:"Email"}),e.jsx(i.Th,{c:"dimmed",children:"Phone"}),e.jsx(i.Th,{c:"dimmed",children:"Status"})]})}),e.jsx(i.Tbody,{children:t.length===0?e.jsx(i.Tr,{children:e.jsx(i.Td,{colSpan:4,children:e.jsx(g,{py:"xl",children:e.jsxs(c,{align:"center",gap:"md",children:[e.jsx(y,{size:30,opacity:.4}),e.jsx(n,{size:"sm",c:"dimmed",children:d.length===0?"No patients found":"No patients match your search"})]})})})}):t.map(s=>e.jsxs(i.Tr,{style:{cursor:"pointer"},onClick:()=>a(s.id),children:[e.jsx(i.Td,{children:e.jsxs(o,{gap:"sm",children:[e.jsx(T,{color:"#e7edf6",style:{cursor:"pointer"},onClick:()=>a(s.id),size:"md",radius:"xl",variant:"filled",children:e.jsx(n,{fz:"sm",children:w({fullName:s.fullName})})}),e.jsx(n,{size:"sm",fw:600,style:{cursor:"pointer"},onClick:()=>a(s.id),children:s.fullName})]})}),e.jsx(i.Td,{children:e.jsx(n,{size:"sm",c:"dimmed",children:s.email})}),e.jsx(i.Td,{children:e.jsx(n,{size:"sm",c:"dimmed",children:s.phoneNumber||"N/A"})}),e.jsx(i.Td,{children:e.jsxs(o,{gap:"xs",align:"center",onClick:r=>r.stopPropagation(),children:[e.jsx(p,{checked:!s.isBanned,onChange:()=>f(s.id,s.isBanned),color:"green",size:"sm"}),e.jsx(n,{size:"xs",c:s.isBanned?"red":"dimmed",children:s.isBanned?"Banned":"Active"})]})})]},s.id))})]})}function O(){const{searchQuery:l}=k(),d=()=>{console.log("Add patient clicked")};return e.jsx(C,{pt:12,maw:1232,fluid:!0,children:e.jsxs(c,{children:[e.jsx(P,{fz:"24px",order:2,children:"Patients"}),e.jsx(o,{mt:40,justify:"flex-end",children:e.jsx(z,{size:"lg",variant:"outline",leftSection:e.jsx(b,{size:20}),onClick:d,radius:"xl",children:"New Patient"})}),e.jsx(N,{radius:"md",withBorder:!0,children:e.jsx(B,{searchQuery:l})})]})})}export{O as default};
