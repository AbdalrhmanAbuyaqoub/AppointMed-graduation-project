import{r as C,Z as Qe,f as Z,b as ee,g as me,_ as Se,j as r,E as ce,l as ve,$ as os,U as jt,a0 as Js,a1 as Zs,n as Nt,w as en,a2 as Gt,e as Mt,d as is,a3 as tn,a4 as Ye,m as Ge,H as sn,a5 as nn,a6 as an,a7 as _e,X as kt,a8 as ls,h as Be,a9 as Me,aa as rn,ab as on,ac as ln,ad as Bt,ae as cn,k as Xe,af as Lt,c as dn,ag as cs,ah as qt,A as ds,ai as un,J as mn,N as fn,aj as pn,ak as us,S as je,L as hn,al as Tt,D as Kt,G as ge,v as He,B as De,am as Yt,an as bt,ao as yn,ap as gn,T as Ve,aq as vn,ar as Ce,as as Dn,M as bn,at as xn,C as wn,a as Sn,au as Cn,P as _n}from"./index-BiIiQAvW.js";import{u as jn}from"./use-form-Ca_RyFfh.js";import{i as kn,d as b,u as Ln,t as Tn}from"./timezone-CLG8JMUR.js";import{T as ae}from"./Table-DtU-MmB_.js";function Je(e,t,s){return t===void 0&&s===void 0?e:t!==void 0&&s===void 0?Math.max(e,t):Math.min(t===void 0&&s!==void 0?e:Math.max(e,t),s)}function Nn(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const s=Object.keys(e),{length:n}=s;if(n!==Object.keys(t).length)return!1;for(let a=0;a<n;a+=1){const o=s[a];if(!(o in t)||e[o]!==t[o])return!1}return!0}function Mn({timeout:e=2e3}={}){const[t,s]=C.useState(null),[n,a]=C.useState(!1),[o,c]=C.useState(null),u=m=>{window.clearTimeout(o),c(window.setTimeout(()=>a(!1),e)),a(m)};return{copy:m=>{"clipboard"in navigator?navigator.clipboard.writeText(m).then(()=>u(!0)).catch(l=>s(l)):s(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{a(!1),s(null),window.clearTimeout(o)},error:t,copied:n}}function Yn(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let s=0;s<e.length;s+=1)if(!Nn(e[s],t[s]))return!1;return!0}function Rn(e){const t=C.useRef([]),s=C.useRef(0);return Yn(t.current,e)||(t.current=e,s.current+=1),[s.current]}function An(e,t){C.useEffect(e,Rn(t))}function $n(e,t,s={autoInvoke:!1}){const n=C.useRef(null),a=C.useCallback((...c)=>{n.current||(n.current=window.setTimeout(()=>{e(c),n.current=null},t))},[t]),o=C.useCallback(()=>{n.current&&(window.clearTimeout(n.current),n.current=null)},[]);return C.useEffect(()=>(s.autoInvoke&&a(),o),[o,a]),{start:a,clear:o}}function Fn(e,t,s){const n=C.useRef(null),a=C.useRef(null);return C.useEffect(()=>{const o=typeof s=="function"?s():s;return(o||a.current)&&(n.current=new MutationObserver(e),n.current.observe(o||a.current,t)),()=>{var c;(c=n.current)==null||c.disconnect()}},[e,t]),a}function On(){const[e,t]=C.useState(!1);return C.useEffect(()=>t(!0),[]),e}var En={};function ms(){return typeof process<"u"&&En?"production":"development"}function zn(e,t){if(!t||!e)return!1;let s=t.parentNode;for(;s!=null;){if(s===e)return!0;s=s.parentNode}return!1}function Pn({target:e,parent:t,ref:s,displayAfterTransitionEnd:n}){const a=C.useRef(-1),[o,c]=C.useState(!1),[u,i]=C.useState(typeof n=="boolean"?n:!1),f=()=>{if(!e||!t||!s.current)return;const y=e.getBoundingClientRect(),d=t.getBoundingClientRect(),h=window.getComputedStyle(e),x=window.getComputedStyle(t),_=Qe(h.borderTopWidth)+Qe(x.borderTopWidth),N=Qe(h.borderLeftWidth)+Qe(x.borderLeftWidth),j={top:y.top-d.top-_,left:y.left-d.left-N,width:y.width,height:y.height};s.current.style.transform=`translateY(${j.top}px) translateX(${j.left}px)`,s.current.style.width=`${j.width}px`,s.current.style.height=`${j.height}px`},m=()=>{window.clearTimeout(a.current),s.current&&(s.current.style.transitionDuration="0ms"),f(),a.current=window.setTimeout(()=>{s.current&&(s.current.style.transitionDuration="")},30)},l=C.useRef(null),p=C.useRef(null);return C.useEffect(()=>{if(f(),e)return l.current=new ResizeObserver(m),l.current.observe(e),t&&(p.current=new ResizeObserver(m),p.current.observe(t)),()=>{var y,d;(y=l.current)==null||y.disconnect(),(d=p.current)==null||d.disconnect()}},[t,e]),C.useEffect(()=>{if(t){const y=d=>{zn(d.target,t)&&(m(),i(!1))};return t.addEventListener("transitionend",y),()=>{t.removeEventListener("transitionend",y)}}},[t]),$n(()=>{ms()!=="test"&&c(!0)},20,{autoInvoke:!0}),Fn(y=>{y.forEach(d=>{d.type==="attributes"&&d.attributeName==="dir"&&m()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:o,hidden:u}}var fs={root:"m_96b553a6"};const Hn={},Wn=ve((e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}})),Rt=Z((e,t)=>{const s=ee("FloatingIndicator",Hn,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,target:f,parent:m,transitionDuration:l,mod:p,displayAfterTransitionEnd:y,...d}=s,h=me({name:"FloatingIndicator",classes:fs,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:Wn}),x=C.useRef(null),{initialized:_,hidden:N}=Pn({target:f,parent:m,ref:x,displayAfterTransitionEnd:y}),j=Se(t,x);return!f||!m?null:r.jsx(ce,{ref:j,mod:[{initialized:_,hidden:N},p],...h("root"),...d})});Rt.displayName="@mantine/core/FloatingIndicator";Rt.classes=fs;var ps={root:"m_b183c0a2"};const In={},Vn=ve((e,{color:t})=>({root:{"--code-bg":t?os(t,e):void 0}})),At=Z((e,t)=>{const s=ee("Code",In,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,color:f,block:m,variant:l,mod:p,...y}=s,d=me({name:"Code",props:s,classes:ps,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:Vn});return r.jsx(ce,{component:m?"pre":"code",variant:l,ref:t,mod:[{block:m},p],...d("root"),...y,dir:"ltr"})});At.classes=ps;At.displayName="@mantine/core/Code";const Gn={timeout:1e3};function hs(e){const{children:t,timeout:s,value:n,...a}=ee("CopyButton",Gn,e),o=Mn({timeout:s}),c=()=>o.copy(n);return r.jsx(r.Fragment,{children:t({copy:c,copied:o.copied,...a})})}hs.displayName="@mantine/core/CopyButton";var Bn=function(t){var s=jt.useRef(t);return kn(function(){s.current=t}),s},Ut=function(t,s){if(typeof t=="function"){t(s);return}t.current=s},qn=function(t,s){var n=jt.useRef();return jt.useCallback(function(a){t.current=a,n.current&&Ut(n.current,null),n.current=s,s&&Ut(s,a)},[s])},Qt={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Kn=function(t){Object.keys(Qt).forEach(function(s){t.style.setProperty(s,Qt[s],"important")})},Xt=Kn,de=null,Jt=function(t,s){var n=t.scrollHeight;return s.sizingStyle.boxSizing==="border-box"?n+s.borderSize:n-s.paddingSize};function Un(e,t,s,n){s===void 0&&(s=1),n===void 0&&(n=1/0),de||(de=document.createElement("textarea"),de.setAttribute("tabindex","-1"),de.setAttribute("aria-hidden","true"),Xt(de)),de.parentNode===null&&document.body.appendChild(de);var a=e.paddingSize,o=e.borderSize,c=e.sizingStyle,u=c.boxSizing;Object.keys(c).forEach(function(p){var y=p;de.style[y]=c[y]}),Xt(de),de.value=t;var i=Jt(de,e);de.value=t,i=Jt(de,e),de.value="x";var f=de.scrollHeight-a,m=f*s;u==="border-box"&&(m=m+a+o),i=Math.max(m,i);var l=f*n;return u==="border-box"&&(l=l+a+o),i=Math.min(l,i),[i,f]}var Zt=function(){},Qn=function(t,s){return t.reduce(function(n,a){return n[a]=s[a],n},{})},Xn=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Jn=!!document.documentElement.currentStyle,Zn=function(t){var s=window.getComputedStyle(t);if(s===null)return null;var n=Qn(Xn,s),a=n.boxSizing;if(a==="")return null;Jn&&a==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var o=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),c=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:o,borderSize:c}},ea=Zn;function $t(e,t,s){var n=Bn(s);C.useLayoutEffect(function(){var a=function(c){return n.current(c)};if(e)return e.addEventListener(t,a),function(){return e.removeEventListener(t,a)}},[])}var ta=function(t,s){$t(document.body,"reset",function(n){t.current.form===n.target&&s(n)})},sa=function(t){$t(window,"resize",t)},na=function(t){$t(document.fonts,"loadingdone",t)},aa=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],ra=function(t,s){var n=t.cacheMeasurements,a=t.maxRows,o=t.minRows,c=t.onChange,u=c===void 0?Zt:c,i=t.onHeightChange,f=i===void 0?Zt:i,m=Js(t,aa),l=m.value!==void 0,p=C.useRef(null),y=qn(p,s),d=C.useRef(0),h=C.useRef(),x=function(){var j=p.current,A=n&&h.current?h.current:ea(j);if(A){h.current=A;var w=Un(A,j.value||j.placeholder||"x",o,a),v=w[0],M=w[1];d.current!==v&&(d.current=v,j.style.setProperty("height",v+"px","important"),f(v,{rowHeight:M}))}},_=function(j){l||x(),u(j)};return C.useLayoutEffect(x),ta(p,function(){if(!l){var N=p.current.value;requestAnimationFrame(function(){var j=p.current;j&&N!==j.value&&x()})}}),sa(x),na(x),C.createElement("textarea",Zs({},m,{onChange:_,ref:y}))},oa=C.forwardRef(ra);const ia={},Ft=Z((e,t)=>{const{autosize:s,maxRows:n,minRows:a,__staticSelector:o,resize:c,...u}=ee("Textarea",ia,e),i=s&&ms()!=="test",f=i?{maxRows:n,minRows:a}:{};return r.jsx(Nt,{component:i?oa:"textarea",ref:t,...u,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":s&&n===void 0||void 0,__vars:{"--input-resize":c},...f})});Ft.classes=Nt.classes;Ft.displayName="@mantine/core/Textarea";var ys={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const la={withItemsBorders:!0},ca=ve((e,{radius:t,color:s,transitionDuration:n,size:a,transitionTimingFunction:o})=>({root:{"--sc-radius":t===void 0?void 0:sn(t),"--sc-color":s?os(s,e):void 0,"--sc-shadow":s?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":n===void 0?void 0:`${n}ms`,"--sc-transition-timing-function":o,"--sc-padding":Ge(a,"sc-padding"),"--sc-font-size":Ye(a)}})),at=Z((e,t)=>{var se,Q;const s=ee("SegmentedControl",la,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,data:f,value:m,defaultValue:l,onChange:p,size:y,name:d,disabled:h,readOnly:x,fullWidth:_,orientation:N,radius:j,color:A,transitionDuration:w,transitionTimingFunction:v,variant:M,autoContrast:S,withItemsBorders:Y,mod:L,...k}=s,$=me({name:"SegmentedControl",props:s,classes:ys,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:ca}),P=en(),q=f.map(I=>typeof I=="string"?{label:I,value:I}:I),B=On(),[H,R]=C.useState(Gt()),[F,D]=C.useState(null),[E,g]=C.useState({}),T=(I,X)=>{E[X]=I,g(E)},[z,W]=Mt({value:m,defaultValue:l,finalValue:Array.isArray(f)?((se=q.find(I=>!I.disabled))==null?void 0:se.value)??((Q=f[0])==null?void 0:Q.value)??null:null,onChange:p}),K=is(d),te=q.map(I=>C.createElement(ce,{...$("control"),mod:{active:z===I.value,orientation:N},key:I.value},C.createElement("input",{...$("input"),disabled:h||I.disabled,type:"radio",name:K,value:I.value,id:`${K}-${I.value}`,checked:z===I.value,onChange:()=>!x&&W(I.value),"data-focus-ring":P.focusRing,key:`${I.value}-input`}),C.createElement(ce,{component:"label",...$("label"),mod:{active:z===I.value&&!(h||I.disabled),disabled:h||I.disabled,"read-only":x},htmlFor:`${K}-${I.value}`,ref:X=>T(X,I.value),__vars:{"--sc-label-color":A!==void 0?tn({color:A,theme:P,autoContrast:S}):void 0},key:`${I.value}-label`},r.jsx("span",{...$("innerLabel"),children:I.label})))),oe=Se(t,I=>D(I));return An(()=>{R(Gt())},[f.length]),f.length===0?null:r.jsxs(ce,{...$("root"),variant:M,size:y,ref:oe,mod:[{"full-width":_,orientation:N,initialized:B,"with-items-borders":Y},L],...k,role:"radiogroup","data-disabled":h,children:[typeof z=="string"&&r.jsx(Rt,{target:E[z],parent:F,component:"span",transitionDuration:"var(--sc-transition-duration)",...$("indicator")},H),te]})});at.classes=ys;at.displayName="@mantine/core/SegmentedControl";function da({direction:e,levelIndex:t,rowIndex:s,cellIndex:n,size:a}){switch(e){case"up":return t===0&&s===0?null:s===0?{levelIndex:t-1,rowIndex:n<=a[t-1][a[t-1].length-1]-1?a[t-1].length-1:a[t-1].length-2,cellIndex:n}:{levelIndex:t,rowIndex:s-1,cellIndex:n};case"down":return s===a[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:n}:s===a[t].length-2&&n>=a[t][a[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:n}:{levelIndex:t,rowIndex:s+1,cellIndex:n};case"left":return t===0&&s===0&&n===0?null:s===0&&n===0?{levelIndex:t-1,rowIndex:a[t-1].length-1,cellIndex:a[t-1][a[t-1].length-1]-1}:n===0?{levelIndex:t,rowIndex:s-1,cellIndex:a[t][s-1]-1}:{levelIndex:t,rowIndex:s,cellIndex:n-1};case"right":return s===a[t].length-1&&n===a[t][s]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:n===a[t][s]-1?{levelIndex:t,rowIndex:s+1,cellIndex:0}:{levelIndex:t,rowIndex:s,cellIndex:n+1};default:return{levelIndex:t,rowIndex:s,cellIndex:n}}}function gs({controlsRef:e,direction:t,levelIndex:s,rowIndex:n,cellIndex:a,size:o}){var i,f,m;const c=da({direction:t,size:o,rowIndex:n,cellIndex:a,levelIndex:s});if(!c)return;const u=(m=(f=(i=e.current)==null?void 0:i[c.levelIndex])==null?void 0:f[c.rowIndex])==null?void 0:m[c.cellIndex];u&&(u.disabled||u.getAttribute("data-hidden")||u.getAttribute("data-outside")?gs({controlsRef:e,direction:t,levelIndex:c.levelIndex,cellIndex:c.cellIndex,rowIndex:c.rowIndex,size:o}):u.focus())}function ua(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function ma(e){var t;return(t=e.current)==null?void 0:t.map(s=>s.map(n=>n.length))}function Ot({controlsRef:e,levelIndex:t,rowIndex:s,cellIndex:n,event:a}){const o=ua(a.key);if(o){a.preventDefault();const c=ma(e);gs({controlsRef:e,direction:o,levelIndex:t,rowIndex:s,cellIndex:n,size:c})}}function es(e,t){let s=e?b(e):b();if(t==="")return s.format("YYYY-MM-DD HH:mm:ss");const[n,a,o=0]=t.split(":").map(Number);return s=s.set("hour",n),s=s.set("minute",a),s=s.set("second",o),s=s.set("millisecond",0),s.format("YYYY-MM-DD HH:mm:ss")}function pe(e){return e==null?e:b(e).format("YYYY-MM-DD")}function Ne(e){return e==null?e:b(e).format("YYYY-MM-DD HH:mm:ss")}function xt(e,t,s){return!e&&!t?Ne(s):e&&b(s).isBefore(e)?Ne(e):t&&b(s).isAfter(t)?Ne(t):Ne(s)}function be(){const e=C.useContext(nn),t=C.useCallback(o=>o||e.locale,[e.locale]),s=C.useCallback(o=>typeof o=="number"?o:e.firstDayOfWeek,[e.firstDayOfWeek]),n=C.useCallback(o=>Array.isArray(o)?o:e.weekendDays,[e.weekendDays]),a=C.useCallback(o=>typeof o=="string"?o:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getFirstDayOfWeek:s,getWeekendDays:n,getLabelSeparator:a}}function fa({value:e,type:t,withTime:s}){const n=s?Ne:pe;if(t==="range"&&Array.isArray(e)){const a=n(e[0]),o=n(e[1]);return a?o?`${a} – ${o}`:`${a} –`:""}return t==="multiple"&&Array.isArray(e)?e.filter(Boolean).join(", "):!Array.isArray(e)&&e?n(e):""}function vs({value:e,type:t,name:s,form:n,withTime:a=!1}){return r.jsx("input",{type:"hidden",value:fa({value:e,type:t,withTime:a}),name:s,form:n})}vs.displayName="@mantine/dates/HiddenDatesInput";function le(e){return e<10?`0${e}`:`${e}`}const pa=e=>Number(e.toFixed(0)[0]),Ze=C.forwardRef(({value:e,min:t,max:s,onChange:n,focusable:a,step:o,onNextInput:c,onPreviousInput:u,onFocus:i,readOnly:f,...m},l)=>{const p=pa(s),y=h=>{if(f)return;const x=h.replace(/\D/g,"");if(x!==""){const _=Je(parseInt(x,10),t,s);n(_),_>p&&(c==null||c())}},d=h=>{if(!f){if((h.key==="0"||h.key==="Num0")&&e===0&&(h.preventDefault(),c==null||c()),h.key==="Home"&&(h.preventDefault(),n(t)),h.key==="End"&&(h.preventDefault(),n(s)),(h.key==="Backspace"||h.key==="Delete")&&(h.preventDefault(),e!==null?n(null):u==null||u()),h.key==="ArrowRight"&&(h.preventDefault(),c==null||c()),h.key==="ArrowLeft"&&(h.preventDefault(),u==null||u()),h.key==="ArrowUp"){h.preventDefault();const x=e===null?t:Je(e+o,t,s);n(x)}if(h.key==="ArrowDown"){h.preventDefault();const x=e===null?s:Je(e-o,t,s);n(x)}}};return r.jsx("input",{ref:l,type:"text",role:"spinbutton","aria-valuemin":t,"aria-valuemax":s,"aria-valuenow":e===null?0:e,"data-empty":e===null||void 0,inputMode:"numeric",placeholder:"--",value:e===null?"":le(e),onChange:h=>y(h.currentTarget.value),onKeyDown:d,onFocus:h=>{h.currentTarget.select(),i==null||i(h)},onClick:h=>{h.stopPropagation(),h.currentTarget.select()},onMouseDown:h=>h.stopPropagation(),...m})});Ze.displayName="@mantine/dates/SpinInput";const[ha,ke]=an("TimeInput component was not found in the component tree"),Ds=C.forwardRef(({labels:e,value:t,onChange:s,className:n,style:a,onPreviousInput:o,readOnly:c,onMouseDown:u,onTouchStart:i,inputType:f,...m},l)=>{const p=ke(),y=d=>{c||(d.key==="Home"&&(d.preventDefault(),s(e.am)),d.key==="End"&&(d.preventDefault(),s(e.pm)),(d.key==="Backspace"||d.key==="Delete")&&(d.preventDefault(),t===null?o==null||o():s(null)),d.key==="ArrowLeft"&&(d.preventDefault(),o==null||o()),(d.key==="ArrowUp"||d.key==="ArrowDown")&&(d.preventDefault(),s(t===e.am?e.pm:e.am)),d.code==="KeyA"&&(d.preventDefault(),s(e.am)),d.code==="KeyP"&&(d.preventDefault(),s(e.pm)))};return f==="input"?r.jsx("input",{...p.getStyles("field",{className:n,style:a}),ref:l,value:t||"--",onChange:d=>!c&&s(d.target.value||null),onClick:d=>d.stopPropagation(),onKeyDown:y,onMouseDown:d=>{d.stopPropagation(),u==null||u(d)},"data-am-pm":!0,...m}):r.jsxs("select",{...p.getStyles("field",{className:n,style:a}),ref:l,value:t||"",onChange:d=>!c&&s(d.target.value||null),onClick:d=>d.stopPropagation(),onKeyDown:y,onMouseDown:d=>{d.stopPropagation(),u==null||u(d)},"data-am-pm":!0,...m,children:[r.jsx("option",{value:"",children:"--"}),r.jsx("option",{value:e.am,children:e.am}),r.jsx("option",{value:e.pm,children:e.pm})]})});Ds.displayName="@mantine/dates/AmPmInput";function Et({value:e,active:t,onSelect:s}){const n=ke();return r.jsx(_e,{mod:{active:t},onClick:()=>s(e),onMouseDown:a=>a.preventDefault(),"data-value":e,tabIndex:-1,...n.getStyles("control"),children:typeof e=="number"?le(e):e})}Et.displayName="@mantine/dates/TimeControl";function bs({labels:e,value:t,onSelect:s}){const n=ke(),a=[e.am,e.pm].map(o=>r.jsx(Et,{value:o,active:t===o,onSelect:s},o));return r.jsx("div",{...n.getStyles("controlsList"),children:a})}bs.displayName="@mantine/dates/AmPmControlsList";function ya(e,t){if(!e||!t)return!1;const s=e.getBoundingClientRect(),n=t.getBoundingClientRect();return s.top>=n.top&&s.bottom<=n.bottom&&s.left>=n.left&&s.right<=n.right}function ga(e,t,s){const n=[];for(let a=e;a<=t;a+=s)n.push(a);return n}function et({min:e,max:t,step:s,value:n,onSelect:a}){const o=ke(),c=C.useRef(null),i=ga(e,t,s).map(f=>r.jsx(Et,{value:f,active:n===f,onSelect:a},f));return C.useEffect(()=>{var f;if(n){const m=(f=c.current)==null?void 0:f.querySelector(`[data-value="${n}"]`);ya(m,c.current)||m==null||m.scrollIntoView({block:"nearest"})}},[n]),r.jsx(kt,{h:o.maxDropdownContentHeight,type:"never",viewportRef:c,...o.getStyles("scrollarea"),...o.scrollAreaProps,children:r.jsx("div",{...o.getStyles("controlsList"),children:i})})}et.displayName="@mantine/dates/TimeControlsList";function st(e){const[t=null,s=null,n=null]=e.split(":").map(Number);return{hours:t,minutes:s,seconds:n}}function xs({time:e,compare:t,withSeconds:s}){const n=st(e),a=st(t);return s?n.hours===a.hours&&n.minutes===a.minutes&&n.seconds===a.seconds:n.hours===a.hours&&n.minutes===a.minutes}function va(e,t){return`${e.getHours()}:${e.getMinutes()}${t?`:${e.getSeconds()}`:""}`}function Da({value:e,format:t,amPmLabels:s,withSeconds:n}){const a=st(typeof e=="string"?e:va(e,n));if(a.hours===null||a.minutes===null)return null;if(t==="24h")return`${le(a.hours)}:${le(a.minutes)}${n?`:${le(a.seconds||0)}`:""}`;const o=a.hours>=12;return`${a.hours%12===0?12:a.hours%12}:${le(a.minutes)}${n?`:${le(a.seconds||0)}`:""} ${o?s.pm:s.am}`}function ws({value:e,format:t="24h",amPmLabels:s={am:"AM",pm:"PM"},withSeconds:n=!1}){return r.jsx(r.Fragment,{children:Da({value:e,format:t,amPmLabels:s,withSeconds:n})})}ws.displayName="@mantine/dates/TimeValue";function zt({value:e,active:t,onChange:s,format:n,amPmLabels:a,withSeconds:o}){const c=ke();return r.jsx(_e,{mod:{active:t},onClick:()=>s(e),...c.getStyles("presetControl"),children:r.jsx(ws,{withSeconds:o,value:e,format:n,amPmLabels:a})})}zt.displayName="@mantine/dates/TimePresetControl";function Ss({value:e,data:t,onChange:s,format:n,amPmLabels:a,withSeconds:o}){const c=ke(),u=t.values.map(i=>r.jsx(zt,{value:i,format:n,amPmLabels:a,withSeconds:o,active:xs({time:i,compare:e,withSeconds:o}),onChange:s},i));return r.jsxs("div",{...c.getStyles("presetsGroup"),children:[r.jsx("div",{...c.getStyles("presetsGroupLabel"),children:t.label}),r.jsx(ls,{cols:o?2:3,spacing:4,children:u})]})}Ss.displayName="@mantine/dates/TimePresetGroup";function Cs({presets:e,format:t,amPmLabels:s,withSeconds:n,value:a,onChange:o}){const c=ke();if(e.length===0)return null;if(typeof e[0]=="string"){const i=e.map(f=>r.jsx(zt,{value:f,format:t,amPmLabels:s,withSeconds:n,active:xs({time:f,compare:a,withSeconds:n}),onChange:o},f));return r.jsx(kt.Autosize,{mah:c.maxDropdownContentHeight,type:"never",...c.getStyles("scrollarea"),...c.scrollAreaProps,children:r.jsx("div",{...c.getStyles("presetsRoot"),children:r.jsx(ls,{cols:n?2:3,spacing:4,children:i})})})}const u=e.map((i,f)=>r.jsx(Ss,{data:i,value:a,format:t,amPmLabels:s,withSeconds:n,onChange:o},f));return r.jsx(kt.Autosize,{mah:c.maxDropdownContentHeight,type:"never",...c.getStyles("scrollarea"),...c.scrollAreaProps,children:r.jsx("div",{...c.getStyles("presetsRoot"),children:u})})}Cs.displayName="@mantine/dates/TimePresets";function wt(e){const[t=0,s=0,n=0]=e.split(":").map(Number);return t*3600+s*60+n}function ba(e){const t=Math.floor(e/3600),s=Math.floor(e%3600/60),n=e%60;return{timeString:`${le(t)}:${le(s)}:${le(n)}`,hours:t,minutes:s,seconds:n}}function ts(e,t,s){const n=wt(e),a=wt(t),o=wt(s),c=Math.max(a,Math.min(n,o));return ba(c)}function _s({hours:e,minutes:t,seconds:s,amPmLabels:n}){if(e===null)return{hours:null,minutes:null,seconds:null,amPm:null};const a=e>=12?n.pm:n.am;return{hours:e%12===0?12:e%12,minutes:typeof t=="number"?t:null,seconds:typeof s=="number"?s:null,amPm:a}}function Ie({time:e,format:t,amPmLabels:s}){if(e==="")return{hours:null,minutes:null,seconds:null,amPm:null};const{hours:n,minutes:a,seconds:o}=st(e),c={hours:n,minutes:a,seconds:o};return t==="12h"?_s({...c,amPmLabels:s}):{...c,amPm:null}}function xa({hours:e,minutes:t,seconds:s,amPm:n,amPmLabels:a,withSeconds:o}){let c=e;return n===a.pm&&e!==12?c+=12:n===a.am&&e===12&&(c=0),`${le(c)}:${le(t)}${o?`:${le(s||0)}`:""}`}function St({hours:e,minutes:t,seconds:s,format:n,withSeconds:a,amPm:o,amPmLabels:c}){return e===null||t===null?{valid:!1,value:""}:a&&s===null?{valid:!1,value:""}:n==="24h"?{valid:!0,value:`${le(e)}:${le(t)}${a?`:${le(s)}`:""}`}:o===null?{valid:!1,value:""}:{valid:!0,value:xa({hours:e,minutes:t,seconds:s,amPm:o,amPmLabels:c,withSeconds:a})}}function wa({value:e,defaultValue:t,onChange:s,format:n,amPmLabels:a,withSeconds:o=!1,min:c,max:u,clearable:i,readOnly:f,disabled:m,pasteSplit:l}){const p=Ie({time:e||t||"",amPmLabels:a,format:n}),y=C.useRef(!0),[d,h]=C.useState(p.hours),[x,_]=C.useState(p.minutes),[N,j]=C.useState(p.seconds),[A,w]=C.useState(p.amPm),v=i&&!f&&!m&&(d!==null||x!==null||N!==null||A!==null),M=C.useRef(null),S=C.useRef(null),Y=C.useRef(null),L=C.useRef(null),k=g=>{var T,z,W,K;g==="hours"&&((T=M.current)==null||T.focus()),g==="minutes"&&((z=S.current)==null||z.focus()),g==="seconds"&&((W=Y.current)==null||W.focus()),g==="amPm"&&((K=L.current)==null||K.focus())},$=(g,T)=>{const z={hours:d,minutes:x,seconds:N,amPm:A,[g]:T},W=St({...z,format:n,withSeconds:o,amPmLabels:a});if(W.valid){y.current=!1;const K=ts(W.value,c||"00:00:00",u||"23:59:59"),te=n==="12h"?_s({hours:K.hours,minutes:K.minutes,seconds:K.seconds,amPmLabels:a}):K;h(te.hours),_(te.minutes),j(te.seconds),s==null||s(K.timeString)}else y.current=!1,typeof e=="string"&&e!==""&&(s==null||s(""))},P=g=>{y.current=!1;const T=Ie({time:g,amPmLabels:a,format:n});h(T.hours),_(T.minutes),j(T.seconds),w(T.amPm),s==null||s(g)},q=g=>{h(g),$("hours",g),k("hours")},B=g=>{_(g),$("minutes",g),k("minutes")},H=g=>{j(g),$("seconds",g),k("seconds")},R=g=>{w(g),$("amPm",g),k("amPm")},F=()=>{y.current=!1,h(null),_(null),j(null),w(null),s==null||s(""),k("hours")},D=g=>{g.preventDefault();const T=g.clipboardData.getData("text"),z=(l||Ie)({time:T,format:n,amPmLabels:a}),W=St({...z,format:n,withSeconds:o,amPmLabels:a});if(W.valid){y.current=!1;const K=ts(W.value,c||"00:00:00",u||"23:59:59");s==null||s(K.timeString),h(z.hours),_(z.minutes),j(z.seconds),w(z.amPm)}},E=St({hours:d,minutes:x,seconds:N,format:n,withSeconds:o,amPm:A,amPmLabels:a});return C.useEffect(()=>{if(y.current&&typeof e=="string"){const g=Ie({time:e||"",amPmLabels:a,format:n});h(g.hours),_(g.minutes),j(g.seconds),w(g.amPm)}y.current=!0},[e]),{refs:{hours:M,minutes:S,seconds:Y,amPm:L},values:{hours:d,minutes:x,seconds:N,amPm:A},setHours:q,setMinutes:B,setSeconds:H,setAmPm:R,focus:k,clear:F,onPaste:D,setTimeString:P,isClearable:v,hiddenInputValue:E.value}}var js={fieldsRoot:"m_7a8f1e6d",fieldsGroup:"m_d6bb0a54",controlsList:"m_b97ecb26",controlsListGroup:"m_31fe42f9",dropdown:"m_9c4817c3",control:"m_154c536b",presetControl:"m_7be09d0c",presetsGroup:"m_7d00001d",presetsGroupLabel:"m_d8d918d7",field:"m_6b43ba88"};const Sa={hoursStep:1,minutesStep:1,secondsStep:1,format:"24h",amPmLabels:{am:"AM",pm:"PM"},withDropdown:!1,pasteSplit:Ie,maxDropdownContentHeight:200},Ca=ve((e,{size:t})=>({dropdown:{"--control-font-size":Ye(t)}})),Pt=Z((e,t)=>{const s=ee("TimePicker",Sa,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,onClick:f,format:m,value:l,defaultValue:p,onChange:y,hoursStep:d,minutesStep:h,secondsStep:x,withSeconds:_,hoursInputLabel:N,minutesInputLabel:j,secondsInputLabel:A,amPmInputLabel:w,amPmLabels:v,clearable:M,onMouseDown:S,onFocusCapture:Y,onBlurCapture:L,min:k,max:$,popoverProps:P,withDropdown:q,rightSection:B,onFocus:H,onBlur:R,clearButtonProps:F,hoursInputProps:D,minutesInputProps:E,secondsInputProps:g,amPmSelectProps:T,readOnly:z,disabled:W,size:K,name:te,form:oe,hiddenInputProps:se,labelProps:Q,pasteSplit:I,hoursRef:X,minutesRef:U,secondsRef:O,amPmRef:ue,presets:J,maxDropdownContentHeight:ie,scrollAreaProps:Ke,...Re}=s,{resolvedClassNames:Ae,resolvedStyles:$e}=Be({classNames:n,styles:c,props:s}),fe=me({name:"TimePicker",classes:js,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:Ca}),V=wa({value:l,defaultValue:p,onChange:y,format:m,amPmLabels:v,withSeconds:_,min:k,max:$,clearable:M,disabled:W,readOnly:z,pasteSplit:I}),Fe=Se(V.refs.hours,X),Oe=Se(V.refs.minutes,U),Ee=Se(V.refs.seconds,O),gt=Se(V.refs.amPm,ue),Ue=is(),ze=C.useRef(!1),[vt,Le]=C.useState(!1),he=G=>{ze.current||(ze.current=!0,H==null||H(G))},Dt=G=>{G.currentTarget.contains(G.relatedTarget)||(ze.current=!1,R==null||R(G))};return r.jsx(ha,{value:{getStyles:fe,scrollAreaProps:Ke,maxDropdownContentHeight:ie},children:r.jsxs(Me,{opened:q&&!z&&vt,transitionProps:{duration:0},position:"bottom-start",withRoles:!1,...P,children:[r.jsx(Me.Target,{children:r.jsxs(Nt,{component:"div",size:K,disabled:W,ref:t,onClick:G=>{f==null||f(G),V.focus("hours")},onMouseDown:G=>{G.preventDefault(),S==null||S(G)},onFocusCapture:G=>{Le(!0),Y==null||Y(G)},onBlurCapture:G=>{Le(!1),L==null||L(G)},rightSection:B||V.isClearable&&r.jsx(rn,{...F,size:K,onClick:G=>{var ne;V.clear(),(ne=F==null?void 0:F.onClick)==null||ne.call(F,G)},onMouseDown:G=>{var ne;G.preventDefault(),(ne=F==null?void 0:F.onMouseDown)==null||ne.call(F,G)}}),labelProps:{htmlFor:Ue,...Q},style:o,className:a,classNames:Ae,styles:$e,__staticSelector:"TimePicker",...Re,children:[r.jsx("div",{...fe("fieldsRoot"),dir:"ltr",children:r.jsxs("div",{...fe("fieldsGroup"),onBlur:Dt,children:[r.jsx(Ze,{id:Ue,...D,...fe("field",{className:D==null?void 0:D.className,style:D==null?void 0:D.style}),value:V.values.hours,onChange:V.setHours,onNextInput:()=>V.focus("minutes"),min:m==="12h"?1:0,max:m==="12h"?12:23,focusable:!0,step:d,ref:Fe,"aria-label":N,readOnly:z,disabled:W,onPaste:V.onPaste,onFocus:G=>{var ne;he(G),(ne=D==null?void 0:D.onFocus)==null||ne.call(D,G)}}),r.jsx("span",{children:":"}),r.jsx(Ze,{...E,...fe("field",{className:E==null?void 0:E.className,style:E==null?void 0:E.style}),value:V.values.minutes,onChange:V.setMinutes,min:0,max:59,focusable:!0,step:h,ref:Oe,onPreviousInput:()=>V.focus("hours"),onNextInput:()=>_?V.focus("seconds"):V.focus("amPm"),"aria-label":j,tabIndex:-1,readOnly:z,disabled:W,onPaste:V.onPaste,onFocus:G=>{var ne;he(G),(ne=E==null?void 0:E.onFocus)==null||ne.call(E,G)}}),_&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:":"}),r.jsx(Ze,{...g,...fe("field",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),value:V.values.seconds,onChange:V.setSeconds,min:0,max:59,focusable:!0,step:x,ref:Ee,onPreviousInput:()=>V.focus("minutes"),onNextInput:()=>V.focus("amPm"),"aria-label":A,tabIndex:-1,readOnly:z,disabled:W,onPaste:V.onPaste,onFocus:G=>{var ne;he(G),(ne=g==null?void 0:g.onFocus)==null||ne.call(g,G)}})]}),m==="12h"&&r.jsx(Ds,{...T,inputType:q?"input":"select",labels:v,value:V.values.amPm,onChange:V.setAmPm,ref:gt,"aria-label":w,onPreviousInput:()=>_?V.focus("seconds"):V.focus("minutes"),readOnly:z,disabled:W,tabIndex:-1,onPaste:V.onPaste,onFocus:G=>{var ne;he(G),(ne=T==null?void 0:T.onFocus)==null||ne.call(T,G)}})]})}),r.jsx("input",{type:"hidden",name:te,form:oe,value:V.hiddenInputValue,...se})]})}),r.jsx(Me.Dropdown,{...fe("dropdown"),onMouseDown:G=>G.preventDefault(),children:J?r.jsx(Cs,{value:V.hiddenInputValue,onChange:V.setTimeString,format:m,presets:J,amPmLabels:v,withSeconds:_||!1}):r.jsxs("div",{...fe("controlsListGroup"),children:[r.jsx(et,{min:m==="12h"?1:0,max:m==="12h"?12:23,step:d,value:V.values.hours,onSelect:V.setHours}),r.jsx(et,{min:0,max:59,step:h,value:V.values.minutes,onSelect:V.setMinutes}),_&&r.jsx(et,{min:0,max:59,step:x,value:V.values.seconds,onSelect:V.setSeconds}),m==="12h"&&r.jsx(bs,{labels:v,value:V.values.amPm,onSelect:V.setAmPm})]})})]})})});Pt.displayName="@mantine/dates/TimePicker";Pt.classes=js;var ks={day:"m_396ce5cb"};const _a={},ja=ve((e,{size:t})=>({day:{"--day-size":Ge(t,"day-size")}})),Ht=Z((e,t)=>{const s=ee("Day",_a,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,date:f,disabled:m,__staticSelector:l,weekend:p,outside:y,selected:d,renderDay:h,inRange:x,firstInRange:_,lastInRange:N,hidden:j,static:A,highlightToday:w,...v}=s,M=me({name:l||"Day",classes:ks,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:ja,rootSelector:"day"});return r.jsx(_e,{...M("day",{style:j?{display:"none"}:void 0}),component:A?"div":"button",ref:t,disabled:m,"data-today":b(f).isSame(new Date,"day")||void 0,"data-hidden":j||void 0,"data-highlight-today":w||void 0,"data-disabled":m||void 0,"data-weekend":!m&&!y&&p||void 0,"data-outside":!m&&y||void 0,"data-selected":!m&&d||void 0,"data-in-range":x&&!m||void 0,"data-first-in-range":_&&!m||void 0,"data-last-in-range":N&&!m||void 0,"data-static":A||void 0,unstyled:u,...v,children:(h==null?void 0:h(f))||b(f).date()})});Ht.classes=ks;Ht.displayName="@mantine/dates/Day";function ka({locale:e,format:t="dd",firstDayOfWeek:s=1}){const n=b().day(s),a=[];for(let o=0;o<7;o+=1)typeof t=="string"?a.push(b(n).add(o,"days").locale(e).format(t)):a.push(t(b(n).add(o,"days").format("YYYY-MM-DD")));return a}var Ls={weekday:"m_18a3eca"};const La={},Ta=ve((e,{size:t})=>({weekdaysRow:{"--wr-fz":Ye(t),"--wr-spacing":on(t)}})),Wt=Z((e,t)=>{const s=ee("WeekdaysRow",La,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,locale:f,firstDayOfWeek:m,weekdayFormat:l,cellComponent:p="th",__staticSelector:y,withWeekNumbers:d,...h}=s,x=me({name:y||"WeekdaysRow",classes:Ls,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:Ta,rootSelector:"weekdaysRow"}),_=be(),N=ka({locale:_.getLocale(f),format:l,firstDayOfWeek:_.getFirstDayOfWeek(m)}).map((j,A)=>r.jsx(p,{...x("weekday"),children:j},A));return r.jsxs(ce,{component:"tr",ref:t,...x("weekdaysRow"),...h,children:[d&&r.jsx(p,{...x("weekday"),children:"#"}),N]})});Wt.classes=Ls;Wt.displayName="@mantine/dates/WeekdaysRow";function Na(e,t=1){let s=b(e);const n=t===0?6:t-1;for(;s.day()!==n;)s=s.add(1,"day");return s.format("YYYY-MM-DD")}function Ma(e,t=1){let s=b(e);for(;s.day()!==t;)s=s.subtract(1,"day");return s.format("YYYY-MM-DD")}function Ya({month:e,firstDayOfWeek:t=1,consistentWeeks:s}){const n=b(e).subtract(b(e).date()-1,"day"),a=b(n.format("YYYY-M-D")),o=a.format("YYYY-MM-DD"),c=a.add(+a.daysInMonth()-1,"day").format("YYYY-MM-DD"),u=Na(c,t),i=[];let f=b(Ma(o,t));for(;b(f).isBefore(u,"day");){const m=[];for(let l=0;l<7;l+=1)m.push(f.format("YYYY-MM-DD")),f=f.add(1,"day");i.push(m)}if(s&&i.length<6){const m=i[i.length-1],l=m[m.length-1];let p=b(l).add(1,"day");for(;i.length<6;){const y=[];for(let d=0;d<7;d+=1)y.push(p.format("YYYY-MM-DD")),p=p.add(1,"day");i.push(y)}}return i}function Ts(e,t){return b(e).format("YYYY-MM")===b(t).format("YYYY-MM")}function Ns(e,t){return t?b(e).isAfter(b(t).subtract(1,"day"),"day"):!0}function Ms(e,t){return t?b(e).isBefore(b(t).add(1,"day"),"day"):!0}function Ra({dates:e,minDate:t,maxDate:s,getDayProps:n,excludeDate:a,hideOutsideDates:o,month:c}){const u=e.flat().filter(m=>{var l;return Ms(m,s)&&Ns(m,t)&&!(a!=null&&a(m))&&!((l=n==null?void 0:n(m))!=null&&l.disabled)&&(!o||Ts(m,c))}),i=u.find(m=>{var l;return(l=n==null?void 0:n(m))==null?void 0:l.selected});if(i)return i;const f=u.find(m=>b().isSame(m,"date"));return f||u[0]}var tt={exports:{}},Aa=tt.exports,ss;function $a(){return ss||(ss=1,function(e,t){(function(s,n){e.exports=n()})(Aa,function(){var s="day";return function(n,a,o){var c=function(f){return f.add(4-f.isoWeekday(),s)},u=a.prototype;u.isoWeekYear=function(){return c(this).year()},u.isoWeek=function(f){if(!this.$utils().u(f))return this.add(7*(f-this.isoWeek()),s);var m,l,p,y,d=c(this),h=(m=this.isoWeekYear(),l=this.$u,p=(l?o.utc:o)().year(m).startOf("year"),y=4-p.isoWeekday(),p.isoWeekday()>4&&(y+=7),p.add(y,s));return d.diff(h,"week")+1},u.isoWeekday=function(f){return this.$utils().u(f)?this.day()||7:this.day(this.day()%7?f:f-7)};var i=u.startOf;u.startOf=function(f,m){var l=this.$utils(),p=!!l.u(m)||m;return l.p(f)==="isoweek"?p?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):i.bind(this)(f,m)}}})}(tt)),tt.exports}var Fa=$a();const Oa=ln(Fa);b.extend(Oa);function Ea(e){const t=e.find(s=>b(s).day()===1);return b(t).isoWeek()}var Ys={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const za={withCellSpacing:!0},Pa=ve((e,{size:t})=>({weekNumber:{"--wn-fz":Ye(t),"--wn-size":Ge(t,"wn-size")}})),rt=Z((e,t)=>{const s=ee("Month",za,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,__staticSelector:f,locale:m,firstDayOfWeek:l,weekdayFormat:p,month:y,weekendDays:d,getDayProps:h,excludeDate:x,minDate:_,maxDate:N,renderDay:j,hideOutsideDates:A,hideWeekdays:w,getDayAriaLabel:v,static:M,__getDayRef:S,__onDayKeyDown:Y,__onDayClick:L,__onDayMouseEnter:k,__preventFocus:$,__stopPropagation:P,withCellSpacing:q,size:B,highlightToday:H,withWeekNumbers:R,...F}=s,D=me({name:f||"Month",classes:Ys,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:Pa,rootSelector:"month"}),E=be(),g=Ya({month:y,firstDayOfWeek:E.getFirstDayOfWeek(l),consistentWeeks:E.consistentWeeks}),T=Ra({dates:g,minDate:pe(_),maxDate:pe(N),getDayProps:h,excludeDate:x,hideOutsideDates:A,month:y}),{resolvedClassNames:z,resolvedStyles:W}=Be({classNames:n,styles:c,props:s}),K=g.map((te,oe)=>{const se=te.map((Q,I)=>{const X=!Ts(Q,y),U=(v==null?void 0:v(Q))||b(Q).locale(m||E.locale).format("D MMMM YYYY"),O=h==null?void 0:h(Q),ue=b(Q).isSame(T,"date");return r.jsx("td",{...D("monthCell"),"data-with-spacing":q||void 0,children:r.jsx(Ht,{__staticSelector:f||"Month",classNames:z,styles:W,unstyled:u,"data-mantine-stop-propagation":P||void 0,highlightToday:H,renderDay:j,date:Q,size:B,weekend:E.getWeekendDays(d).includes(b(Q).get("day")),outside:X,hidden:A?X:!1,"aria-label":U,static:M,disabled:(x==null?void 0:x(Q))||!Ms(Q,pe(N))||!Ns(Q,pe(_)),ref:J=>S==null?void 0:S(oe,I,J),...O,onKeyDown:J=>{var ie;(ie=O==null?void 0:O.onKeyDown)==null||ie.call(O,J),Y==null||Y(J,{rowIndex:oe,cellIndex:I,date:Q})},onMouseEnter:J=>{var ie;(ie=O==null?void 0:O.onMouseEnter)==null||ie.call(O,J),k==null||k(J,Q)},onClick:J=>{var ie;(ie=O==null?void 0:O.onClick)==null||ie.call(O,J),L==null||L(J,Q)},onMouseDown:J=>{var ie;(ie=O==null?void 0:O.onMouseDown)==null||ie.call(O,J),$&&J.preventDefault()},tabIndex:$||!ue?-1:0})},Q.toString())});return r.jsxs("tr",{...D("monthRow"),children:[R&&r.jsx("td",{...D("weekNumber"),children:Ea(te)}),se]},oe)});return r.jsxs(ce,{component:"table",...D("month"),size:B,ref:t,...F,children:[!w&&r.jsx("thead",{...D("monthThead"),children:r.jsx(Wt,{__staticSelector:f||"Month",locale:m,firstDayOfWeek:l,weekdayFormat:p,size:B,classNames:z,styles:W,unstyled:u,withWeekNumbers:R})}),r.jsx("tbody",{...D("monthTbody"),children:K})]})});rt.classes=Ys;rt.displayName="@mantine/dates/Month";var Rs={pickerControl:"m_dc6a3c71"};const Ha={},Wa=ve((e,{size:t})=>({pickerControl:{"--dpc-fz":Ye(t),"--dpc-size":Ge(t,"dpc-size")}})),ot=Z((e,t)=>{const s=ee("PickerControl",Ha,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,firstInRange:f,lastInRange:m,inRange:l,__staticSelector:p,selected:y,disabled:d,...h}=s,x=me({name:p||"PickerControl",classes:Rs,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:Wa,rootSelector:"pickerControl"});return r.jsx(_e,{...x("pickerControl"),ref:t,unstyled:u,"data-picker-control":!0,"data-selected":y&&!d||void 0,"data-disabled":d||void 0,"data-in-range":l&&!d&&!y||void 0,"data-first-in-range":f&&!d||void 0,"data-last-in-range":m&&!d||void 0,disabled:d,...h})});ot.classes=Rs;ot.displayName="@mantine/dates/PickerControl";function As({year:e,minDate:t,maxDate:s}){return!t&&!s?!1:!!(t&&b(e).isBefore(t,"year")||s&&b(e).isAfter(s,"year"))}function Ia({years:e,minDate:t,maxDate:s,getYearControlProps:n}){const a=e.flat().filter(u=>{var i;return!As({year:u,minDate:t,maxDate:s})&&!((i=n==null?void 0:n(u))!=null&&i.disabled)}),o=a.find(u=>{var i;return(i=n==null?void 0:n(u))==null?void 0:i.selected});if(o)return o;const c=a.find(u=>b().isSame(u,"year"));return c||a[0]}function $s(e){const t=b(e).year(),s=t-t%10;let n=0;const a=[[],[],[],[]];for(let o=0;o<4;o+=1){const c=o===3?1:3;for(let u=0;u<c;u+=1)a[o].push(b(new Date(s+n,0)).format("YYYY-MM-DD")),n+=1}return a}var Fs={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const Va={yearsListFormat:"YYYY",withCellSpacing:!0},it=Z((e,t)=>{const s=ee("YearsList",Va,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,decade:f,yearsListFormat:m,locale:l,minDate:p,maxDate:y,getYearControlProps:d,__staticSelector:h,__getControlRef:x,__onControlKeyDown:_,__onControlClick:N,__onControlMouseEnter:j,__preventFocus:A,__stopPropagation:w,withCellSpacing:v,size:M,...S}=s,Y=me({name:h||"YearsList",classes:Fs,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,rootSelector:"yearsList"}),L=be(),k=$s(f),$=Ia({years:k,minDate:p,maxDate:y,getYearControlProps:d}),P=k.map((q,B)=>{const H=q.map((R,F)=>{const D=d==null?void 0:d(R),E=b(R).isSame($,"year");return r.jsx("td",{...Y("yearsListCell"),"data-with-spacing":v||void 0,children:r.jsx(ot,{...Y("yearsListControl"),size:M,unstyled:u,"data-mantine-stop-propagation":w||void 0,disabled:As({year:R,minDate:p,maxDate:y}),ref:g=>x==null?void 0:x(B,F,g),...D,onKeyDown:g=>{var T;(T=D==null?void 0:D.onKeyDown)==null||T.call(D,g),_==null||_(g,{rowIndex:B,cellIndex:F,date:R})},onClick:g=>{var T;(T=D==null?void 0:D.onClick)==null||T.call(D,g),N==null||N(g,R)},onMouseEnter:g=>{var T;(T=D==null?void 0:D.onMouseEnter)==null||T.call(D,g),j==null||j(g,R)},onMouseDown:g=>{var T;(T=D==null?void 0:D.onMouseDown)==null||T.call(D,g),A&&g.preventDefault()},tabIndex:A||!E?-1:0,children:b(R).locale(L.getLocale(l)).format(m)})},F)});return r.jsx("tr",{...Y("yearsListRow"),children:H},B)});return r.jsx(ce,{component:"table",ref:t,size:M,...Y("yearsList"),...S,children:r.jsx("tbody",{children:P})})});it.classes=Fs;it.displayName="@mantine/dates/YearsList";function Os({month:e,minDate:t,maxDate:s}){return!t&&!s?!1:!!(t&&b(e).isBefore(t,"month")||s&&b(e).isAfter(s,"month"))}function Ga({months:e,minDate:t,maxDate:s,getMonthControlProps:n}){const a=e.flat().filter(u=>{var i;return!Os({month:u,minDate:t,maxDate:s})&&!((i=n==null?void 0:n(u))!=null&&i.disabled)}),o=a.find(u=>{var i;return(i=n==null?void 0:n(u))==null?void 0:i.selected});if(o)return o;const c=a.find(u=>b().isSame(u,"month"));return c||a[0]}function Ba(e){const t=b(e).startOf("year").toDate(),s=[[],[],[],[]];let n=0;for(let a=0;a<4;a+=1)for(let o=0;o<3;o+=1)s[a].push(b(t).add(n,"months").format("YYYY-MM-DD")),n+=1;return s}var Es={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const qa={monthsListFormat:"MMM",withCellSpacing:!0},lt=Z((e,t)=>{const s=ee("MonthsList",qa,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,__staticSelector:f,year:m,monthsListFormat:l,locale:p,minDate:y,maxDate:d,getMonthControlProps:h,__getControlRef:x,__onControlKeyDown:_,__onControlClick:N,__onControlMouseEnter:j,__preventFocus:A,__stopPropagation:w,withCellSpacing:v,size:M,...S}=s,Y=me({name:f||"MonthsList",classes:Es,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,rootSelector:"monthsList"}),L=be(),k=Ba(m),$=Ga({months:k,minDate:pe(y),maxDate:pe(d),getMonthControlProps:h}),P=k.map((q,B)=>{const H=q.map((R,F)=>{const D=h==null?void 0:h(R),E=b(R).isSame($,"month");return r.jsx("td",{...Y("monthsListCell"),"data-with-spacing":v||void 0,children:r.jsx(ot,{...Y("monthsListControl"),size:M,unstyled:u,__staticSelector:f||"MonthsList","data-mantine-stop-propagation":w||void 0,disabled:Os({month:R,minDate:pe(y),maxDate:pe(d)}),ref:g=>x==null?void 0:x(B,F,g),...D,onKeyDown:g=>{var T;(T=D==null?void 0:D.onKeyDown)==null||T.call(D,g),_==null||_(g,{rowIndex:B,cellIndex:F,date:R})},onClick:g=>{var T;(T=D==null?void 0:D.onClick)==null||T.call(D,g),N==null||N(g,R)},onMouseEnter:g=>{var T;(T=D==null?void 0:D.onMouseEnter)==null||T.call(D,g),j==null||j(g,R)},onMouseDown:g=>{var T;(T=D==null?void 0:D.onMouseDown)==null||T.call(D,g),A&&g.preventDefault()},tabIndex:A||!E?-1:0,children:b(R).locale(L.getLocale(p)).format(l)})},F)});return r.jsx("tr",{...Y("monthsListRow"),children:H},B)});return r.jsx(ce,{component:"table",ref:t,size:M,...Y("monthsList"),...S,children:r.jsx("tbody",{children:P})})});lt.classes=Es;lt.displayName="@mantine/dates/MonthsList";var zs={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const Ka={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},Ua=ve((e,{size:t})=>({calendarHeader:{"--dch-control-size":Ge(t,"dch-control-size"),"--dch-fz":Ye(t)}})),xe=Z((e,t)=>{const s=ee("CalendarHeader",Ka,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,nextIcon:f,previousIcon:m,nextLabel:l,previousLabel:p,onNext:y,onPrevious:d,onLevelClick:h,label:x,nextDisabled:_,previousDisabled:N,hasNextLevel:j,levelControlAriaLabel:A,withNext:w,withPrevious:v,__staticSelector:M,__preventFocus:S,__stopPropagation:Y,...L}=s,k=me({name:M||"CalendarHeader",classes:zs,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:Ua,rootSelector:"calendarHeader"}),$=S?P=>P.preventDefault():void 0;return r.jsxs(ce,{...k("calendarHeader"),ref:t,...L,children:[v&&r.jsx(_e,{...k("calendarHeaderControl"),"data-direction":"previous","aria-label":p,onClick:d,unstyled:u,onMouseDown:$,disabled:N,"data-disabled":N||void 0,tabIndex:S||N?-1:0,"data-mantine-stop-propagation":Y||void 0,children:m||r.jsx(Bt,{...k("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})}),r.jsx(_e,{component:j?"button":"div",...k("calendarHeaderLevel"),onClick:j?h:void 0,unstyled:u,onMouseDown:j?$:void 0,disabled:!j,"data-static":!j||void 0,"aria-label":A,tabIndex:S||!j?-1:0,"data-mantine-stop-propagation":Y||void 0,children:x}),w&&r.jsx(_e,{...k("calendarHeaderControl"),"data-direction":"next","aria-label":l,onClick:y,unstyled:u,onMouseDown:$,disabled:_,"data-disabled":_||void 0,tabIndex:S||_?-1:0,"data-mantine-stop-propagation":Y||void 0,children:f||r.jsx(Bt,{...k("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})})]})});xe.classes=zs;xe.displayName="@mantine/dates/CalendarHeader";function Qa(e){const t=$s(e);return[t[0][0],t[3][0]]}const Xa={decadeLabelFormat:"YYYY"},ct=Z((e,t)=>{const s=ee("DecadeLevel",Xa,e),{decade:n,locale:a,minDate:o,maxDate:c,yearsListFormat:u,getYearControlProps:i,__getControlRef:f,__onControlKeyDown:m,__onControlClick:l,__onControlMouseEnter:p,withCellSpacing:y,__preventFocus:d,nextIcon:h,previousIcon:x,nextLabel:_,previousLabel:N,onNext:j,onPrevious:A,nextDisabled:w,previousDisabled:v,levelControlAriaLabel:M,withNext:S,withPrevious:Y,decadeLabelFormat:L,classNames:k,styles:$,unstyled:P,__staticSelector:q,__stopPropagation:B,size:H,...R}=s,F=be(),[D,E]=Qa(n),g={__staticSelector:q||"DecadeLevel",classNames:k,styles:$,unstyled:P,size:H},T=typeof w=="boolean"?w:c?!b(E).endOf("year").isBefore(c):!1,z=typeof v=="boolean"?v:o?!b(D).startOf("year").isAfter(o):!1,W=(K,te)=>b(K).locale(a||F.locale).format(te);return r.jsxs(ce,{"data-decade-level":!0,size:H,ref:t,...R,children:[r.jsx(xe,{label:typeof L=="function"?L(D,E):`${W(D,L)} – ${W(E,L)}`,__preventFocus:d,__stopPropagation:B,nextIcon:h,previousIcon:x,nextLabel:_,previousLabel:N,onNext:j,onPrevious:A,nextDisabled:T,previousDisabled:z,hasNextLevel:!1,levelControlAriaLabel:M,withNext:S,withPrevious:Y,...g}),r.jsx(it,{decade:n,locale:a,minDate:o,maxDate:c,yearsListFormat:u,getYearControlProps:i,__getControlRef:f,__onControlKeyDown:m,__onControlClick:l,__onControlMouseEnter:p,__preventFocus:d,__stopPropagation:B,withCellSpacing:y,...g})]})});ct.classes={...it.classes,...xe.classes};ct.displayName="@mantine/dates/DecadeLevel";const Ja={yearLabelFormat:"YYYY"},dt=Z((e,t)=>{const s=ee("YearLevel",Ja,e),{year:n,locale:a,minDate:o,maxDate:c,monthsListFormat:u,getMonthControlProps:i,__getControlRef:f,__onControlKeyDown:m,__onControlClick:l,__onControlMouseEnter:p,withCellSpacing:y,__preventFocus:d,nextIcon:h,previousIcon:x,nextLabel:_,previousLabel:N,onNext:j,onPrevious:A,onLevelClick:w,nextDisabled:v,previousDisabled:M,hasNextLevel:S,levelControlAriaLabel:Y,withNext:L,withPrevious:k,yearLabelFormat:$,__staticSelector:P,__stopPropagation:q,size:B,classNames:H,styles:R,unstyled:F,...D}=s,E=be(),g={__staticSelector:P||"YearLevel",classNames:H,styles:R,unstyled:F,size:B},T=typeof v=="boolean"?v:c?!b(n).endOf("year").isBefore(c):!1,z=typeof M=="boolean"?M:o?!b(n).startOf("year").isAfter(o):!1;return r.jsxs(ce,{"data-year-level":!0,size:B,ref:t,...D,children:[r.jsx(xe,{label:typeof $=="function"?$(n):b(n).locale(a||E.locale).format($),__preventFocus:d,__stopPropagation:q,nextIcon:h,previousIcon:x,nextLabel:_,previousLabel:N,onNext:j,onPrevious:A,onLevelClick:w,nextDisabled:T,previousDisabled:z,hasNextLevel:S,levelControlAriaLabel:Y,withNext:L,withPrevious:k,...g}),r.jsx(lt,{year:n,locale:a,minDate:o,maxDate:c,monthsListFormat:u,getMonthControlProps:i,__getControlRef:f,__onControlKeyDown:m,__onControlClick:l,__onControlMouseEnter:p,__preventFocus:d,__stopPropagation:q,withCellSpacing:y,...g})]})});dt.classes={...xe.classes,...lt.classes};dt.displayName="@mantine/dates/YearLevel";const Za={monthLabelFormat:"MMMM YYYY"},ut=Z((e,t)=>{const s=ee("MonthLevel",Za,e),{month:n,locale:a,firstDayOfWeek:o,weekdayFormat:c,weekendDays:u,getDayProps:i,excludeDate:f,minDate:m,maxDate:l,renderDay:p,hideOutsideDates:y,hideWeekdays:d,getDayAriaLabel:h,__getDayRef:x,__onDayKeyDown:_,__onDayClick:N,__onDayMouseEnter:j,withCellSpacing:A,highlightToday:w,withWeekNumbers:v,__preventFocus:M,__stopPropagation:S,nextIcon:Y,previousIcon:L,nextLabel:k,previousLabel:$,onNext:P,onPrevious:q,onLevelClick:B,nextDisabled:H,previousDisabled:R,hasNextLevel:F,levelControlAriaLabel:D,withNext:E,withPrevious:g,monthLabelFormat:T,classNames:z,styles:W,unstyled:K,__staticSelector:te,size:oe,static:se,...Q}=s,I=be(),X={__staticSelector:te||"MonthLevel",classNames:z,styles:W,unstyled:K,size:oe},U=typeof H=="boolean"?H:l?!b(n).endOf("month").isBefore(l):!1,O=typeof R=="boolean"?R:m?!b(n).startOf("month").isAfter(m):!1;return r.jsxs(ce,{"data-month-level":!0,size:oe,ref:t,...Q,children:[r.jsx(xe,{label:typeof T=="function"?T(n):b(n).locale(a||I.locale).format(T),__preventFocus:M,__stopPropagation:S,nextIcon:Y,previousIcon:L,nextLabel:k,previousLabel:$,onNext:P,onPrevious:q,onLevelClick:B,nextDisabled:U,previousDisabled:O,hasNextLevel:F,levelControlAriaLabel:D,withNext:E,withPrevious:g,...X}),r.jsx(rt,{month:n,locale:a,firstDayOfWeek:o,weekdayFormat:c,weekendDays:u,getDayProps:i,excludeDate:f,minDate:m,maxDate:l,renderDay:p,hideOutsideDates:y,hideWeekdays:d,getDayAriaLabel:h,__getDayRef:x,__onDayKeyDown:_,__onDayClick:N,__onDayMouseEnter:j,__preventFocus:M,__stopPropagation:S,static:se,withCellSpacing:A,highlightToday:w,withWeekNumbers:v,...X})]})});ut.classes={...rt.classes,...xe.classes};ut.displayName="@mantine/dates/MonthLevel";var Ps={levelsGroup:"m_30b26e33"};const er={},we=Z((e,t)=>{const s=ee("LevelsGroup",er,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,__staticSelector:f,...m}=s,l=me({name:f||"LevelsGroup",classes:Ps,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,rootSelector:"levelsGroup"});return r.jsx(ce,{ref:t,...l("levelsGroup"),...m})});we.classes=Ps;we.displayName="@mantine/dates/LevelsGroup";const tr={numberOfColumns:1},mt=Z((e,t)=>{const s=ee("DecadeLevelGroup",tr,e),{decade:n,locale:a,minDate:o,maxDate:c,yearsListFormat:u,getYearControlProps:i,__onControlClick:f,__onControlMouseEnter:m,withCellSpacing:l,__preventFocus:p,nextIcon:y,previousIcon:d,nextLabel:h,previousLabel:x,onNext:_,onPrevious:N,nextDisabled:j,previousDisabled:A,classNames:w,styles:v,unstyled:M,__staticSelector:S,__stopPropagation:Y,numberOfColumns:L,levelControlAriaLabel:k,decadeLabelFormat:$,size:P,vars:q,...B}=s,H=C.useRef([]),R=Array(L).fill(0).map((F,D)=>{const E=b(n).add(D*10,"years").format("YYYY-MM-DD");return r.jsx(ct,{size:P,yearsListFormat:u,decade:E,withNext:D===L-1,withPrevious:D===0,decadeLabelFormat:$,__onControlClick:f,__onControlMouseEnter:m,__onControlKeyDown:(g,T)=>Ot({levelIndex:D,rowIndex:T.rowIndex,cellIndex:T.cellIndex,event:g,controlsRef:H}),__getControlRef:(g,T,z)=>{Array.isArray(H.current[D])||(H.current[D]=[]),Array.isArray(H.current[D][g])||(H.current[D][g]=[]),H.current[D][g][T]=z},levelControlAriaLabel:typeof k=="function"?k(E):k,locale:a,minDate:o,maxDate:c,__preventFocus:p,__stopPropagation:Y,nextIcon:y,previousIcon:d,nextLabel:h,previousLabel:x,onNext:_,onPrevious:N,nextDisabled:j,previousDisabled:A,getYearControlProps:i,__staticSelector:S||"DecadeLevelGroup",classNames:w,styles:v,unstyled:M,withCellSpacing:l},D)});return r.jsx(we,{classNames:w,styles:v,__staticSelector:S||"DecadeLevelGroup",ref:t,size:P,unstyled:M,...B,children:R})});mt.classes={...we.classes,...ct.classes};mt.displayName="@mantine/dates/DecadeLevelGroup";const sr={numberOfColumns:1},ft=Z((e,t)=>{const s=ee("YearLevelGroup",sr,e),{year:n,locale:a,minDate:o,maxDate:c,monthsListFormat:u,getMonthControlProps:i,__onControlClick:f,__onControlMouseEnter:m,withCellSpacing:l,__preventFocus:p,nextIcon:y,previousIcon:d,nextLabel:h,previousLabel:x,onNext:_,onPrevious:N,onLevelClick:j,nextDisabled:A,previousDisabled:w,hasNextLevel:v,classNames:M,styles:S,unstyled:Y,__staticSelector:L,__stopPropagation:k,numberOfColumns:$,levelControlAriaLabel:P,yearLabelFormat:q,size:B,vars:H,...R}=s,F=C.useRef([]),D=Array($).fill(0).map((E,g)=>{const T=b(n).add(g,"years").format("YYYY-MM-DD");return r.jsx(dt,{size:B,monthsListFormat:u,year:T,withNext:g===$-1,withPrevious:g===0,yearLabelFormat:q,__stopPropagation:k,__onControlClick:f,__onControlMouseEnter:m,__onControlKeyDown:(z,W)=>Ot({levelIndex:g,rowIndex:W.rowIndex,cellIndex:W.cellIndex,event:z,controlsRef:F}),__getControlRef:(z,W,K)=>{Array.isArray(F.current[g])||(F.current[g]=[]),Array.isArray(F.current[g][z])||(F.current[g][z]=[]),F.current[g][z][W]=K},levelControlAriaLabel:typeof P=="function"?P(T):P,locale:a,minDate:o,maxDate:c,__preventFocus:p,nextIcon:y,previousIcon:d,nextLabel:h,previousLabel:x,onNext:_,onPrevious:N,onLevelClick:j,nextDisabled:A,previousDisabled:w,hasNextLevel:v,getMonthControlProps:i,classNames:M,styles:S,unstyled:Y,__staticSelector:L||"YearLevelGroup",withCellSpacing:l},g)});return r.jsx(we,{classNames:M,styles:S,__staticSelector:L||"YearLevelGroup",ref:t,size:B,unstyled:Y,...R,children:D})});ft.classes={...dt.classes,...we.classes};ft.displayName="@mantine/dates/YearLevelGroup";const nr={numberOfColumns:1},pt=Z((e,t)=>{const s=ee("MonthLevelGroup",nr,e),{month:n,locale:a,firstDayOfWeek:o,weekdayFormat:c,weekendDays:u,getDayProps:i,excludeDate:f,minDate:m,maxDate:l,renderDay:p,hideOutsideDates:y,hideWeekdays:d,getDayAriaLabel:h,__onDayClick:x,__onDayMouseEnter:_,withCellSpacing:N,highlightToday:j,withWeekNumbers:A,__preventFocus:w,nextIcon:v,previousIcon:M,nextLabel:S,previousLabel:Y,onNext:L,onPrevious:k,onLevelClick:$,nextDisabled:P,previousDisabled:q,hasNextLevel:B,classNames:H,styles:R,unstyled:F,numberOfColumns:D,levelControlAriaLabel:E,monthLabelFormat:g,__staticSelector:T,__stopPropagation:z,size:W,static:K,vars:te,...oe}=s,se=C.useRef([]),Q=Array(D).fill(0).map((I,X)=>{const U=b(n).add(X,"months").format("YYYY-MM-DD");return r.jsx(ut,{month:U,withNext:X===D-1,withPrevious:X===0,monthLabelFormat:g,__stopPropagation:z,__onDayClick:x,__onDayMouseEnter:_,__onDayKeyDown:(O,ue)=>Ot({levelIndex:X,rowIndex:ue.rowIndex,cellIndex:ue.cellIndex,event:O,controlsRef:se}),__getDayRef:(O,ue,J)=>{Array.isArray(se.current[X])||(se.current[X]=[]),Array.isArray(se.current[X][O])||(se.current[X][O]=[]),se.current[X][O][ue]=J},levelControlAriaLabel:typeof E=="function"?E(U):E,locale:a,firstDayOfWeek:o,weekdayFormat:c,weekendDays:u,getDayProps:i,excludeDate:f,minDate:m,maxDate:l,renderDay:p,hideOutsideDates:y,hideWeekdays:d,getDayAriaLabel:h,__preventFocus:w,nextIcon:v,previousIcon:M,nextLabel:S,previousLabel:Y,onNext:L,onPrevious:k,onLevelClick:$,nextDisabled:P,previousDisabled:q,hasNextLevel:B,classNames:H,styles:R,unstyled:F,__staticSelector:T||"MonthLevelGroup",size:W,static:K,withCellSpacing:N,highlightToday:j,withWeekNumbers:A},X)});return r.jsx(we,{classNames:H,styles:R,__staticSelector:T||"MonthLevelGroup",ref:t,size:W,...oe,children:Q})});pt.classes={...we.classes,...ut.classes};pt.displayName="@mantine/dates/MonthLevelGroup";var Hs={input:"m_6fa5e2aa"};const ar={},ht=Z((e,t)=>{const{inputProps:s,wrapperProps:n,placeholder:a,classNames:o,styles:c,unstyled:u,popoverProps:i,modalProps:f,dropdownType:m,children:l,formattedValue:p,dropdownHandlers:y,dropdownOpened:d,onClick:h,clearable:x,onClear:_,clearButtonProps:N,rightSection:j,shouldClear:A,readOnly:w,disabled:v,value:M,name:S,form:Y,type:L,onDropdownClose:k,withTime:$,...P}=cn("PickerInputBase",ar,e),q=r.jsx(Xe.ClearButton,{onClick:_,unstyled:u,...N}),B=()=>{L==="range"&&Array.isArray(M)&&M[0]&&!M[1]&&_(),y.close(),k==null||k()};return r.jsxs(r.Fragment,{children:[m==="modal"&&!w&&r.jsx(Lt,{opened:d,onClose:B,withCloseButton:!1,size:"auto","data-dates-modal":!0,unstyled:u,...f,children:l}),r.jsx(Xe.Wrapper,{...n,children:r.jsxs(Me,{position:"bottom-start",opened:d,trapFocus:!0,returnFocus:!1,unstyled:u,...i,disabled:(i==null?void 0:i.disabled)||m==="modal"||w,onChange:H=>{var R;H||((R=i==null?void 0:i.onClose)==null||R.call(i),B())},children:[r.jsx(Me.Target,{children:r.jsx(Xe,{"data-dates-input":!0,"data-read-only":w||void 0,disabled:v,component:"button",type:"button",multiline:!0,onClick:H=>{h==null||h(H),y.toggle()},__clearSection:q,__clearable:x&&A&&!w&&!v,rightSection:j,...s,ref:t,classNames:{...o,input:dn(Hs.input,o==null?void 0:o.input)},...P,children:p||r.jsx(Xe.Placeholder,{error:s.error,unstyled:u,className:o==null?void 0:o.placeholder,style:c==null?void 0:c.placeholder,children:a})})}),r.jsx(Me.Dropdown,{"data-dates-dropdown":!0,children:l})]})}),r.jsx(vs,{value:M,name:S,form:Y,type:L,withTime:$})]})});ht.classes=Hs;ht.displayName="@mantine/dates/PickerInputBase";const ns=e=>e==="range"?[null,null]:e==="multiple"?[]:null,as=(e,t)=>{const s=t?Ne:pe;return Array.isArray(e)?e.map(s):s(e)};function It({type:e,value:t,defaultValue:s,onChange:n,withTime:a=!1}){const o=C.useRef(e),[c,u,i]=Mt({value:as(t,a),defaultValue:as(s,a),finalValue:ns(e),onChange:n});let f=c;return o.current!==e&&(o.current=e,t===void 0&&(f=s!==void 0?s:ns(e),u(f))),[f,u,i]}function Ct(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function rr(e){return e===0?"month":e===1?"year":"decade"}function We(e,t,s){return rr(Je(Ct(e,0),Ct(t,0),Ct(s,2)))}const or={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},yt=Z((e,t)=>{const s=ee("Calendar",or,e),{vars:n,maxLevel:a,minLevel:o,defaultLevel:c,level:u,onLevelChange:i,date:f,defaultDate:m,onDateChange:l,numberOfColumns:p,columnsToScroll:y,ariaLabels:d,nextLabel:h,previousLabel:x,onYearSelect:_,onMonthSelect:N,onYearMouseEnter:j,onMonthMouseEnter:A,__updateDateOnYearSelect:w,__updateDateOnMonthSelect:v,firstDayOfWeek:M,weekdayFormat:S,weekendDays:Y,getDayProps:L,excludeDate:k,renderDay:$,hideOutsideDates:P,hideWeekdays:q,getDayAriaLabel:B,monthLabelFormat:H,nextIcon:R,previousIcon:F,__onDayClick:D,__onDayMouseEnter:E,withCellSpacing:g,highlightToday:T,withWeekNumbers:z,monthsListFormat:W,getMonthControlProps:K,yearLabelFormat:te,yearsListFormat:oe,getYearControlProps:se,decadeLabelFormat:Q,classNames:I,styles:X,unstyled:U,minDate:O,maxDate:ue,locale:J,__staticSelector:ie,size:Ke,__preventFocus:Re,__stopPropagation:Ae,onNextDecade:$e,onPreviousDecade:fe,onNextYear:V,onPreviousYear:Fe,onNextMonth:Oe,onPreviousMonth:Ee,static:gt,...Ue}=s,{resolvedClassNames:ze,resolvedStyles:vt}=Be({classNames:I,styles:X,props:s}),[Le,he]=Mt({value:u?We(u,o,a):void 0,defaultValue:c?We(c,o,a):void 0,finalValue:We(void 0,o,a),onChange:i}),[Dt,G]=It({type:"default",value:pe(f),defaultValue:pe(m),onChange:l}),ne={__staticSelector:ie||"Calendar",styles:vt,classNames:ze,unstyled:U,size:Ke},Te=y||p||1,Vt=new Date,Gs=O&&b(Vt).isAfter(O)?O:b(Vt).format("YYYY-MM-DD"),ye=Dt||Gs,Bs=()=>{const re=b(ye).add(Te,"month").format("YYYY-MM-DD");Oe==null||Oe(re),G(re)},qs=()=>{const re=b(ye).subtract(Te,"month").format("YYYY-MM-DD");Ee==null||Ee(re),G(re)},Ks=()=>{const re=b(ye).add(Te,"year").format("YYYY-MM-DD");V==null||V(re),G(re)},Us=()=>{const re=b(ye).subtract(Te,"year").format("YYYY-MM-DD");Fe==null||Fe(re),G(re)},Qs=()=>{const re=b(ye).add(10*Te,"year").format("YYYY-MM-DD");$e==null||$e(re),G(re)},Xs=()=>{const re=b(ye).subtract(10*Te,"year").format("YYYY-MM-DD");fe==null||fe(re),G(re)};return r.jsxs(ce,{ref:t,size:Ke,"data-calendar":!0,...Ue,children:[Le==="month"&&r.jsx(pt,{month:ye,minDate:O,maxDate:ue,firstDayOfWeek:M,weekdayFormat:S,weekendDays:Y,getDayProps:L,excludeDate:k,renderDay:$,hideOutsideDates:P,hideWeekdays:q,getDayAriaLabel:B,onNext:Bs,onPrevious:qs,hasNextLevel:a!=="month",onLevelClick:()=>he("year"),numberOfColumns:p,locale:J,levelControlAriaLabel:d==null?void 0:d.monthLevelControl,nextLabel:(d==null?void 0:d.nextMonth)??h,nextIcon:R,previousLabel:(d==null?void 0:d.previousMonth)??x,previousIcon:F,monthLabelFormat:H,__onDayClick:D,__onDayMouseEnter:E,__preventFocus:Re,__stopPropagation:Ae,static:gt,withCellSpacing:g,highlightToday:T,withWeekNumbers:z,...ne}),Le==="year"&&r.jsx(ft,{year:ye,numberOfColumns:p,minDate:O,maxDate:ue,monthsListFormat:W,getMonthControlProps:K,locale:J,onNext:Ks,onPrevious:Us,hasNextLevel:a!=="month"&&a!=="year",onLevelClick:()=>he("decade"),levelControlAriaLabel:d==null?void 0:d.yearLevelControl,nextLabel:(d==null?void 0:d.nextYear)??h,nextIcon:R,previousLabel:(d==null?void 0:d.previousYear)??x,previousIcon:F,yearLabelFormat:te,__onControlMouseEnter:A,__onControlClick:(re,Pe)=>{v&&G(Pe),he(We("month",o,a)),N==null||N(Pe)},__preventFocus:Re,__stopPropagation:Ae,withCellSpacing:g,...ne}),Le==="decade"&&r.jsx(mt,{decade:ye,minDate:O,maxDate:ue,yearsListFormat:oe,getYearControlProps:se,locale:J,onNext:Qs,onPrevious:Xs,numberOfColumns:p,nextLabel:(d==null?void 0:d.nextDecade)??h,nextIcon:R,previousLabel:(d==null?void 0:d.previousDecade)??x,previousIcon:F,decadeLabelFormat:Q,__onControlMouseEnter:j,__onControlClick:(re,Pe)=>{w&&G(Pe),he(We("year",o,a)),_==null||_(Pe)},__preventFocus:Re,__stopPropagation:Ae,withCellSpacing:g,...ne})]})});yt.classes={...mt.classes,...ft.classes,...pt.classes};yt.displayName="@mantine/dates/Calendar";function ir(e){const{maxLevel:t,minLevel:s,defaultLevel:n,level:a,onLevelChange:o,nextIcon:c,previousIcon:u,date:i,defaultDate:f,onDateChange:m,numberOfColumns:l,columnsToScroll:p,ariaLabels:y,nextLabel:d,previousLabel:h,onYearSelect:x,onMonthSelect:_,onYearMouseEnter:N,onMonthMouseEnter:j,onNextMonth:A,onPreviousMonth:w,onNextYear:v,onPreviousYear:M,onNextDecade:S,onPreviousDecade:Y,withCellSpacing:L,highlightToday:k,__updateDateOnYearSelect:$,__updateDateOnMonthSelect:P,withWeekNumbers:q,firstDayOfWeek:B,weekdayFormat:H,weekendDays:R,getDayProps:F,excludeDate:D,renderDay:E,hideOutsideDates:g,hideWeekdays:T,getDayAriaLabel:z,monthLabelFormat:W,monthsListFormat:K,getMonthControlProps:te,yearLabelFormat:oe,yearsListFormat:se,getYearControlProps:Q,decadeLabelFormat:I,allowSingleDateInRange:X,allowDeselect:U,minDate:O,maxDate:ue,locale:J,...ie}=e;return{calendarProps:{maxLevel:t,minLevel:s,defaultLevel:n,level:a,onLevelChange:o,nextIcon:c,previousIcon:u,date:i,defaultDate:f,onDateChange:m,numberOfColumns:l,columnsToScroll:p,ariaLabels:y,nextLabel:d,previousLabel:h,onYearSelect:x,onMonthSelect:_,onYearMouseEnter:N,onMonthMouseEnter:j,onNextMonth:A,onPreviousMonth:w,onNextYear:v,onPreviousYear:M,onNextDecade:S,onPreviousDecade:Y,withCellSpacing:L,highlightToday:k,__updateDateOnYearSelect:$,__updateDateOnMonthSelect:P,withWeekNumbers:q,firstDayOfWeek:B,weekdayFormat:H,weekendDays:R,getDayProps:F,excludeDate:D,renderDay:E,hideOutsideDates:g,hideWeekdays:T,getDayAriaLabel:z,monthLabelFormat:W,monthsListFormat:K,getMonthControlProps:te,yearLabelFormat:oe,yearsListFormat:se,getYearControlProps:Q,decadeLabelFormat:I,allowSingleDateInRange:X,allowDeselect:U,minDate:O,maxDate:ue,locale:J},others:ie}}function rs(e,t){const s=[...t].sort((n,a)=>b(n).isAfter(b(a))?1:-1);return b(s[0]).startOf("day").subtract(1,"ms").isBefore(e)&&b(s[1]).endOf("day").add(1,"ms").isAfter(e)}function lr({type:e,level:t,value:s,defaultValue:n,onChange:a,allowSingleDateInRange:o,allowDeselect:c,onMouseLeave:u}){const[i,f]=It({type:e,value:s,defaultValue:n,onChange:a}),[m,l]=C.useState(e==="range"&&i[0]&&!i[1]?i[0]:null),[p,y]=C.useState(null),d=w=>{if(e==="range"){if(m&&!i[1]){if(b(w).isSame(m,t)&&!o){l(null),y(null),f([null,null]);return}const v=[w,m];v.sort((M,S)=>b(M).isAfter(b(S))?1:-1),f(v),y(null),l(null);return}if(i[0]&&!i[1]&&b(w).isSame(i[0],t)&&!o){l(null),y(null),f([null,null]);return}f([w,null]),y(null),l(w);return}if(e==="multiple"){i.some(v=>b(v).isSame(w,t))?f(i.filter(v=>!b(v).isSame(w,t))):f([...i,w]);return}i&&c&&b(w).isSame(i,t)?f(null):f(w)},h=w=>m&&p?rs(w,[p,m]):i[0]&&i[1]?rs(w,i):!1,x=e==="range"?w=>{u==null||u(w),y(null)}:u,_=w=>i[0]&&b(w).isSame(i[0],t)?!(p&&b(p).isBefore(i[0])):!1,N=w=>i[1]?b(w).isSame(i[1],t):!i[0]||!p?!1:b(p).isBefore(i[0])&&b(w).isSame(i[0],t),j=w=>{if(e==="range")return{selected:i.some(M=>M&&b(M).isSame(w,t)),inRange:h(w),firstInRange:_(w),lastInRange:N(w),"data-autofocus":!!i[0]&&b(i[0]).isSame(w,t)||void 0};if(e==="multiple")return{selected:i.some(M=>M&&b(M).isSame(w,t)),"data-autofocus":!!i[0]&&b(i[0]).isSame(w,t)||void 0};const v=b(i).isSame(w,t);return{selected:v,"data-autofocus":v||void 0}},A=e==="range"&&m?y:()=>{};return C.useEffect(()=>{if(e==="range")if(i[0]&&!i[1])l(i[0]);else{const w=i[0]==null&&i[1]==null,v=i[0]!=null&&i[1]!=null;(w||v)&&(l(null),y(null))}},[i]),{onDateChange:d,onRootMouseLeave:x,onHoveredDateChange:A,getControlProps:j,_value:i,setValue:f}}const cr={type:"default",defaultLevel:"month",numberOfColumns:1},qe=Z((e,t)=>{const s=ee("DatePicker",cr,e),{classNames:n,styles:a,vars:o,type:c,defaultValue:u,value:i,onChange:f,__staticSelector:m,getDayProps:l,allowSingleDateInRange:p,allowDeselect:y,onMouseLeave:d,numberOfColumns:h,hideOutsideDates:x,__onDayMouseEnter:_,__onDayClick:N,...j}=s,{onDateChange:A,onRootMouseLeave:w,onHoveredDateChange:v,getControlProps:M}=lr({type:c,level:"day",allowDeselect:y,allowSingleDateInRange:p,value:i,defaultValue:u,onChange:f,onMouseLeave:d}),{resolvedClassNames:S,resolvedStyles:Y}=Be({classNames:n,styles:a,props:s});return r.jsx(yt,{ref:t,minLevel:"month",classNames:S,styles:Y,__staticSelector:m||"DatePicker",onMouseLeave:w,numberOfColumns:h,hideOutsideDates:x??h!==1,__onDayMouseEnter:(L,k)=>{v(k),_==null||_(L,k)},__onDayClick:(L,k)=>{A(k),N==null||N(L,k)},getDayProps:L=>({...M(L),...l==null?void 0:l(L)}),...j})});qe.classes=yt.classes;qe.displayName="@mantine/dates/DatePicker";function dr({minDate:e,value:t}){const s=e?b(e).format("HH:mm:ss"):null;return t&&e&&t===e?s??void 0:void 0}function ur({maxDate:e,value:t}){const s=e?b(e).format("HH:mm:ss"):null;return t&&e&&t===e?s??void 0:void 0}var Ws={timeWrapper:"m_208d2562",timeInput:"m_62ee059"};const mr={dropdownType:"popover"},nt=Z((e,t)=>{const s=ee("DateTimePicker",mr,e),{value:n,defaultValue:a,onChange:o,valueFormat:c,locale:u,classNames:i,styles:f,unstyled:m,timePickerProps:l,submitButtonProps:p,withSeconds:y,level:d,defaultLevel:h,size:x,variant:_,dropdownType:N,vars:j,minDate:A,maxDate:w,...v}=s,M=me({name:"DateTimePicker",classes:Ws,props:s,classNames:i,styles:f,unstyled:m,vars:j}),{resolvedClassNames:S,resolvedStyles:Y}=Be({classNames:i,styles:f,props:s}),L=c||(y?"DD/MM/YYYY HH:mm:ss":"DD/MM/YYYY HH:mm"),k=C.useRef(null),$=Se(k,l==null?void 0:l.hoursRef),{calendarProps:{allowSingleDateInRange:P,...q},others:B}=ir(v),H=be(),[R,F]=It({type:"default",value:n,defaultValue:a,onChange:o,withTime:!0}),D=U=>U?b(U).format(y?"HH:mm:ss":"HH:mm"):"",[E,g]=C.useState(D(R)),[T,z]=C.useState(d||h||"month"),[W,K]=cs(!1),te=R?b(R).locale(H.getLocale(u)).format(L):"",oe=U=>{var O;(O=l==null?void 0:l.onChange)==null||O.call(l,U),g(U),U&&F(es(R,U))},se=U=>{var O;U&&F(es(xt(A,w,U),E)),(O=k.current)==null||O.focus()},Q=U=>{U.key==="Enter"&&(U.preventDefault(),K.close())};qt(()=>{W||g(D(R))},[R,W]),qt(()=>{W&&z("month")},[W]);const I=N==="popover",X=()=>{const U=xt(A,w,R);R&&R!==U&&F(xt(A,w,R))};return r.jsxs(ht,{formattedValue:te,dropdownOpened:v.disabled?!1:W,dropdownHandlers:K,classNames:S,styles:Y,unstyled:m,ref:t,onClear:()=>F(null),shouldClear:!!R,value:R,size:x,variant:_,dropdownType:N,...B,type:"default",__staticSelector:"DateTimePicker",onDropdownClose:X,withTime:!0,children:[r.jsx(qe,{...q,maxDate:w,minDate:A,size:x,variant:_,type:"default",value:R,defaultDate:R,onChange:se,locale:u,classNames:S,styles:Y,unstyled:m,__staticSelector:"DateTimePicker",__stopPropagation:I,level:d,defaultLevel:h,onLevelChange:U=>{var O;z(U),(O=q.onLevelChange)==null||O.call(q,U)}}),T==="month"&&r.jsxs("div",{...M("timeWrapper"),children:[r.jsx(Pt,{value:E,withSeconds:y,unstyled:m,min:dr({minDate:A,value:R}),max:ur({maxDate:w,value:R}),...l,...M("timeInput",{className:l==null?void 0:l.className,style:l==null?void 0:l.style}),onChange:oe,onKeyDown:Q,size:x,"data-mantine-stop-propagation":I||void 0,hoursRef:$}),r.jsx(ds,{variant:"default",size:`input-${x||"sm"}`,...M("submitButton",{className:p==null?void 0:p.className,style:p==null?void 0:p.style}),unstyled:m,"data-mantine-stop-propagation":I||void 0,children:r.jsx(un,{size:"30%"}),...p,onClick:U=>{var O;(O=p==null?void 0:p.onClick)==null||O.call(p,U),K.close(),X()}})]})]})});nt.classes={...Ws,...ht.classes,...qe.classes};nt.displayName="@mantine/dates/DateTimePicker";/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fr=mn("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);const pr="http://app8.runasp.net/api",Is=fn.create({baseURL:pr,headers:{"Content-Type":"application/json"}});Is.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));const hr={getPatients:async()=>{var e,t;try{const s=await Is.get("/Users/get-patients");return s.data.isSuccess&&Array.isArray(s.data.result)?s.data.result:(console.warn("Unexpected response format from get-patients:",s.data),[])}catch(s){throw console.error("Error fetching patients:",s),new Error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to fetch patients")}}};function yr(){const e=pn({queryKey:["patients"],queryFn:hr.getPatients,initialData:[],refetchOnMount:!0,staleTime:0,cacheTime:3e5});return{patients:e.data||[],isLoading:e.isLoading,isError:e.isError,error:e.error,refetch:e.refetch}}function Vs({onSubmit:e,isLoading:t,initialValues:s=null}){const{doctors:n}=us(),{patients:a,isLoading:o}=yr(),[c,u]=C.useState("new"),i=jn({initialValues:s||{doctorId:"",patientId:"",firstName:"",lastName:"",email:"",phoneNumber:"",address:"",startTime:null,endTime:null,notes:""},validate:{doctorId:l=>l?null:"Please select a doctor",patientId:l=>c==="existing"&&!l?"Please select a patient":null,firstName:l=>c==="new"&&!(l!=null&&l.trim())?"First name is required":null,lastName:l=>c==="new"&&!(l!=null&&l.trim())?"Last name is required":null,email:l=>c==="new"?l!=null&&l.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)?null:"Invalid email format":"Email is required":null,phoneNumber:l=>c==="new"&&!(l!=null&&l.trim())?"Phone number is required":null,address:l=>c==="new"&&!(l!=null&&l.trim())?"Address is required":null,startTime:l=>l?null:"Please select appointment start time",endTime:l=>l?null:"Please select appointment end time"}});C.useEffect(()=>{if(i.values.startTime){const l=new Date(i.values.startTime);l.setMinutes(l.getMinutes()+30),i.setFieldValue("endTime",l)}},[i.values.startTime]),C.useEffect(()=>{c==="existing"?i.setValues({...i.values,firstName:"",lastName:"",email:"",phoneNumber:"",address:"",patientId:""}):i.setValues({...i.values,patientId:""})},[c]);const f=l=>{if(!l)return null;const y=new Date(l).toISOString();return console.log("Converting date:",l,"to ISO:",y),y},m=l=>{console.log("Form values before processing:",{startTime:l.startTime,endTime:l.endTime,patientType:c,values:l});let p;c==="existing"?p={startDate:f(l.startTime),endDate:f(l.endTime),notes:l.notes?l.notes.trim():"",doctorId:parseInt(l.doctorId),userId:l.patientId}:p={firstName:l.firstName.trim(),lastName:l.lastName.trim(),email:l.email.trim(),phoneNumber:l.phoneNumber.trim(),address:l.address.trim(),startDate:f(l.startTime),endDate:f(l.endTime),notes:l.notes?l.notes.trim():"",doctorId:parseInt(l.doctorId)},p.patientType=c,console.log("Submitting appointment data:",p),e(p)};return r.jsx("form",{onSubmit:i.onSubmit(m),children:r.jsxs(je,{pos:"relative",children:[r.jsx(hn,{visible:t}),r.jsx(Tt,{radius:"md",label:"Doctor",placeholder:"Select a doctor",data:n.map(l=>({value:l.id.toString(),label:`${l.name} (${l.clinicName})`})),searchable:!0,required:!0,...i.getInputProps("doctorId")}),r.jsx(Kt,{label:"Patient Details",labelPosition:"center"}),r.jsx(ce,{children:r.jsx(at,{radius:"md",value:c,onChange:u,data:[{label:"New Patient",value:"new"},{label:"Existing Patient",value:"existing"}],fullWidth:!0})}),c==="existing"?r.jsx(Tt,{radius:"md",label:"Select Patient",placeholder:"Choose an existing patient",data:a.map(l=>({value:l.id,label:l.username||`Patient ${l.id}`})),searchable:!0,required:!0,disabled:o,...i.getInputProps("patientId")}):r.jsxs(r.Fragment,{children:[r.jsxs(ge,{grow:!0,children:[r.jsx(He,{radius:"md",label:"First Name",placeholder:"Enter patient first name",required:!0,...i.getInputProps("firstName")}),r.jsx(He,{radius:"md",label:"Last Name",placeholder:"Enter patient last name",required:!0,...i.getInputProps("lastName")})]}),r.jsx(He,{radius:"md",label:"Email",placeholder:"Enter patient email",type:"email",required:!0,...i.getInputProps("email")}),r.jsx(He,{radius:"md",label:"Phone Number",placeholder:"Enter patient phone number",required:!0,...i.getInputProps("phoneNumber")}),r.jsx(He,{radius:"md",label:"Address",placeholder:"Enter patient address",required:!0,...i.getInputProps("address")})]}),r.jsx(Kt,{label:"Appointment Details",labelPosition:"center"}),r.jsxs(ge,{grow:!0,children:[r.jsx(nt,{radius:"md",timePickerProps:{withDropdown:!0,popoverProps:{withinPortal:!1},format:"12h",withSeconds:!1},label:"Start Time",placeholder:"Appointment start time",required:!0,clearable:!0,valueFormat:"DD MMM YYYY hh:mm A",minDate:new Date,...i.getInputProps("startTime")}),r.jsx(nt,{radius:"md",timePickerProps:{withDropdown:!0,popoverProps:{withinPortal:!1},format:"12h"},label:"End Time",placeholder:"Appointment end time",required:!0,clearable:!0,valueFormat:"DD MMM YYYY hh:mm A",minDate:i.values.startTime||new Date,...i.getInputProps("endTime")})]}),r.jsx(Ft,{radius:"md",label:"Notes",placeholder:"Add any notes about the appointment",...i.getInputProps("notes")}),r.jsx(ge,{justify:"flex-end",mt:"md",children:r.jsx(De,{type:"submit",loading:t,radius:"md",children:s?"Update Appointment":"Create Appointment"})})]})})}const gr=e=>{const t=new Date,s=new Date(t.setHours(0,0,0,0));switch(e){case"today":return[s,new Date(t.setHours(23,59,59,999))];case"this-week":{const n=new Date(s);n.setDate(n.getDate()-n.getDay());const a=new Date(n);return a.setDate(a.getDate()+6),a.setHours(23,59,59,999),[n,a]}case"this-month":{const n=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t.getFullYear(),t.getMonth()+1,0,23,59,59,999);return[n,a]}default:return[null,null]}},_t=e=>{if(!e)return null;const t=new Date(e);return t.setHours(0,0,0,0),t};function vr(){return r.jsx(ae.Tr,{children:r.jsx(ae.Td,{colSpan:7,children:r.jsx(vn,{h:100,children:r.jsx(je,{align:"center",gap:"md",children:r.jsx(Ve,{size:"lg",fw:500,c:"dimmed",children:"No appointments found"})})})})})}function Dr({appointments:e=[],onAppointmentClick:t}){var v,M;const[s,n]=C.useState("all"),[a,o]=C.useState([null,null]),[c,u]=C.useState(!1),[i,f]=C.useState(null),[m,l]=C.useState(!1),[p,y]=C.useState(!1),{updateAppointment:d,deleteAppointment:h}=Yt(),x=S=>{const Y=gr(S);o(Y)},_=()=>{if(!a[0]||!a[1])return"Date Range";const S=k=>!k||!(k instanceof Date)?"":k.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Y=S(a[0]),L=S(a[1]);return!Y||!L?"Date Range":`${Y} - ${L}`},N=async S=>{try{await h.mutateAsync(S),Ce.show({title:"Success",message:"Appointment deleted successfully",color:"green"})}catch(Y){Ce.show({title:"Error",message:Y.message||"Failed to delete appointment",color:"red"})}},j=async S=>{try{await d.mutateAsync({id:i.id,...S}),Ce.show({title:"Success",message:"Appointment updated successfully",color:"green"}),l(!1)}catch(Y){Ce.show({title:"Error",message:Y.message||"Failed to update appointment",color:"red"})}},A=e.filter(S=>{if(!(s==="all"||S.status===s))return!1;if(!a[0]||!a[1])return!0;try{const L=_t(new Date(S.date)),k=_t(a[0]),$=_t(a[1]);return console.log("Filtering:",{appointmentDate:L==null?void 0:L.toISOString(),startDate:k==null?void 0:k.toISOString(),endDate:$==null?void 0:$.toISOString(),isInRange:L>=k&&L<=$}),!L||!k||!$?!0:L>=k&&L<=$}catch(L){return console.error("Error filtering appointment date:",L),!0}}),w=S=>{t&&t(S)};return r.jsxs(je,{children:[r.jsx(ge,{mt:"sm",justify:"start",w:"100%",mb:"md",children:r.jsxs(ge,{gap:"md",children:[r.jsx(at,{size:"md",radius:"md",value:s,onChange:n,data:[{label:"All",value:"all"},{label:"Scheduled",value:"Scheduled"},{label:"Completed",value:"Completed"},{label:"Cancelled",value:"Cancelled"}]}),r.jsxs(bt,{shadow:"md",radius:"lg",opened:c,onChange:u,position:"bottom-start",width:"targetWidth",children:[r.jsx(bt.Target,{children:r.jsx(De,{size:"md",radius:"md",variant:"subtle",rightSection:r.jsx(yn,{color:"black",size:18}),children:_()})}),r.jsx(bt.Dropdown,{p:"md",children:r.jsxs(je,{gap:"xs",children:[r.jsxs(ge,{py:"sm",w:"100%",justify:"left",children:[r.jsx(De,{size:"md",radius:"md",variant:"subtle",onClick:()=>x("today"),children:"Today"}),r.jsx(De,{size:"md",radius:"md",variant:"subtle",onClick:()=>x("this-week"),children:"This Week"}),r.jsx(De,{radius:"md",size:"md",variant:"subtle",onClick:()=>x("this-month"),children:"This Month"})]}),r.jsx(qe,{size:"md",type:"range",value:a,onChange:S=>{const[Y,L]=S;if(Y&&L){const k=new Date(L);k.setHours(23,59,59,999),o([Y,k])}else o(S)},numberOfColumns:2})]})})]})]})}),r.jsxs(ae,{verticalSpacing:"sm",highlightOnHover:!0,children:[r.jsx(ae.Thead,{children:r.jsxs(ae.Tr,{children:[r.jsx(ae.Th,{children:"ID"}),r.jsx(ae.Th,{children:"Patient"}),r.jsx(ae.Th,{children:"Doctor"}),r.jsx(ae.Th,{children:"Clinic"}),r.jsx(ae.Th,{children:"Date"}),r.jsx(ae.Th,{children:"Time"}),r.jsx(ae.Th,{children:"Status"})]})}),r.jsx(ae.Tbody,{children:A.length===0?r.jsx(vr,{}):A.map(S=>r.jsxs(ae.Tr,{style:{cursor:"pointer"},onClick:()=>w(S),children:[r.jsx(ae.Td,{children:S.id}),r.jsx(ae.Td,{children:S.patientName}),r.jsx(ae.Td,{children:S.doctorName}),r.jsx(ae.Td,{children:S.clinicName}),r.jsx(ae.Td,{children:S.displayDate||S.date}),r.jsx(ae.Td,{children:S.time}),r.jsx(ae.Td,{children:r.jsx(gn,{color:S.status==="Completed"?"green":S.status==="Cancelled"?"red":"blue",children:S.status})})]},S.id))})]}),r.jsx(Lt,{opened:m,onClose:()=>l(!1),title:"Edit Appointment",size:"lg",children:i&&r.jsx(Vs,{initialValues:{doctorId:(M=(v=i.doctor)==null?void 0:v.id)==null?void 0:M.toString(),patientName:i.patientName,patientPhone:i.patientPhone||"",startTime:new Date(i.rawDate),notes:i.notes||""},onSubmit:j,isLoading:d.isPending})}),r.jsx(Lt,{opened:p,onClose:()=>y(!1),title:"Delete Appointment",size:"sm",children:r.jsxs(je,{children:[r.jsxs(Ve,{children:["Are you sure you want to delete this appointment for"," ",i==null?void 0:i.patientName,"?"]}),r.jsxs(ge,{justify:"flex-end",mt:"md",children:[r.jsx(De,{variant:"light",onClick:()=>y(!1),children:"Cancel"}),r.jsx(De,{color:"red",loading:h.isPending,onClick:()=>{N(i.id),y(!1)},children:"Delete"})]})]})})]})}function br({opened:e,onClose:t}){const{createAppointmentWithPatient:s,createAppointment:n}=Yt(),a=async c=>{var u,i,f,m,l;try{let p;const y=c.patientType==="new";if(y){const{patientType:d,...h}=c;p=await s.mutateAsync(h)}else{const{patientType:d,...h}=c;p=await n.mutateAsync(h)}if(y&&p.userCreated&&p.temporaryPassword){const d=r.jsxs(je,{gap:"xs",children:[r.jsx(Ve,{size:"sm",children:"Appointment created successfully! A new patient account has been created."}),r.jsxs(ge,{gap:"xs",align:"center",children:[r.jsx(Ve,{size:"sm",fw:500,children:"Temporary Password:"}),r.jsx(At,{children:p.temporaryPassword}),r.jsx(hs,{value:p.temporaryPassword,children:({copied:h,copy:x})=>r.jsx(bn,{label:h?"Copied":"Copy password",children:r.jsx(ds,{color:h?"teal":"blue",onClick:x,size:"sm",variant:"light",children:h?r.jsx(xn,{size:16}):r.jsx(fr,{size:16})})})})]}),r.jsx(Ve,{size:"xs",c:"dimmed",children:"Please share this password with the patient so they can log in."})]});Ce.show({title:"Success",message:d,color:"green",autoClose:!1})}else Ce.show({title:"Success",message:"Appointment created successfully",color:"green"});t()}catch(p){console.error("Full error object:",p);let y="Failed to create appointment";if((i=(u=p.response)==null?void 0:u.data)!=null&&i.message){if(y=p.response.data.message,p.response.data.errors&&Array.isArray(p.response.data.errors)){const d=p.response.data.errors.find(h=>h.code==="DuplicateUserName"||h.code==="DuplicateEmail");if(d)y=`${p.response.data.message}: ${d.description}. Please try with a different email address.`;else{const h=p.response.data.errors.map(x=>x.description);y=`${p.response.data.message}: ${h.join(", ")}`}}}else(m=(f=p.response)==null?void 0:f.data)!=null&&m.errors?y=Object.values(p.response.data.errors).flat().join(", "):(l=p.response)!=null&&l.data?y=JSON.stringify(p.response.data):p.message&&(y=p.message);Ce.show({title:"Error",message:y,color:"red",autoClose:!1})}},o=s.isPending||n.isPending;return r.jsx(Dn,{opened:e,onClose:t,title:"Create New Appointment",position:"right",size:"md",children:r.jsx(Vs,{onSubmit:a,isLoading:o})})}b.extend(Ln);b.extend(Tn);function _r(){const[e,t]=C.useState(null),[s,n]=C.useState(null),[a,{open:o,close:c}]=cs(!1),{clinics:u,doctors:i,isLoading:f,error:m}=us(),{appointments:l,isLoadingAppointments:p,appointmentsError:y,getAppointmentsByClinic:d,getAppointmentsByDoctor:h}=Yt(),{data:x}=d(e),{data:_}=h(s),N=s?_:e?x:l,j=C.useCallback(v=>{if(!v||v==="all")t(null),n(null);else if(v.startsWith("clinic-")){const M=v.replace("clinic-","");t(M),n(null)}else if(v.startsWith("doctor-")){const M=v.replace("doctor-","");n(M),t(null)}},[]),A=[{group:"General",items:[{value:"all",label:"All Appointments"}]},{group:"Clinics",items:u.map(v=>({value:`clinic-${v.id}`,label:v.name}))},{group:"Doctors",items:i.map(v=>({value:`doctor-${v.id}`,label:`${v.name} (${v.clinicName})`}))}],w=(N||[]).map(v=>{var M,S,Y,L,k,$;try{const P=v.startDate?b.utc(v.startDate).tz(b.tz.guess()):null;if(!P||!P.isValid())return{...v,id:v.id,patientName:v.patientName,doctorName:((M=v.doctor)==null?void 0:M.name)||"N/A",clinicName:((S=v.doctor)==null?void 0:S.clinicName)||"N/A",date:"Invalid Date",time:"Invalid Time",status:v.status||"Scheduled",doctor:v.doctor};const q=P.format("YYYY-MM-DD");return{id:v.id,patientName:v.patientName,doctorName:((Y=v.doctor)==null?void 0:Y.name)||"N/A",clinicName:((L=v.doctor)==null?void 0:L.clinicName)||"N/A",rawDate:P.toDate(),date:q,displayDate:P.format("MMM D, YYYY"),time:P.format("hh:mm A"),status:v.status||"Scheduled",doctor:v.doctor,patientPhone:v.patientPhone,notes:v.notes}}catch(P){return console.error("Error formatting appointment:",P),{...v,id:v.id,patientName:v.patientName,doctorName:((k=v.doctor)==null?void 0:k.name)||"N/A",clinicName:(($=v.doctor)==null?void 0:$.clinicName)||"N/A",date:"Error",displayDate:"Error",time:"Error",status:v.status||"Scheduled",doctor:v.doctor}}});return r.jsx(wn,{pt:20,fluid:!0,maw:1232,children:r.jsxs(je,{children:[r.jsx(Sn,{order:2,children:"Appointments"}),r.jsxs(ge,{mt:60,justify:"space-between",children:[r.jsx(Tt,{w:200,size:"lg",radius:"md",data:A,placeholder:"Select clinic or doctor",disabled:f,error:m==null?void 0:m.message,onChange:j,value:s?`doctor-${s}`:e?`clinic-${e}`:"all",comboboxProps:{width:500,position:"bottom-start"},styles:{dropdown:{borderRadius:"var(--mantine-radius-md)",boxShadow:"var(--mantine-shadow-md)",minWidth:"200px"}}}),r.jsx(De,{onClick:o,leftSection:r.jsx(Cn,{size:16}),variant:"outline",size:"lg",radius:"xl",children:"New Appointment"})]}),r.jsx(_n,{withBorder:!0,radius:"md",p:"md",shadow:"xs",children:p?r.jsx("div",{children:"Loading appointments..."}):y?r.jsxs("div",{children:["Error loading appointments: ",y.message]}):r.jsx(Dr,{appointments:w})}),r.jsx(br,{opened:a,onClose:c})]})})}export{_r as default};
