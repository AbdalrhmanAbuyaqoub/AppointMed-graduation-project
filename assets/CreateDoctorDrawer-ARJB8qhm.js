import{j as e,ay as a,f as r,z as i,G as l,e as t,T as s}from"./index-BwajA8ZI.js";import{u as o}from"./useDoctorQueries-JukiAoYU.js";import{u as c}from"./useClinicQueries-YDHrXMm9.js";import{N as n}from"./NotificationService-zJ3ne1zi.js";import{S as d}from"./Select-nRORTan3.js";function m({opened:m,onClose:u,onSubmit:h,doctorData:p,setDoctorData:N,isLoading:f,clinicId:C}){const{createDoctor:g}=o(),{clinics:j}=c();return e.jsx(a,{overlayProps:{opacity:.4},opened:m,onClose:u,title:e.jsx(s,{fz:25,fw:600,children:"Add New Doctor"}),position:"right",size:"md",children:e.jsxs(r,{gap:"md",p:"md",children:[e.jsx(i,{label:"First Name",placeholder:"Doctor First Name",required:!0,value:p.firstName,onChange:e=>N(a=>({...a,firstName:e.target.value}))}),e.jsx(i,{label:"Last Name",placeholder:"Doctor Last Name",required:!0,value:p.lastName,onChange:e=>N(a=>({...a,lastName:e.target.value}))}),e.jsx(i,{label:"Email",type:"email",placeholder:"Doctor Email",required:!0,value:p.email,onChange:e=>N(a=>({...a,email:e.target.value}))}),e.jsx(i,{label:"Phone Number",placeholder:"Doctor Phone",required:!0,value:p.phoneNumber,onChange:e=>N(a=>({...a,phoneNumber:e.target.value}))}),e.jsx(i,{label:"Address",placeholder:"Doctor Address",value:p.address,onChange:e=>N(a=>({...a,address:e.target.value}))}),e.jsx(d,{label:"Select Clinic",placeholder:"Choose a clinic",data:j.map(e=>({value:e.id.toString(),label:e.name})),value:C?C.toString():p.selectedClinic,onChange:e=>N(a=>({...a,selectedClinic:e})),disabled:!!C,withAsterisk:!0,error:C||p.selectedClinic?null:"Please select a clinic",size:"md"}),e.jsxs(l,{justify:"flex-end",mt:"xl",children:[e.jsx(t,{variant:"outline",onClick:u,children:"Cancel"}),e.jsx(t,{variant:"filled",onClick:async e=>{if(e.preventDefault(),p.firstName.trim()&&p.lastName.trim()&&p.email.trim()&&p.phoneNumber.trim())try{await g({clinicId:C||parseInt(p.selectedClinic),firstName:p.firstName.trim(),lastName:p.lastName.trim(),email:p.email.trim(),address:p.address.trim(),phoneNumber:p.phoneNumber.trim()}),N({firstName:"",lastName:"",email:"",address:"",phoneNumber:"",selectedClinic:C?C.toString():""}),u(),n.success("Success","Doctor added successfully")}catch(a){n.error("Error",a.message||"Failed to add doctor")}},loading:f,children:"Add Doctor"})]})]})})}export{m as C};
