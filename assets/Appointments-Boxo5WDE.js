import{$ as j,M as vt,aa as it,b as se,d as te,l as pe,ab as Te,j as a,B as le,m as be,ac as Ut,a5 as Bt,ad as Cn,ae as _n,V as Qt,c as Cs,af as ke,ag as kn,ah as lt,ai as _s,aj as Ae,U as Oe,a9 as ks,G as oe,u as Ln,ak as us,K as Ls,al as Nn,a7 as pt,v as Ns,N as Xe,am as Ie,an as Mn,i as Tn,ao as An,ap as ms,aq as Yn,R as ct,ar as Vt,h as Rn,as as Ms,at as fs,Q as Je,au as Pn,n as et,av as Fn,aw as Fe,a3 as Ue,ax as Ts,q as xe,L as zn,ay as qt,az as Gt,H as ze,p as _e,aA as As,r as fe,aB as $n,aC as In,_ as On,a0 as Kt,aD as Ys,aE as Rs,aF as ue,aG as En,aH as Wn,s as Hn,aI as je,z as Bn,C as Vn,T as qn,aJ as Gn,aK as Kn,P as Un}from"./index-Cwqv58GJ.js";import{d as b,a as ve,u as Qn,t as Zn}from"./timezone-7hMsYXTu.js";import{u as Jn}from"./useUserQueries-DLUrwIqA.js";import{u as Xn}from"./use-form-BBHaOGMK.js";import{i as ea}from"./use-isomorphic-layout-effect.browser.esm-BAoMXpCH.js";import{A as ta}from"./Avatar-Bmv8qkvb.js";import{T as ae}from"./Table-BYQyyMwX.js";function ut(e,t,s){return t===void 0&&s===void 0?e:t!==void 0&&s===void 0?Math.max(e,t):Math.min(t===void 0&&s!==void 0?e:Math.max(e,t),s)}function sa(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const s=Object.keys(e),{length:n}=s;if(n!==Object.keys(t).length)return!1;for(let r=0;r<n;r+=1){const o=s[r];if(!(o in t)||e[o]!==t[o])return!1}return!0}function na({timeout:e=2e3}={}){const[t,s]=j.useState(null),[n,r]=j.useState(!1),[o,i]=j.useState(null),m=f=>{window.clearTimeout(o),i(window.setTimeout(()=>r(!1),e)),r(f)};return{copy:f=>{"clipboard"in navigator?navigator.clipboard.writeText(f).then(()=>m(!0)).catch(d=>s(d)):s(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{r(!1),s(null),window.clearTimeout(o)},error:t,copied:n}}function Ce(e,t){const s=t-e+1;return Array.from({length:s},(n,r)=>r+e)}const dt="dots";function aa({total:e,siblings:t=1,boundaries:s=1,page:n,initialPage:r=1,onChange:o}){const i=Math.max(Math.trunc(e),0),[m,l]=vt({value:n,onChange:o,defaultValue:r,finalValue:r}),u=p=>{p<=0?l(1):p>i?l(i):l(p)},f=()=>u(m+1),d=()=>u(m-1),h=()=>u(1),g=()=>u(i);return{range:j.useMemo(()=>{if(t*2+3+s*2>=i)return Ce(1,i);const D=Math.max(m-t,s),S=Math.min(m+t,i-s),k=D>s+2,C=S<i-(s+1);if(!k&&C){const M=t*2+s+2;return[...Ce(1,M),dt,...Ce(i-(s-1),i)]}if(k&&!C){const M=s+1+2*t;return[...Ce(1,s),dt,...Ce(i-M,i)]}return[...Ce(1,s),dt,...Ce(D,S),dt,...Ce(i-s+1,i)]},[i,t,m]),active:m,setPage:u,next:f,previous:d,first:h,last:g}}function ra(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let s=0;s<e.length;s+=1)if(!sa(e[s],t[s]))return!1;return!0}function oa(e){const t=j.useRef([]),s=j.useRef(0);return ra(t.current,e)||(t.current=e,s.current+=1),[s.current]}function ia(e,t){j.useEffect(e,oa(t))}function la(e,t,s={autoInvoke:!1}){const n=j.useRef(null),r=j.useCallback((...i)=>{n.current||(n.current=window.setTimeout(()=>{e(i),n.current=null},t))},[t]),o=j.useCallback(()=>{n.current&&(window.clearTimeout(n.current),n.current=null)},[]);return j.useEffect(()=>(s.autoInvoke&&r(),o),[o,r]),{start:r,clear:o}}function ca(e,t,s){const n=j.useRef(null),r=j.useRef(null);return j.useEffect(()=>{const o=typeof s=="function"?s():s;return(o||r.current)&&(n.current=new MutationObserver(e),n.current.observe(o||r.current,t)),()=>{var i;(i=n.current)==null||i.disconnect()}},[e,t]),r}function da(){const[e,t]=j.useState(!1);return j.useEffect(()=>t(!0),[]),e}var ua={};function Ps(){return typeof process<"u"&&ua?"production":"development"}function ma(e,t){return typeof e=="boolean"?e:t.autoContrast}function fa(e,t){if(!t||!e)return!1;let s=t.parentNode;for(;s!=null;){if(s===e)return!0;s=s.parentNode}return!1}function ha({target:e,parent:t,ref:s,displayAfterTransitionEnd:n}){const r=j.useRef(-1),[o,i]=j.useState(!1),[m,l]=j.useState(typeof n=="boolean"?n:!1),u=()=>{if(!e||!t||!s.current)return;const g=e.getBoundingClientRect(),c=t.getBoundingClientRect(),p=window.getComputedStyle(e),D=window.getComputedStyle(t),S=it(p.borderTopWidth)+it(D.borderTopWidth),k=it(p.borderLeftWidth)+it(D.borderLeftWidth),C={top:g.top-c.top-S,left:g.left-c.left-k,width:g.width,height:g.height};s.current.style.transform=`translateY(${C.top}px) translateX(${C.left}px)`,s.current.style.width=`${C.width}px`,s.current.style.height=`${C.height}px`},f=()=>{window.clearTimeout(r.current),s.current&&(s.current.style.transitionDuration="0ms"),u(),r.current=window.setTimeout(()=>{s.current&&(s.current.style.transitionDuration="")},30)},d=j.useRef(null),h=j.useRef(null);return j.useEffect(()=>{if(u(),e)return d.current=new ResizeObserver(f),d.current.observe(e),t&&(h.current=new ResizeObserver(f),h.current.observe(t)),()=>{var g,c;(g=d.current)==null||g.disconnect(),(c=h.current)==null||c.disconnect()}},[t,e]),j.useEffect(()=>{if(t){const g=c=>{fa(c.target,t)&&(f(),l(!1))};return t.addEventListener("transitionend",g),()=>{t.removeEventListener("transitionend",g)}}},[t]),la(()=>{Ps()!=="test"&&i(!0)},20,{autoInvoke:!0}),ca(g=>{g.forEach(c=>{c.type==="attributes"&&c.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:o,hidden:m}}var Fs={root:"m_96b553a6"};const pa={},ga=be((e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}})),Zt=se((e,t)=>{const s=te("FloatingIndicator",pa,e),{classNames:n,className:r,style:o,styles:i,unstyled:m,vars:l,target:u,parent:f,transitionDuration:d,mod:h,displayAfterTransitionEnd:g,...c}=s,p=pe({name:"FloatingIndicator",classes:Fs,props:s,className:r,style:o,classNames:n,styles:i,unstyled:m,vars:l,varsResolver:ga}),D=j.useRef(null),{initialized:S,hidden:k}=ha({target:u,parent:f,ref:D,displayAfterTransitionEnd:g}),C=Te(t,D);return!u||!f?null:a.jsx(le,{ref:C,mod:[{initialized:S,hidden:k},h],...p("root"),...c})});Zt.displayName="@mantine/core/FloatingIndicator";Zt.classes=Fs;var zs={root:"m_b183c0a2"};const ya={},va=be((e,{color:t})=>({root:{"--code-bg":t?Ut(t,e):void 0}})),Jt=se((e,t)=>{const s=te("Code",ya,e),{classNames:n,className:r,style:o,styles:i,unstyled:m,vars:l,color:u,block:f,variant:d,mod:h,...g}=s,c=pe({name:"Code",props:s,classes:zs,className:r,style:o,classNames:n,styles:i,unstyled:m,vars:l,varsResolver:va});return a.jsx(le,{component:f?"pre":"code",variant:d,ref:t,mod:[{block:f},h],...c("root"),...g,dir:"ltr"})});Jt.classes=zs;Jt.displayName="@mantine/core/Code";const xa={timeout:1e3};function $s(e){const{children:t,timeout:s,value:n,...r}=te("CopyButton",xa,e),o=na({timeout:s}),i=()=>o.copy(n);return a.jsx(a.Fragment,{children:t({copy:i,copied:o.copied,...r})})}$s.displayName="@mantine/core/CopyButton";var Da=function(t){var s=Bt.useRef(t);return ea(function(){s.current=t}),s},hs=function(t,s){if(typeof t=="function"){t(s);return}t.current=s},ba=function(t,s){var n=Bt.useRef();return Bt.useCallback(function(r){t.current=r,n.current&&hs(n.current,null),n.current=s,s&&hs(s,r)},[s])},ps={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},wa=function(t){Object.keys(ps).forEach(function(s){t.style.setProperty(s,ps[s],"important")})},gs=wa,me=null,ys=function(t,s){var n=t.scrollHeight;return s.sizingStyle.boxSizing==="border-box"?n+s.borderSize:n-s.paddingSize};function Sa(e,t,s,n){s===void 0&&(s=1),n===void 0&&(n=1/0),me||(me=document.createElement("textarea"),me.setAttribute("tabindex","-1"),me.setAttribute("aria-hidden","true"),gs(me)),me.parentNode===null&&document.body.appendChild(me);var r=e.paddingSize,o=e.borderSize,i=e.sizingStyle,m=i.boxSizing;Object.keys(i).forEach(function(h){var g=h;me.style[g]=i[g]}),gs(me),me.value=t;var l=ys(me,e);me.value=t,l=ys(me,e),me.value="x";var u=me.scrollHeight-r,f=u*s;m==="border-box"&&(f=f+r+o),l=Math.max(f,l);var d=u*n;return m==="border-box"&&(d=d+r+o),l=Math.min(d,l),[l,u]}var vs=function(){},ja=function(t,s){return t.reduce(function(n,r){return n[r]=s[r],n},{})},Ca=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],_a=!!document.documentElement.currentStyle,ka=function(t){var s=window.getComputedStyle(t);if(s===null)return null;var n=ja(Ca,s),r=n.boxSizing;if(r==="")return null;_a&&r==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var o=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),i=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:o,borderSize:i}},La=ka;function Xt(e,t,s){var n=Da(s);j.useLayoutEffect(function(){var r=function(i){return n.current(i)};if(e)return e.addEventListener(t,r),function(){return e.removeEventListener(t,r)}},[])}var Na=function(t,s){Xt(document.body,"reset",function(n){t.current.form===n.target&&s(n)})},Ma=function(t){Xt(window,"resize",t)},Ta=function(t){Xt(document.fonts,"loadingdone",t)},Aa=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Ya=function(t,s){var n=t.cacheMeasurements,r=t.maxRows,o=t.minRows,i=t.onChange,m=i===void 0?vs:i,l=t.onHeightChange,u=l===void 0?vs:l,f=Cn(t,Aa),d=f.value!==void 0,h=j.useRef(null),g=ba(h,s),c=j.useRef(0),p=j.useRef(),D=function(){var C=h.current,M=n&&p.current?p.current:La(C);if(M){p.current=M;var w=Sa(M,C.value||C.placeholder||"x",o,r),T=w[0],Y=w[1];c.current!==T&&(c.current=T,C.style.setProperty("height",T+"px","important"),u(T,{rowHeight:Y}))}},S=function(C){d||D(),m(C)};return j.useLayoutEffect(D),Na(h,function(){if(!d){var k=h.current.value;requestAnimationFrame(function(){var C=h.current;C&&k!==C.value&&D()})}}),Ma(D),Ta(D),j.createElement("textarea",_n({},f,{onChange:S,ref:g}))},Ra=j.forwardRef(Ya);const Pa={},es=se((e,t)=>{const{autosize:s,maxRows:n,minRows:r,__staticSelector:o,resize:i,...m}=te("Textarea",Pa,e),l=s&&Ps()!=="test",u=l?{maxRows:n,minRows:r}:{};return a.jsx(Qt,{component:l?Ra:"textarea",ref:t,...m,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":s&&n===void 0||void 0,__vars:{"--input-resize":i},...u})});es.classes=Qt.classes;es.displayName="@mantine/core/Textarea";const[Fa,xt]=Cs("Pagination.Root component was not found in tree");var tt={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const za={withPadding:!0},st=se((e,t)=>{const s=te("PaginationControl",za,e),{classNames:n,className:r,style:o,styles:i,vars:m,active:l,disabled:u,withPadding:f,mod:d,...h}=s,g=xt(),c=u||g.disabled;return a.jsx(ke,{ref:t,disabled:c,mod:[{active:l,disabled:c,"with-padding":f},d],...g.getStyles("control",{className:r,style:o,classNames:n,styles:i,active:!c}),...h})});st.classes=tt;st.displayName="@mantine/core/PaginationControl";function nt({style:e,children:t,path:s,...n}){return a.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...n,children:a.jsx("path",{d:s,fill:"currentColor"})})}const $a=e=>a.jsx(nt,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),Ia=e=>a.jsx(nt,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),Oa=e=>a.jsx(nt,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),Ea=e=>a.jsx(nt,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),Wa=e=>a.jsx(nt,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),Ha={icon:Wa},Dt=se((e,t)=>{const s=te("PaginationDots",Ha,e),{classNames:n,className:r,style:o,styles:i,vars:m,icon:l,...u}=s,f=xt(),d=l;return a.jsx(le,{ref:t,...f.getStyles("dots",{className:r,style:o,styles:i,classNames:n}),...u,children:a.jsx(d,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});Dt.classes=tt;Dt.displayName="@mantine/core/PaginationDots";function bt({icon:e,name:t,action:s,type:n}){const r={icon:e},o=j.forwardRef((i,m)=>{const{icon:l,...u}=te(t,r,i),f=l,d=xt(),h=n==="next"?d.active===d.total:d.active===1;return a.jsx(st,{disabled:d.disabled||h,ref:m,onClick:d[s],withPadding:!1,...u,children:a.jsx(f,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return o.displayName=`@mantine/core/${t}`,kn(o)}const Is=bt({icon:$a,name:"PaginationNext",action:"onNext",type:"next"}),Os=bt({icon:Ia,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),Es=bt({icon:Oa,name:"PaginationFirst",action:"onFirst",type:"previous"}),Ws=bt({icon:Ea,name:"PaginationLast",action:"onLast",type:"next"});function ts({dotsIcon:e}){const t=xt(),s=t.range.map((n,r)=>{var o,i,m;return n==="dots"?a.jsx(Dt,{icon:e},r):a.jsx(st,{active:n===t.active,"aria-current":n===t.active?"page":void 0,onClick:()=>t.onChange(n),disabled:t.disabled,...(o=t.getItemProps)==null?void 0:o.call(t,n),children:((m=(i=t.getItemProps)==null?void 0:i.call(t,n))==null?void 0:m.children)??n},r)});return a.jsx(a.Fragment,{children:s})}ts.displayName="@mantine/core/PaginationItems";const Ba={siblings:1,boundaries:1},Va=be((e,{size:t,radius:s,color:n,autoContrast:r})=>({root:{"--pagination-control-radius":s===void 0?void 0:ks(s),"--pagination-control-size":Oe(t,"pagination-control-size"),"--pagination-control-fz":Ae(t),"--pagination-active-bg":n?Ut(n,e):void 0,"--pagination-active-color":ma(r,e)?_s({color:n,theme:e,autoContrast:r}):void 0}})),wt=se((e,t)=>{const s=te("PaginationRoot",Ba,e),{classNames:n,className:r,style:o,styles:i,unstyled:m,vars:l,total:u,value:f,defaultValue:d,onChange:h,disabled:g,siblings:c,boundaries:p,color:D,radius:S,onNextPage:k,onPreviousPage:C,onFirstPage:M,onLastPage:w,getItemProps:T,autoContrast:Y,...v}=s,R=pe({name:"Pagination",classes:tt,props:s,className:r,style:o,classNames:n,styles:i,unstyled:m,vars:l,varsResolver:Va}),{range:F,setPage:A,next:P,previous:q,active:H,first:V,last:W}=aa({page:f,initialPage:d,onChange:h,total:u,siblings:c,boundaries:p}),N=lt(k,P),z=lt(C,q),x=lt(M,V),$=lt(w,W);return a.jsx(Fa,{value:{total:u,range:F,active:H,disabled:g,getItemProps:T,onChange:A,onNext:N,onPrevious:z,onFirst:x,onLast:$,getStyles:R},children:a.jsx(le,{ref:t,...R("root"),...v})})});wt.classes=tt;wt.displayName="@mantine/core/PaginationRoot";const qa={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},De=se((e,t)=>{const s=te("Pagination",qa,e),{withEdges:n,withControls:r,getControlProps:o,nextIcon:i,previousIcon:m,lastIcon:l,firstIcon:u,dotsIcon:f,total:d,gap:h,hideWithOnePage:g,withPages:c,...p}=s;return d<=0||g&&d===1?null:a.jsx(wt,{ref:t,total:d,...p,children:a.jsxs(oe,{gap:h,children:[n&&a.jsx(Es,{icon:u,...o==null?void 0:o("first")}),r&&a.jsx(Os,{icon:m,...o==null?void 0:o("previous")}),c&&a.jsx(ts,{dotsIcon:f}),r&&a.jsx(Is,{icon:i,...o==null?void 0:o("next")}),n&&a.jsx(Ws,{icon:l,...o==null?void 0:o("last")})]})})});De.classes=tt;De.displayName="@mantine/core/Pagination";De.Root=wt;De.Control=st;De.Dots=Dt;De.First=Es;De.Last=Ws;De.Next=Is;De.Previous=Os;De.Items=ts;var Hs={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const Ga={withItemsBorders:!0},Ka=be((e,{radius:t,color:s,transitionDuration:n,size:r,transitionTimingFunction:o})=>({root:{"--sc-radius":t===void 0?void 0:ks(t),"--sc-color":s?Ut(s,e):void 0,"--sc-shadow":s?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":n===void 0?void 0:`${n}ms`,"--sc-transition-timing-function":o,"--sc-padding":Oe(r,"sc-padding"),"--sc-font-size":Ae(r)}})),St=se((e,t)=>{var Q,Z;const s=te("SegmentedControl",Ga,e),{classNames:n,className:r,style:o,styles:i,unstyled:m,vars:l,data:u,value:f,defaultValue:d,onChange:h,size:g,name:c,disabled:p,readOnly:D,fullWidth:S,orientation:k,radius:C,color:M,transitionDuration:w,transitionTimingFunction:T,variant:Y,autoContrast:v,withItemsBorders:R,mod:F,...A}=s,P=pe({name:"SegmentedControl",props:s,classes:Hs,className:r,style:o,classNames:n,styles:i,unstyled:m,vars:l,varsResolver:Ka}),q=Ln(),H=u.map(B=>typeof B=="string"?{label:B,value:B}:B),V=da(),[W,N]=j.useState(us()),[z,x]=j.useState(null),[$,y]=j.useState({}),L=(B,J)=>{$[J]=B,y($)},[O,_]=vt({value:f,defaultValue:d,finalValue:Array.isArray(u)?((Q=H.find(B=>!B.disabled))==null?void 0:Q.value)??((Z=u[0])==null?void 0:Z.value)??null:null,onChange:h}),I=Ls(c),U=H.map(B=>j.createElement(le,{...P("control"),mod:{active:O===B.value,orientation:k},key:B.value},j.createElement("input",{...P("input"),disabled:p||B.disabled,type:"radio",name:I,value:B.value,id:`${I}-${B.value}`,checked:O===B.value,onChange:()=>!D&&_(B.value),"data-focus-ring":q.focusRing,key:`${B.value}-input`}),j.createElement(le,{component:"label",...P("label"),mod:{active:O===B.value&&!(p||B.disabled),disabled:p||B.disabled,"read-only":D},htmlFor:`${I}-${B.value}`,ref:J=>L(J,B.value),__vars:{"--sc-label-color":M!==void 0?_s({color:M,theme:q,autoContrast:v}):void 0},key:`${B.value}-label`},a.jsx("span",{...P("innerLabel"),children:B.label})))),ee=Te(t,B=>x(B));return ia(()=>{N(us())},[u.length]),u.length===0?null:a.jsxs(le,{...P("root"),variant:Y,size:g,ref:ee,mod:[{"full-width":S,orientation:k,initialized:V,"with-items-borders":R},F],...A,role:"radiogroup","data-disabled":p,children:[typeof O=="string"&&a.jsx(Zt,{target:$[O],parent:z,component:"span",transitionDuration:"var(--sc-transition-duration)",...P("indicator")},W),U]})});St.classes=Hs;St.displayName="@mantine/core/SegmentedControl";function Ua({direction:e,levelIndex:t,rowIndex:s,cellIndex:n,size:r}){switch(e){case"up":return t===0&&s===0?null:s===0?{levelIndex:t-1,rowIndex:n<=r[t-1][r[t-1].length-1]-1?r[t-1].length-1:r[t-1].length-2,cellIndex:n}:{levelIndex:t,rowIndex:s-1,cellIndex:n};case"down":return s===r[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:n}:s===r[t].length-2&&n>=r[t][r[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:n}:{levelIndex:t,rowIndex:s+1,cellIndex:n};case"left":return t===0&&s===0&&n===0?null:s===0&&n===0?{levelIndex:t-1,rowIndex:r[t-1].length-1,cellIndex:r[t-1][r[t-1].length-1]-1}:n===0?{levelIndex:t,rowIndex:s-1,cellIndex:r[t][s-1]-1}:{levelIndex:t,rowIndex:s,cellIndex:n-1};case"right":return s===r[t].length-1&&n===r[t][s]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:n===r[t][s]-1?{levelIndex:t,rowIndex:s+1,cellIndex:0}:{levelIndex:t,rowIndex:s,cellIndex:n+1};default:return{levelIndex:t,rowIndex:s,cellIndex:n}}}function Bs({controlsRef:e,direction:t,levelIndex:s,rowIndex:n,cellIndex:r,size:o}){var l,u,f;const i=Ua({direction:t,size:o,rowIndex:n,cellIndex:r,levelIndex:s});if(!i)return;const m=(f=(u=(l=e.current)==null?void 0:l[i.levelIndex])==null?void 0:u[i.rowIndex])==null?void 0:f[i.cellIndex];m&&(m.disabled||m.getAttribute("data-hidden")||m.getAttribute("data-outside")?Bs({controlsRef:e,direction:t,levelIndex:i.levelIndex,cellIndex:i.cellIndex,rowIndex:i.rowIndex,size:o}):m.focus())}function Qa(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function Za(e){var t;return(t=e.current)==null?void 0:t.map(s=>s.map(n=>n.length))}function ss({controlsRef:e,levelIndex:t,rowIndex:s,cellIndex:n,event:r}){const o=Qa(r.key);if(o){r.preventDefault();const i=Za(e);Bs({controlsRef:e,direction:o,levelIndex:t,rowIndex:s,cellIndex:n,size:i})}}function xs(e,t){let s=e?b(e):b();if(t==="")return s.format("YYYY-MM-DD HH:mm:ss");const[n,r,o=0]=t.split(":").map(Number);return s=s.set("hour",n),s=s.set("minute",r),s=s.set("second",o),s=s.set("millisecond",0),s.format("YYYY-MM-DD HH:mm:ss")}function ye(e){return e==null?e:b(e).format("YYYY-MM-DD")}function $e(e){return e==null?e:b(e).format("YYYY-MM-DD HH:mm:ss")}function It(e,t,s){return!e&&!t?$e(s):e&&b(s).isBefore(e)?$e(e):t&&b(s).isAfter(t)?$e(t):$e(s)}function Le(){const e=j.useContext(Nn),t=j.useCallback(o=>o||e.locale,[e.locale]),s=j.useCallback(o=>typeof o=="number"?o:e.firstDayOfWeek,[e.firstDayOfWeek]),n=j.useCallback(o=>Array.isArray(o)?o:e.weekendDays,[e.weekendDays]),r=j.useCallback(o=>typeof o=="string"?o:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getFirstDayOfWeek:s,getWeekendDays:n,getLabelSeparator:r}}function Ja({value:e,type:t,withTime:s}){const n=s?$e:ye;if(t==="range"&&Array.isArray(e)){const r=n(e[0]),o=n(e[1]);return r?o?`${r} – ${o}`:`${r} –`:""}return t==="multiple"&&Array.isArray(e)?e.filter(Boolean).join(", "):!Array.isArray(e)&&e?n(e):""}function Vs({value:e,type:t,name:s,form:n,withTime:r=!1}){return a.jsx("input",{type:"hidden",value:Ja({value:e,type:t,withTime:r}),name:s,form:n})}Vs.displayName="@mantine/dates/HiddenDatesInput";function de(e){return e<10?`0${e}`:`${e}`}const Xa=e=>Number(e.toFixed(0)[0]),mt=j.forwardRef(({value:e,min:t,max:s,onChange:n,focusable:r,step:o,onNextInput:i,onPreviousInput:m,onFocus:l,readOnly:u,...f},d)=>{const h=Xa(s),g=p=>{if(u)return;const D=p.replace(/\D/g,"");if(D!==""){const S=ut(parseInt(D,10),t,s);n(S),S>h&&(i==null||i())}},c=p=>{if(!u){if((p.key==="0"||p.key==="Num0")&&e===0&&(p.preventDefault(),i==null||i()),p.key==="Home"&&(p.preventDefault(),n(t)),p.key==="End"&&(p.preventDefault(),n(s)),(p.key==="Backspace"||p.key==="Delete")&&(p.preventDefault(),e!==null?n(null):m==null||m()),p.key==="ArrowRight"&&(p.preventDefault(),i==null||i()),p.key==="ArrowLeft"&&(p.preventDefault(),m==null||m()),p.key==="ArrowUp"){p.preventDefault();const D=e===null?t:ut(e+o,t,s);n(D)}if(p.key==="ArrowDown"){p.preventDefault();const D=e===null?s:ut(e-o,t,s);n(D)}}};return a.jsx("input",{ref:d,type:"text",role:"spinbutton","aria-valuemin":t,"aria-valuemax":s,"aria-valuenow":e===null?0:e,"data-empty":e===null||void 0,inputMode:"numeric",placeholder:"--",value:e===null?"":de(e),onChange:p=>g(p.currentTarget.value),onKeyDown:c,onFocus:p=>{p.currentTarget.select(),l==null||l(p)},onClick:p=>{p.stopPropagation(),p.currentTarget.select()},onMouseDown:p=>p.stopPropagation(),...f})});mt.displayName="@mantine/dates/SpinInput";const[er,Ye]=Cs("TimeInput component was not found in the component tree"),qs=j.forwardRef(({labels:e,value:t,onChange:s,className:n,style:r,onPreviousInput:o,readOnly:i,onMouseDown:m,onTouchStart:l,inputType:u,...f},d)=>{const h=Ye(),g=c=>{i||(c.key==="Home"&&(c.preventDefault(),s(e.am)),c.key==="End"&&(c.preventDefault(),s(e.pm)),(c.key==="Backspace"||c.key==="Delete")&&(c.preventDefault(),t===null?o==null||o():s(null)),c.key==="ArrowLeft"&&(c.preventDefault(),o==null||o()),(c.key==="ArrowUp"||c.key==="ArrowDown")&&(c.preventDefault(),s(t===e.am?e.pm:e.am)),c.code==="KeyA"&&(c.preventDefault(),s(e.am)),c.code==="KeyP"&&(c.preventDefault(),s(e.pm)))};return u==="input"?a.jsx("input",{...h.getStyles("field",{className:n,style:r}),ref:d,value:t||"--",onChange:c=>!i&&s(c.target.value||null),onClick:c=>c.stopPropagation(),onKeyDown:g,onMouseDown:c=>{c.stopPropagation(),m==null||m(c)},"data-am-pm":!0,...f}):a.jsxs("select",{...h.getStyles("field",{className:n,style:r}),ref:d,value:t||"",onChange:c=>!i&&s(c.target.value||null),onClick:c=>c.stopPropagation(),onKeyDown:g,onMouseDown:c=>{c.stopPropagation(),m==null||m(c)},"data-am-pm":!0,...f,children:[a.jsx("option",{value:"",children:"--"}),a.jsx("option",{value:e.am,children:e.am}),a.jsx("option",{value:e.pm,children:e.pm})]})});qs.displayName="@mantine/dates/AmPmInput";function ns({value:e,active:t,onSelect:s}){const n=Ye();return a.jsx(ke,{mod:{active:t},onClick:()=>s(e),onMouseDown:r=>r.preventDefault(),"data-value":e,tabIndex:-1,...n.getStyles("control"),children:typeof e=="number"?de(e):e})}ns.displayName="@mantine/dates/TimeControl";function Gs({labels:e,value:t,onSelect:s}){const n=Ye(),r=[e.am,e.pm].map(o=>a.jsx(ns,{value:o,active:t===o,onSelect:s},o));return a.jsx("div",{...n.getStyles("controlsList"),children:r})}Gs.displayName="@mantine/dates/AmPmControlsList";function tr(e,t){if(!e||!t)return!1;const s=e.getBoundingClientRect(),n=t.getBoundingClientRect();return s.top>=n.top&&s.bottom<=n.bottom&&s.left>=n.left&&s.right<=n.right}function sr(e,t,s){const n=[];for(let r=e;r<=t;r+=s)n.push(r);return n}function ft({min:e,max:t,step:s,value:n,onSelect:r}){const o=Ye(),i=j.useRef(null),l=sr(e,t,s).map(u=>a.jsx(ns,{value:u,active:n===u,onSelect:r},u));return j.useEffect(()=>{var u;if(n){const f=(u=i.current)==null?void 0:u.querySelector(`[data-value="${n}"]`);tr(f,i.current)||f==null||f.scrollIntoView({block:"nearest"})}},[n]),a.jsx(pt,{h:o.maxDropdownContentHeight,type:"never",viewportRef:i,...o.getStyles("scrollarea"),...o.scrollAreaProps,children:a.jsx("div",{...o.getStyles("controlsList"),children:l})})}ft.displayName="@mantine/dates/TimeControlsList";function gt(e){const[t=null,s=null,n=null]=e.split(":").map(Number);return{hours:t,minutes:s,seconds:n}}function Ks({time:e,compare:t,withSeconds:s}){const n=gt(e),r=gt(t);return s?n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds:n.hours===r.hours&&n.minutes===r.minutes}function nr(e,t){return`${e.getHours()}:${e.getMinutes()}${t?`:${e.getSeconds()}`:""}`}function ar({value:e,format:t,amPmLabels:s,withSeconds:n}){const r=gt(typeof e=="string"?e:nr(e,n));if(r.hours===null||r.minutes===null)return null;if(t==="24h")return`${de(r.hours)}:${de(r.minutes)}${n?`:${de(r.seconds||0)}`:""}`;const o=r.hours>=12;return`${r.hours%12===0?12:r.hours%12}:${de(r.minutes)}${n?`:${de(r.seconds||0)}`:""} ${o?s.pm:s.am}`}function Us({value:e,format:t="24h",amPmLabels:s={am:"AM",pm:"PM"},withSeconds:n=!1}){return a.jsx(a.Fragment,{children:ar({value:e,format:t,amPmLabels:s,withSeconds:n})})}Us.displayName="@mantine/dates/TimeValue";function as({value:e,active:t,onChange:s,format:n,amPmLabels:r,withSeconds:o}){const i=Ye();return a.jsx(ke,{mod:{active:t},onClick:()=>s(e),...i.getStyles("presetControl"),children:a.jsx(Us,{withSeconds:o,value:e,format:n,amPmLabels:r})})}as.displayName="@mantine/dates/TimePresetControl";function Qs({value:e,data:t,onChange:s,format:n,amPmLabels:r,withSeconds:o}){const i=Ye(),m=t.values.map(l=>a.jsx(as,{value:l,format:n,amPmLabels:r,withSeconds:o,active:Ks({time:l,compare:e,withSeconds:o}),onChange:s},l));return a.jsxs("div",{...i.getStyles("presetsGroup"),children:[a.jsx("div",{...i.getStyles("presetsGroupLabel"),children:t.label}),a.jsx(Ns,{cols:o?2:3,spacing:4,children:m})]})}Qs.displayName="@mantine/dates/TimePresetGroup";function Zs({presets:e,format:t,amPmLabels:s,withSeconds:n,value:r,onChange:o}){const i=Ye();if(e.length===0)return null;if(typeof e[0]=="string"){const l=e.map(u=>a.jsx(as,{value:u,format:t,amPmLabels:s,withSeconds:n,active:Ks({time:u,compare:r,withSeconds:n}),onChange:o},u));return a.jsx(pt.Autosize,{mah:i.maxDropdownContentHeight,type:"never",...i.getStyles("scrollarea"),...i.scrollAreaProps,children:a.jsx("div",{...i.getStyles("presetsRoot"),children:a.jsx(Ns,{cols:n?2:3,spacing:4,children:l})})})}const m=e.map((l,u)=>a.jsx(Qs,{data:l,value:r,format:t,amPmLabels:s,withSeconds:n,onChange:o},u));return a.jsx(pt.Autosize,{mah:i.maxDropdownContentHeight,type:"never",...i.getStyles("scrollarea"),...i.scrollAreaProps,children:a.jsx("div",{...i.getStyles("presetsRoot"),children:m})})}Zs.displayName="@mantine/dates/TimePresets";function Ot(e){const[t=0,s=0,n=0]=e.split(":").map(Number);return t*3600+s*60+n}function rr(e){const t=Math.floor(e/3600),s=Math.floor(e%3600/60),n=e%60;return{timeString:`${de(t)}:${de(s)}:${de(n)}`,hours:t,minutes:s,seconds:n}}function Ds(e,t,s){const n=Ot(e),r=Ot(t),o=Ot(s),i=Math.max(r,Math.min(n,o));return rr(i)}function Js({hours:e,minutes:t,seconds:s,amPmLabels:n}){if(e===null)return{hours:null,minutes:null,seconds:null,amPm:null};const r=e>=12?n.pm:n.am;return{hours:e%12===0?12:e%12,minutes:typeof t=="number"?t:null,seconds:typeof s=="number"?s:null,amPm:r}}function Ze({time:e,format:t,amPmLabels:s}){if(e==="")return{hours:null,minutes:null,seconds:null,amPm:null};const{hours:n,minutes:r,seconds:o}=gt(e),i={hours:n,minutes:r,seconds:o};return t==="12h"?Js({...i,amPmLabels:s}):{...i,amPm:null}}function or({hours:e,minutes:t,seconds:s,amPm:n,amPmLabels:r,withSeconds:o}){let i=e;return n===r.pm&&e!==12?i+=12:n===r.am&&e===12&&(i=0),`${de(i)}:${de(t)}${o?`:${de(s||0)}`:""}`}function Et({hours:e,minutes:t,seconds:s,format:n,withSeconds:r,amPm:o,amPmLabels:i}){return e===null||t===null?{valid:!1,value:""}:r&&s===null?{valid:!1,value:""}:n==="24h"?{valid:!0,value:`${de(e)}:${de(t)}${r?`:${de(s)}`:""}`}:o===null?{valid:!1,value:""}:{valid:!0,value:or({hours:e,minutes:t,seconds:s,amPm:o,amPmLabels:i,withSeconds:r})}}function ir({value:e,defaultValue:t,onChange:s,format:n,amPmLabels:r,withSeconds:o=!1,min:i,max:m,clearable:l,readOnly:u,disabled:f,pasteSplit:d}){const h=Ze({time:e||t||"",amPmLabels:r,format:n}),g=j.useRef(!0),[c,p]=j.useState(h.hours),[D,S]=j.useState(h.minutes),[k,C]=j.useState(h.seconds),[M,w]=j.useState(h.amPm),T=l&&!u&&!f&&(c!==null||D!==null||k!==null||M!==null),Y=j.useRef(null),v=j.useRef(null),R=j.useRef(null),F=j.useRef(null),A=y=>{var L,O,_,I;y==="hours"&&((L=Y.current)==null||L.focus()),y==="minutes"&&((O=v.current)==null||O.focus()),y==="seconds"&&((_=R.current)==null||_.focus()),y==="amPm"&&((I=F.current)==null||I.focus())},P=(y,L)=>{const O={hours:c,minutes:D,seconds:k,amPm:M,[y]:L},_=Et({...O,format:n,withSeconds:o,amPmLabels:r});if(_.valid){g.current=!1;const I=Ds(_.value,i||"00:00:00",m||"23:59:59"),U=n==="12h"?Js({hours:I.hours,minutes:I.minutes,seconds:I.seconds,amPmLabels:r}):I;p(U.hours),S(U.minutes),C(U.seconds),s==null||s(I.timeString)}else g.current=!1,typeof e=="string"&&e!==""&&(s==null||s(""))},q=y=>{g.current=!1;const L=Ze({time:y,amPmLabels:r,format:n});p(L.hours),S(L.minutes),C(L.seconds),w(L.amPm),s==null||s(y)},H=y=>{p(y),P("hours",y),A("hours")},V=y=>{S(y),P("minutes",y),A("minutes")},W=y=>{C(y),P("seconds",y),A("seconds")},N=y=>{w(y),P("amPm",y),A("amPm")},z=()=>{g.current=!1,p(null),S(null),C(null),w(null),s==null||s(""),A("hours")},x=y=>{y.preventDefault();const L=y.clipboardData.getData("text"),O=(d||Ze)({time:L,format:n,amPmLabels:r}),_=Et({...O,format:n,withSeconds:o,amPmLabels:r});if(_.valid){g.current=!1;const I=Ds(_.value,i||"00:00:00",m||"23:59:59");s==null||s(I.timeString),p(O.hours),S(O.minutes),C(O.seconds),w(O.amPm)}},$=Et({hours:c,minutes:D,seconds:k,format:n,withSeconds:o,amPm:M,amPmLabels:r});return j.useEffect(()=>{if(g.current&&typeof e=="string"){const y=Ze({time:e||"",amPmLabels:r,format:n});p(y.hours),S(y.minutes),C(y.seconds),w(y.amPm)}g.current=!0},[e]),{refs:{hours:Y,minutes:v,seconds:R,amPm:F},values:{hours:c,minutes:D,seconds:k,amPm:M},setHours:H,setMinutes:V,setSeconds:W,setAmPm:N,focus:A,clear:z,onPaste:x,setTimeString:q,isClearable:T,hiddenInputValue:$.value}}var Xs={fieldsRoot:"m_7a8f1e6d",fieldsGroup:"m_d6bb0a54",controlsList:"m_b97ecb26",controlsListGroup:"m_31fe42f9",dropdown:"m_9c4817c3",control:"m_154c536b",presetControl:"m_7be09d0c",presetsGroup:"m_7d00001d",presetsGroupLabel:"m_d8d918d7",field:"m_6b43ba88"};const lr={hoursStep:1,minutesStep:1,secondsStep:1,format:"24h",amPmLabels:{am:"AM",pm:"PM"},withDropdown:!1,pasteSplit:Ze,maxDropdownContentHeight:200},cr=be((e,{size:t})=>({dropdown:{"--control-font-size":Ae(t)}})),rs=se((e,t)=>{const s=te("TimePicker",lr,e),{classNames:n,className:r,style:o,styles:i,unstyled:m,vars:l,onClick:u,format:f,value:d,defaultValue:h,onChange:g,hoursStep:c,minutesStep:p,secondsStep:D,withSeconds:S,hoursInputLabel:k,minutesInputLabel:C,secondsInputLabel:M,amPmInputLabel:w,amPmLabels:T,clearable:Y,onMouseDown:v,onFocusCapture:R,onBlurCapture:F,min:A,max:P,popoverProps:q,withDropdown:H,rightSection:V,onFocus:W,onBlur:N,clearButtonProps:z,hoursInputProps:x,minutesInputProps:$,secondsInputProps:y,amPmSelectProps:L,readOnly:O,disabled:_,size:I,name:U,form:ee,hiddenInputProps:Q,labelProps:Z,pasteSplit:B,hoursRef:J,minutesRef:X,secondsRef:E,amPmRef:he,presets:ne,maxDropdownContentHeight:ce,scrollAreaProps:rt,...Ee}=s,{resolvedClassNames:We,resolvedStyles:He}=Xe({classNames:n,styles:i,props:s}),ge=pe({name:"TimePicker",classes:Xs,props:s,className:r,style:o,classNames:n,styles:i,unstyled:m,vars:l,varsResolver:cr}),G=ir({value:d,defaultValue:h,onChange:g,format:f,amPmLabels:T,withSeconds:S,min:A,max:P,clearable:Y,disabled:_,readOnly:O,pasteSplit:B}),Be=Te(G.refs.hours,J),Ve=Te(G.refs.minutes,X),qe=Te(G.refs.seconds,E),Ft=Te(G.refs.amPm,he),ot=Ls(),Ge=j.useRef(!1),[zt,Re]=j.useState(!1),we=K=>{Ge.current||(Ge.current=!0,W==null||W(K))},$t=K=>{K.currentTarget.contains(K.relatedTarget)||(Ge.current=!1,N==null||N(K))};return a.jsx(er,{value:{getStyles:ge,scrollAreaProps:rt,maxDropdownContentHeight:ce},children:a.jsxs(Ie,{opened:H&&!O&&zt,transitionProps:{duration:0},position:"bottom-start",withRoles:!1,...q,children:[a.jsx(Ie.Target,{children:a.jsxs(Qt,{component:"div",size:I,disabled:_,ref:t,onClick:K=>{u==null||u(K),G.focus("hours")},onMouseDown:K=>{K.preventDefault(),v==null||v(K)},onFocusCapture:K=>{Re(!0),R==null||R(K)},onBlurCapture:K=>{Re(!1),F==null||F(K)},rightSection:V||G.isClearable&&a.jsx(Mn,{...z,size:I,onClick:K=>{var re;G.clear(),(re=z==null?void 0:z.onClick)==null||re.call(z,K)},onMouseDown:K=>{var re;K.preventDefault(),(re=z==null?void 0:z.onMouseDown)==null||re.call(z,K)}}),labelProps:{htmlFor:ot,...Z},style:o,className:r,classNames:We,styles:He,__staticSelector:"TimePicker",...Ee,children:[a.jsx("div",{...ge("fieldsRoot"),dir:"ltr",children:a.jsxs("div",{...ge("fieldsGroup"),onBlur:$t,children:[a.jsx(mt,{id:ot,...x,...ge("field",{className:x==null?void 0:x.className,style:x==null?void 0:x.style}),value:G.values.hours,onChange:G.setHours,onNextInput:()=>G.focus("minutes"),min:f==="12h"?1:0,max:f==="12h"?12:23,focusable:!0,step:c,ref:Be,"aria-label":k,readOnly:O,disabled:_,onPaste:G.onPaste,onFocus:K=>{var re;we(K),(re=x==null?void 0:x.onFocus)==null||re.call(x,K)}}),a.jsx("span",{children:":"}),a.jsx(mt,{...$,...ge("field",{className:$==null?void 0:$.className,style:$==null?void 0:$.style}),value:G.values.minutes,onChange:G.setMinutes,min:0,max:59,focusable:!0,step:p,ref:Ve,onPreviousInput:()=>G.focus("hours"),onNextInput:()=>S?G.focus("seconds"):G.focus("amPm"),"aria-label":C,tabIndex:-1,readOnly:O,disabled:_,onPaste:G.onPaste,onFocus:K=>{var re;we(K),(re=$==null?void 0:$.onFocus)==null||re.call($,K)}}),S&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:":"}),a.jsx(mt,{...y,...ge("field",{className:y==null?void 0:y.className,style:y==null?void 0:y.style}),value:G.values.seconds,onChange:G.setSeconds,min:0,max:59,focusable:!0,step:D,ref:qe,onPreviousInput:()=>G.focus("minutes"),onNextInput:()=>G.focus("amPm"),"aria-label":M,tabIndex:-1,readOnly:O,disabled:_,onPaste:G.onPaste,onFocus:K=>{var re;we(K),(re=y==null?void 0:y.onFocus)==null||re.call(y,K)}})]}),f==="12h"&&a.jsx(qs,{...L,inputType:H?"input":"select",labels:T,value:G.values.amPm,onChange:G.setAmPm,ref:Ft,"aria-label":w,onPreviousInput:()=>S?G.focus("seconds"):G.focus("minutes"),readOnly:O,disabled:_,tabIndex:-1,onPaste:G.onPaste,onFocus:K=>{var re;we(K),(re=L==null?void 0:L.onFocus)==null||re.call(L,K)}})]})}),a.jsx("input",{type:"hidden",name:U,form:ee,value:G.hiddenInputValue,...Q})]})}),a.jsx(Ie.Dropdown,{...ge("dropdown"),onMouseDown:K=>K.preventDefault(),children:ne?a.jsx(Zs,{value:G.hiddenInputValue,onChange:G.setTimeString,format:f,presets:ne,amPmLabels:T,withSeconds:S||!1}):a.jsxs("div",{...ge("controlsListGroup"),children:[a.jsx(ft,{min:f==="12h"?1:0,max:f==="12h"?12:23,step:c,value:G.values.hours,onSelect:G.setHours}),a.jsx(ft,{min:0,max:59,step:p,value:G.values.minutes,onSelect:G.setMinutes}),S&&a.jsx(ft,{min:0,max:59,step:D,value:G.values.seconds,onSelect:G.setSeconds}),f==="12h"&&a.jsx(Gs,{labels:T,value:G.values.amPm,onSelect:G.setAmPm})]})})]})})});rs.displayName="@mantine/dates/TimePicker";rs.classes=Xs;var en={day:"m_396ce5cb"};const dr={},ur=be((e,{size:t})=>({day:{"--day-size":Oe(t,"day-size")}})),os=se((e,t)=>{const s=te("Day",dr,e),{classNames:n,className:r,style:o,styles:i,unstyled:m,vars:l,date:u,disabled:f,__staticSelector:d,weekend:h,outside:g,selected:c,renderDay:p,inRange:D,firstInRange:S,lastInRange:k,hidden:C,static:M,highlightToday:w,...T}=s,Y=pe({name:d||"Day",classes:en,props:s,className:r,style:o,classNames:n,styles:i,unstyled:m,vars:l,varsResolver:ur,rootSelector:"day"});return a.jsx(ke,{...Y("day",{style:C?{display:"none"}:void 0}),component:M?"div":"button",ref:t,disabled:f,"data-today":b(u).isSame(new Date,"day")||void 0,"data-hidden":C||void 0,"data-highlight-today":w||void 0,"data-disabled":f||void 0,"data-weekend":!f&&!g&&h||void 0,"data-outside":!f&&g||void 0,"data-selected":!f&&c||void 0,"data-in-range":D&&!f||void 0,"data-first-in-range":S&&!f||void 0,"data-last-in-range":k&&!f||void 0,"data-static":M||void 0,unstyled:m,...T,children:(p==null?void 0:p(u))||b(u).date()})});os.classes=en;os.displayName="@mantine/dates/Day";function mr({locale:e,format:t="dd",firstDayOfWeek:s=1}){const n=b().day(s),r=[];for(let o=0;o<7;o+=1)typeof t=="string"?r.push(b(n).add(o,"days").locale(e).format(t)):r.push(t(b(n).add(o,"days").format("YYYY-MM-DD")));return r}var tn={weekday:"m_18a3eca"};const fr={},hr=be((e,{size:t})=>({weekdaysRow:{"--wr-fz":Ae(t),"--wr-spacing":Tn(t)}})),is=se((e,t)=>{const s=te("WeekdaysRow",fr,e),{classNames:n,className:r,style:o,styles:i,unstyled:m,vars:l,locale:u,firstDayOfWeek:f,weekdayFormat:d,cellComponent:h="th",__staticSelector:g,withWeekNumbers:c,...p}=s,D=pe({name:g||"WeekdaysRow",classes:tn,props:s,className:r,style:o,classNames:n,styles:i,unstyled:m,vars:l,varsResolver:hr,rootSelector:"weekdaysRow"}),S=Le(),k=mr({locale:S.getLocale(u),format:d,firstDayOfWeek:S.getFirstDayOfWeek(f)}).map((C,M)=>a.jsx(h,{...D("weekday"),children:C},M));return a.jsxs(le,{component:"tr",ref:t,...D("weekdaysRow"),...p,children:[c&&a.jsx(h,{...D("weekday"),children:"#"}),k]})});is.classes=tn;is.displayName="@mantine/dates/WeekdaysRow";function pr(e,t=1){let s=b(e);const n=t===0?6:t-1;for(;s.day()!==n;)s=s.add(1,"day");return s.format("YYYY-MM-DD")}function gr(e,t=1){let s=b(e);for(;s.day()!==t;)s=s.subtract(1,"day");return s.format("YYYY-MM-DD")}function yr({month:e,firstDayOfWeek:t=1,consistentWeeks:s}){const n=b(e).subtract(b(e).date()-1,"day"),r=b(n.format("YYYY-M-D")),o=r.format("YYYY-MM-DD"),i=r.add(+r.daysInMonth()-1,"day").format("YYYY-MM-DD"),m=pr(i,t),l=[];let u=b(gr(o,t));for(;b(u).isBefore(m,"day");){const f=[];for(let d=0;d<7;d+=1)f.push(u.format("YYYY-MM-DD")),u=u.add(1,"day");l.push(f)}if(s&&l.length<6){const f=l[l.length-1],d=f[f.length-1];let h=b(d).add(1,"day");for(;l.length<6;){const g=[];for(let c=0;c<7;c+=1)g.push(h.format("YYYY-MM-DD")),h=h.add(1,"day");l.push(g)}}return l}function sn(e,t){return b(e).format("YYYY-MM")===b(t).format("YYYY-MM")}function nn(e,t){return t?b(e).isAfter(b(t).subtract(1,"day"),"day"):!0}function an(e,t){return t?b(e).isBefore(b(t).add(1,"day"),"day"):!0}function vr({dates:e,minDate:t,maxDate:s,getDayProps:n,excludeDate:r,hideOutsideDates:o,month:i}){const m=e.flat().filter(f=>{var d;return an(f,s)&&nn(f,t)&&!(r!=null&&r(f))&&!((d=n==null?void 0:n(f))!=null&&d.disabled)&&(!o||sn(f,i))}),l=m.find(f=>{var d;return(d=n==null?void 0:n(f))==null?void 0:d.selected});if(l)return l;const u=m.find(f=>b().isSame(f,"date"));return u||m[0]}var ht={exports:{}},xr=ht.exports,bs;function Dr(){return bs||(bs=1,function(e,t){(function(s,n){e.exports=n()})(xr,function(){var s="day";return function(n,r,o){var i=function(u){return u.add(4-u.isoWeekday(),s)},m=r.prototype;m.isoWeekYear=function(){return i(this).year()},m.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),s);var f,d,h,g,c=i(this),p=(f=this.isoWeekYear(),d=this.$u,h=(d?o.utc:o)().year(f).startOf("year"),g=4-h.isoWeekday(),h.isoWeekday()>4&&(g+=7),h.add(g,s));return c.diff(p,"week")+1},m.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var l=m.startOf;m.startOf=function(u,f){var d=this.$utils(),h=!!d.u(f)||f;return d.p(u)==="isoweek"?h?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(u,f)}}})}(ht)),ht.exports}var br=Dr();const wr=An(br);b.extend(wr);function Sr(e){const t=e.find(s=>b(s).day()===1);return b(t).isoWeek()}var rn={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const jr={withCellSpacing:!0},Cr=be((e,{size:t})=>({weekNumber:{"--wn-fz":Ae(t),"--wn-size":Oe(t,"wn-size")}})),jt=se((e,t)=>{const s=te("Month",jr,e),{classNames:n,className:r,style:o,styles:i,unstyled:m,vars:l,__staticSelector:u,locale:f,firstDayOfWeek:d,weekdayFormat:h,month:g,weekendDays:c,getDayProps:p,excludeDate:D,minDate:S,maxDate:k,renderDay:C,hideOutsideDates:M,hideWeekdays:w,getDayAriaLabel:T,static:Y,__getDayRef:v,__onDayKeyDown:R,__onDayClick:F,__onDayMouseEnter:A,__preventFocus:P,__stopPropagation:q,withCellSpacing:H,size:V,highlightToday:W,withWeekNumbers:N,...z}=s,x=pe({name:u||"Month",classes:rn,props:s,className:r,style:o,classNames:n,styles:i,unstyled:m,vars:l,varsResolver:Cr,rootSelector:"month"}),$=Le(),y=yr({month:g,firstDayOfWeek:$.getFirstDayOfWeek(d),consistentWeeks:$.consistentWeeks}),L=vr({dates:y,minDate:ye(S),maxDate:ye(k),getDayProps:p,excludeDate:D,hideOutsideDates:M,month:g}),{resolvedClassNames:O,resolvedStyles:_}=Xe({classNames:n,styles:i,props:s}),I=y.map((U,ee)=>{const Q=U.map((Z,B)=>{const J=!sn(Z,g),X=(T==null?void 0:T(Z))||b(Z).locale(f||$.locale).format("D MMMM YYYY"),E=p==null?void 0:p(Z),he=b(Z).isSame(L,"date");return a.jsx("td",{...x("monthCell"),"data-with-spacing":H||void 0,children:a.jsx(os,{__staticSelector:u||"Month",classNames:O,styles:_,unstyled:m,"data-mantine-stop-propagation":q||void 0,highlightToday:W,renderDay:C,date:Z,size:V,weekend:$.getWeekendDays(c).includes(b(Z).get("day")),outside:J,hidden:M?J:!1,"aria-label":X,static:Y,disabled:(D==null?void 0:D(Z))||!an(Z,ye(k))||!nn(Z,ye(S)),ref:ne=>v==null?void 0:v(ee,B,ne),...E,onKeyDown:ne=>{var ce;(ce=E==null?void 0:E.onKeyDown)==null||ce.call(E,ne),R==null||R(ne,{rowIndex:ee,cellIndex:B,date:Z})},onMouseEnter:ne=>{var ce;(ce=E==null?void 0:E.onMouseEnter)==null||ce.call(E,ne),A==null||A(ne,Z)},onClick:ne=>{var ce;(ce=E==null?void 0:E.onClick)==null||ce.call(E,ne),F==null||F(ne,Z)},onMouseDown:ne=>{var ce;(ce=E==null?void 0:E.onMouseDown)==null||ce.call(E,ne),P&&ne.preventDefault()},tabIndex:P||!he?-1:0})},Z.toString())});return a.jsxs("tr",{...x("monthRow"),children:[N&&a.jsx("td",{...x("weekNumber"),children:Sr(U)}),Q]},ee)});return a.jsxs(le,{component:"table",...x("month"),size:V,ref:t,...z,children:[!w&&a.jsx("thead",{...x("monthThead"),children:a.jsx(is,{__staticSelector:u||"Month",locale:f,firstDayOfWeek:d,weekdayFormat:h,size:V,classNames:O,styles:_,unstyled:m,withWeekNumbers:N})}),a.jsx("tbody",{...x("monthTbody"),children:I})]})});jt.classes=rn;jt.displayName="@mantine/dates/Month";var on={pickerControl:"m_dc6a3c71"};const _r={},kr=be((e,{size:t})=>({pickerControl:{"--dpc-fz":Ae(t),"--dpc-size":Oe(t,"dpc-size")}})),Ct=se((e,t)=>{const s=te("PickerControl",_r,e),{classNames:n,className:r,style:o,styles:i,unstyled:m,vars:l,firstInRange:u,lastInRange:f,inRange:d,__staticSelector:h,selected:g,disabled:c,...p}=s,D=pe({name:h||"PickerControl",classes:on,props:s,className:r,style:o,classNames:n,styles:i,unstyled:m,vars:l,varsResolver:kr,rootSelector:"pickerControl"});return a.jsx(ke,{...D("pickerControl"),ref:t,unstyled:m,"data-picker-control":!0,"data-selected":g&&!c||void 0,"data-disabled":c||void 0,"data-in-range":d&&!c&&!g||void 0,"data-first-in-range":u&&!c||void 0,"data-last-in-range":f&&!c||void 0,disabled:c,...p})});Ct.classes=on;Ct.displayName="@mantine/dates/PickerControl";function ln({year:e,minDate:t,maxDate:s}){return!t&&!s?!1:!!(t&&b(e).isBefore(t,"year")||s&&b(e).isAfter(s,"year"))}function Lr({years:e,minDate:t,maxDate:s,getYearControlProps:n}){const r=e.flat().filter(m=>{var l;return!ln({year:m,minDate:t,maxDate:s})&&!((l=n==null?void 0:n(m))!=null&&l.disabled)}),o=r.find(m=>{var l;return(l=n==null?void 0:n(m))==null?void 0:l.selected});if(o)return o;const i=r.find(m=>b().isSame(m,"year"));return i||r[0]}function cn(e){const t=b(e).year(),s=t-t%10;let n=0;const r=[[],[],[],[]];for(let o=0;o<4;o+=1){const i=o===3?1:3;for(let m=0;m<i;m+=1)r[o].push(b(new Date(s+n,0)).format("YYYY-MM-DD")),n+=1}return r}var dn={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const Nr={yearsListFormat:"YYYY",withCellSpacing:!0},_t=se((e,t)=>{const s=te("YearsList",Nr,e),{classNames:n,className:r,style:o,styles:i,unstyled:m,vars:l,decade:u,yearsListFormat:f,locale:d,minDate:h,maxDate:g,getYearControlProps:c,__staticSelector:p,__getControlRef:D,__onControlKeyDown:S,__onControlClick:k,__onControlMouseEnter:C,__preventFocus:M,__stopPropagation:w,withCellSpacing:T,size:Y,...v}=s,R=pe({name:p||"YearsList",classes:dn,props:s,className:r,style:o,classNames:n,styles:i,unstyled:m,vars:l,rootSelector:"yearsList"}),F=Le(),A=cn(u),P=Lr({years:A,minDate:h,maxDate:g,getYearControlProps:c}),q=A.map((H,V)=>{const W=H.map((N,z)=>{const x=c==null?void 0:c(N),$=b(N).isSame(P,"year");return a.jsx("td",{...R("yearsListCell"),"data-with-spacing":T||void 0,children:a.jsx(Ct,{...R("yearsListControl"),size:Y,unstyled:m,"data-mantine-stop-propagation":w||void 0,disabled:ln({year:N,minDate:h,maxDate:g}),ref:y=>D==null?void 0:D(V,z,y),...x,onKeyDown:y=>{var L;(L=x==null?void 0:x.onKeyDown)==null||L.call(x,y),S==null||S(y,{rowIndex:V,cellIndex:z,date:N})},onClick:y=>{var L;(L=x==null?void 0:x.onClick)==null||L.call(x,y),k==null||k(y,N)},onMouseEnter:y=>{var L;(L=x==null?void 0:x.onMouseEnter)==null||L.call(x,y),C==null||C(y,N)},onMouseDown:y=>{var L;(L=x==null?void 0:x.onMouseDown)==null||L.call(x,y),M&&y.preventDefault()},tabIndex:M||!$?-1:0,children:b(N).locale(F.getLocale(d)).format(f)})},z)});return a.jsx("tr",{...R("yearsListRow"),children:W},V)});return a.jsx(le,{component:"table",ref:t,size:Y,...R("yearsList"),...v,children:a.jsx("tbody",{children:q})})});_t.classes=dn;_t.displayName="@mantine/dates/YearsList";function un({month:e,minDate:t,maxDate:s}){return!t&&!s?!1:!!(t&&b(e).isBefore(t,"month")||s&&b(e).isAfter(s,"month"))}function Mr({months:e,minDate:t,maxDate:s,getMonthControlProps:n}){const r=e.flat().filter(m=>{var l;return!un({month:m,minDate:t,maxDate:s})&&!((l=n==null?void 0:n(m))!=null&&l.disabled)}),o=r.find(m=>{var l;return(l=n==null?void 0:n(m))==null?void 0:l.selected});if(o)return o;const i=r.find(m=>b().isSame(m,"month"));return i||r[0]}function Tr(e){const t=b(e).startOf("year").toDate(),s=[[],[],[],[]];let n=0;for(let r=0;r<4;r+=1)for(let o=0;o<3;o+=1)s[r].push(b(t).add(n,"months").format("YYYY-MM-DD")),n+=1;return s}var mn={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const Ar={monthsListFormat:"MMM",withCellSpacing:!0},kt=se((e,t)=>{const s=te("MonthsList",Ar,e),{classNames:n,className:r,style:o,styles:i,unstyled:m,vars:l,__staticSelector:u,year:f,monthsListFormat:d,locale:h,minDate:g,maxDate:c,getMonthControlProps:p,__getControlRef:D,__onControlKeyDown:S,__onControlClick:k,__onControlMouseEnter:C,__preventFocus:M,__stopPropagation:w,withCellSpacing:T,size:Y,...v}=s,R=pe({name:u||"MonthsList",classes:mn,props:s,className:r,style:o,classNames:n,styles:i,unstyled:m,vars:l,rootSelector:"monthsList"}),F=Le(),A=Tr(f),P=Mr({months:A,minDate:ye(g),maxDate:ye(c),getMonthControlProps:p}),q=A.map((H,V)=>{const W=H.map((N,z)=>{const x=p==null?void 0:p(N),$=b(N).isSame(P,"month");return a.jsx("td",{...R("monthsListCell"),"data-with-spacing":T||void 0,children:a.jsx(Ct,{...R("monthsListControl"),size:Y,unstyled:m,__staticSelector:u||"MonthsList","data-mantine-stop-propagation":w||void 0,disabled:un({month:N,minDate:ye(g),maxDate:ye(c)}),ref:y=>D==null?void 0:D(V,z,y),...x,onKeyDown:y=>{var L;(L=x==null?void 0:x.onKeyDown)==null||L.call(x,y),S==null||S(y,{rowIndex:V,cellIndex:z,date:N})},onClick:y=>{var L;(L=x==null?void 0:x.onClick)==null||L.call(x,y),k==null||k(y,N)},onMouseEnter:y=>{var L;(L=x==null?void 0:x.onMouseEnter)==null||L.call(x,y),C==null||C(y,N)},onMouseDown:y=>{var L;(L=x==null?void 0:x.onMouseDown)==null||L.call(x,y),M&&y.preventDefault()},tabIndex:M||!$?-1:0,children:b(N).locale(F.getLocale(h)).format(d)})},z)});return a.jsx("tr",{...R("monthsListRow"),children:W},V)});return a.jsx(le,{component:"table",ref:t,size:Y,...R("monthsList"),...v,children:a.jsx("tbody",{children:q})})});kt.classes=mn;kt.displayName="@mantine/dates/MonthsList";var fn={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const Yr={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},Rr=be((e,{size:t})=>({calendarHeader:{"--dch-control-size":Oe(t,"dch-control-size"),"--dch-fz":Ae(t)}})),Ne=se((e,t)=>{const s=te("CalendarHeader",Yr,e),{classNames:n,className:r,style:o,styles:i,unstyled:m,vars:l,nextIcon:u,previousIcon:f,nextLabel:d,previousLabel:h,onNext:g,onPrevious:c,onLevelClick:p,label:D,nextDisabled:S,previousDisabled:k,hasNextLevel:C,levelControlAriaLabel:M,withNext:w,withPrevious:T,__staticSelector:Y,__preventFocus:v,__stopPropagation:R,...F}=s,A=pe({name:Y||"CalendarHeader",classes:fn,props:s,className:r,style:o,classNames:n,styles:i,unstyled:m,vars:l,varsResolver:Rr,rootSelector:"calendarHeader"}),P=v?q=>q.preventDefault():void 0;return a.jsxs(le,{...A("calendarHeader"),ref:t,...F,children:[T&&a.jsx(ke,{...A("calendarHeaderControl"),"data-direction":"previous","aria-label":h,onClick:c,unstyled:m,onMouseDown:P,disabled:k,"data-disabled":k||void 0,tabIndex:v||k?-1:0,"data-mantine-stop-propagation":R||void 0,children:f||a.jsx(ms,{...A("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})}),a.jsx(ke,{component:C?"button":"div",...A("calendarHeaderLevel"),onClick:C?p:void 0,unstyled:m,onMouseDown:C?P:void 0,disabled:!C,"data-static":!C||void 0,"aria-label":M,tabIndex:v||!C?-1:0,"data-mantine-stop-propagation":R||void 0,children:D}),w&&a.jsx(ke,{...A("calendarHeaderControl"),"data-direction":"next","aria-label":d,onClick:g,unstyled:m,onMouseDown:P,disabled:S,"data-disabled":S||void 0,tabIndex:v||S?-1:0,"data-mantine-stop-propagation":R||void 0,children:u||a.jsx(ms,{...A("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})})]})});Ne.classes=fn;Ne.displayName="@mantine/dates/CalendarHeader";function Pr(e){const t=cn(e);return[t[0][0],t[3][0]]}const Fr={decadeLabelFormat:"YYYY"},Lt=se((e,t)=>{const s=te("DecadeLevel",Fr,e),{decade:n,locale:r,minDate:o,maxDate:i,yearsListFormat:m,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:f,__onControlClick:d,__onControlMouseEnter:h,withCellSpacing:g,__preventFocus:c,nextIcon:p,previousIcon:D,nextLabel:S,previousLabel:k,onNext:C,onPrevious:M,nextDisabled:w,previousDisabled:T,levelControlAriaLabel:Y,withNext:v,withPrevious:R,decadeLabelFormat:F,classNames:A,styles:P,unstyled:q,__staticSelector:H,__stopPropagation:V,size:W,...N}=s,z=Le(),[x,$]=Pr(n),y={__staticSelector:H||"DecadeLevel",classNames:A,styles:P,unstyled:q,size:W},L=typeof w=="boolean"?w:i?!b($).endOf("year").isBefore(i):!1,O=typeof T=="boolean"?T:o?!b(x).startOf("year").isAfter(o):!1,_=(I,U)=>b(I).locale(r||z.locale).format(U);return a.jsxs(le,{"data-decade-level":!0,size:W,ref:t,...N,children:[a.jsx(Ne,{label:typeof F=="function"?F(x,$):`${_(x,F)} – ${_($,F)}`,__preventFocus:c,__stopPropagation:V,nextIcon:p,previousIcon:D,nextLabel:S,previousLabel:k,onNext:C,onPrevious:M,nextDisabled:L,previousDisabled:O,hasNextLevel:!1,levelControlAriaLabel:Y,withNext:v,withPrevious:R,...y}),a.jsx(_t,{decade:n,locale:r,minDate:o,maxDate:i,yearsListFormat:m,getYearControlProps:l,__getControlRef:u,__onControlKeyDown:f,__onControlClick:d,__onControlMouseEnter:h,__preventFocus:c,__stopPropagation:V,withCellSpacing:g,...y})]})});Lt.classes={..._t.classes,...Ne.classes};Lt.displayName="@mantine/dates/DecadeLevel";const zr={yearLabelFormat:"YYYY"},Nt=se((e,t)=>{const s=te("YearLevel",zr,e),{year:n,locale:r,minDate:o,maxDate:i,monthsListFormat:m,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:f,__onControlClick:d,__onControlMouseEnter:h,withCellSpacing:g,__preventFocus:c,nextIcon:p,previousIcon:D,nextLabel:S,previousLabel:k,onNext:C,onPrevious:M,onLevelClick:w,nextDisabled:T,previousDisabled:Y,hasNextLevel:v,levelControlAriaLabel:R,withNext:F,withPrevious:A,yearLabelFormat:P,__staticSelector:q,__stopPropagation:H,size:V,classNames:W,styles:N,unstyled:z,...x}=s,$=Le(),y={__staticSelector:q||"YearLevel",classNames:W,styles:N,unstyled:z,size:V},L=typeof T=="boolean"?T:i?!b(n).endOf("year").isBefore(i):!1,O=typeof Y=="boolean"?Y:o?!b(n).startOf("year").isAfter(o):!1;return a.jsxs(le,{"data-year-level":!0,size:V,ref:t,...x,children:[a.jsx(Ne,{label:typeof P=="function"?P(n):b(n).locale(r||$.locale).format(P),__preventFocus:c,__stopPropagation:H,nextIcon:p,previousIcon:D,nextLabel:S,previousLabel:k,onNext:C,onPrevious:M,onLevelClick:w,nextDisabled:L,previousDisabled:O,hasNextLevel:v,levelControlAriaLabel:R,withNext:F,withPrevious:A,...y}),a.jsx(kt,{year:n,locale:r,minDate:o,maxDate:i,monthsListFormat:m,getMonthControlProps:l,__getControlRef:u,__onControlKeyDown:f,__onControlClick:d,__onControlMouseEnter:h,__preventFocus:c,__stopPropagation:H,withCellSpacing:g,...y})]})});Nt.classes={...Ne.classes,...kt.classes};Nt.displayName="@mantine/dates/YearLevel";const $r={monthLabelFormat:"MMMM YYYY"},Mt=se((e,t)=>{const s=te("MonthLevel",$r,e),{month:n,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:m,getDayProps:l,excludeDate:u,minDate:f,maxDate:d,renderDay:h,hideOutsideDates:g,hideWeekdays:c,getDayAriaLabel:p,__getDayRef:D,__onDayKeyDown:S,__onDayClick:k,__onDayMouseEnter:C,withCellSpacing:M,highlightToday:w,withWeekNumbers:T,__preventFocus:Y,__stopPropagation:v,nextIcon:R,previousIcon:F,nextLabel:A,previousLabel:P,onNext:q,onPrevious:H,onLevelClick:V,nextDisabled:W,previousDisabled:N,hasNextLevel:z,levelControlAriaLabel:x,withNext:$,withPrevious:y,monthLabelFormat:L,classNames:O,styles:_,unstyled:I,__staticSelector:U,size:ee,static:Q,...Z}=s,B=Le(),J={__staticSelector:U||"MonthLevel",classNames:O,styles:_,unstyled:I,size:ee},X=typeof W=="boolean"?W:d?!b(n).endOf("month").isBefore(d):!1,E=typeof N=="boolean"?N:f?!b(n).startOf("month").isAfter(f):!1;return a.jsxs(le,{"data-month-level":!0,size:ee,ref:t,...Z,children:[a.jsx(Ne,{label:typeof L=="function"?L(n):b(n).locale(r||B.locale).format(L),__preventFocus:Y,__stopPropagation:v,nextIcon:R,previousIcon:F,nextLabel:A,previousLabel:P,onNext:q,onPrevious:H,onLevelClick:V,nextDisabled:X,previousDisabled:E,hasNextLevel:z,levelControlAriaLabel:x,withNext:$,withPrevious:y,...J}),a.jsx(jt,{month:n,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:m,getDayProps:l,excludeDate:u,minDate:f,maxDate:d,renderDay:h,hideOutsideDates:g,hideWeekdays:c,getDayAriaLabel:p,__getDayRef:D,__onDayKeyDown:S,__onDayClick:k,__onDayMouseEnter:C,__preventFocus:Y,__stopPropagation:v,static:Q,withCellSpacing:M,highlightToday:w,withWeekNumbers:T,...J})]})});Mt.classes={...jt.classes,...Ne.classes};Mt.displayName="@mantine/dates/MonthLevel";var hn={levelsGroup:"m_30b26e33"};const Ir={},Me=se((e,t)=>{const s=te("LevelsGroup",Ir,e),{classNames:n,className:r,style:o,styles:i,unstyled:m,vars:l,__staticSelector:u,...f}=s,d=pe({name:u||"LevelsGroup",classes:hn,props:s,className:r,style:o,classNames:n,styles:i,unstyled:m,vars:l,rootSelector:"levelsGroup"});return a.jsx(le,{ref:t,...d("levelsGroup"),...f})});Me.classes=hn;Me.displayName="@mantine/dates/LevelsGroup";const Or={numberOfColumns:1},Tt=se((e,t)=>{const s=te("DecadeLevelGroup",Or,e),{decade:n,locale:r,minDate:o,maxDate:i,yearsListFormat:m,getYearControlProps:l,__onControlClick:u,__onControlMouseEnter:f,withCellSpacing:d,__preventFocus:h,nextIcon:g,previousIcon:c,nextLabel:p,previousLabel:D,onNext:S,onPrevious:k,nextDisabled:C,previousDisabled:M,classNames:w,styles:T,unstyled:Y,__staticSelector:v,__stopPropagation:R,numberOfColumns:F,levelControlAriaLabel:A,decadeLabelFormat:P,size:q,vars:H,...V}=s,W=j.useRef([]),N=Array(F).fill(0).map((z,x)=>{const $=b(n).add(x*10,"years").format("YYYY-MM-DD");return a.jsx(Lt,{size:q,yearsListFormat:m,decade:$,withNext:x===F-1,withPrevious:x===0,decadeLabelFormat:P,__onControlClick:u,__onControlMouseEnter:f,__onControlKeyDown:(y,L)=>ss({levelIndex:x,rowIndex:L.rowIndex,cellIndex:L.cellIndex,event:y,controlsRef:W}),__getControlRef:(y,L,O)=>{Array.isArray(W.current[x])||(W.current[x]=[]),Array.isArray(W.current[x][y])||(W.current[x][y]=[]),W.current[x][y][L]=O},levelControlAriaLabel:typeof A=="function"?A($):A,locale:r,minDate:o,maxDate:i,__preventFocus:h,__stopPropagation:R,nextIcon:g,previousIcon:c,nextLabel:p,previousLabel:D,onNext:S,onPrevious:k,nextDisabled:C,previousDisabled:M,getYearControlProps:l,__staticSelector:v||"DecadeLevelGroup",classNames:w,styles:T,unstyled:Y,withCellSpacing:d},x)});return a.jsx(Me,{classNames:w,styles:T,__staticSelector:v||"DecadeLevelGroup",ref:t,size:q,unstyled:Y,...V,children:N})});Tt.classes={...Me.classes,...Lt.classes};Tt.displayName="@mantine/dates/DecadeLevelGroup";const Er={numberOfColumns:1},At=se((e,t)=>{const s=te("YearLevelGroup",Er,e),{year:n,locale:r,minDate:o,maxDate:i,monthsListFormat:m,getMonthControlProps:l,__onControlClick:u,__onControlMouseEnter:f,withCellSpacing:d,__preventFocus:h,nextIcon:g,previousIcon:c,nextLabel:p,previousLabel:D,onNext:S,onPrevious:k,onLevelClick:C,nextDisabled:M,previousDisabled:w,hasNextLevel:T,classNames:Y,styles:v,unstyled:R,__staticSelector:F,__stopPropagation:A,numberOfColumns:P,levelControlAriaLabel:q,yearLabelFormat:H,size:V,vars:W,...N}=s,z=j.useRef([]),x=Array(P).fill(0).map(($,y)=>{const L=b(n).add(y,"years").format("YYYY-MM-DD");return a.jsx(Nt,{size:V,monthsListFormat:m,year:L,withNext:y===P-1,withPrevious:y===0,yearLabelFormat:H,__stopPropagation:A,__onControlClick:u,__onControlMouseEnter:f,__onControlKeyDown:(O,_)=>ss({levelIndex:y,rowIndex:_.rowIndex,cellIndex:_.cellIndex,event:O,controlsRef:z}),__getControlRef:(O,_,I)=>{Array.isArray(z.current[y])||(z.current[y]=[]),Array.isArray(z.current[y][O])||(z.current[y][O]=[]),z.current[y][O][_]=I},levelControlAriaLabel:typeof q=="function"?q(L):q,locale:r,minDate:o,maxDate:i,__preventFocus:h,nextIcon:g,previousIcon:c,nextLabel:p,previousLabel:D,onNext:S,onPrevious:k,onLevelClick:C,nextDisabled:M,previousDisabled:w,hasNextLevel:T,getMonthControlProps:l,classNames:Y,styles:v,unstyled:R,__staticSelector:F||"YearLevelGroup",withCellSpacing:d},y)});return a.jsx(Me,{classNames:Y,styles:v,__staticSelector:F||"YearLevelGroup",ref:t,size:V,unstyled:R,...N,children:x})});At.classes={...Nt.classes,...Me.classes};At.displayName="@mantine/dates/YearLevelGroup";const Wr={numberOfColumns:1},Yt=se((e,t)=>{const s=te("MonthLevelGroup",Wr,e),{month:n,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:m,getDayProps:l,excludeDate:u,minDate:f,maxDate:d,renderDay:h,hideOutsideDates:g,hideWeekdays:c,getDayAriaLabel:p,__onDayClick:D,__onDayMouseEnter:S,withCellSpacing:k,highlightToday:C,withWeekNumbers:M,__preventFocus:w,nextIcon:T,previousIcon:Y,nextLabel:v,previousLabel:R,onNext:F,onPrevious:A,onLevelClick:P,nextDisabled:q,previousDisabled:H,hasNextLevel:V,classNames:W,styles:N,unstyled:z,numberOfColumns:x,levelControlAriaLabel:$,monthLabelFormat:y,__staticSelector:L,__stopPropagation:O,size:_,static:I,vars:U,...ee}=s,Q=j.useRef([]),Z=Array(x).fill(0).map((B,J)=>{const X=b(n).add(J,"months").format("YYYY-MM-DD");return a.jsx(Mt,{month:X,withNext:J===x-1,withPrevious:J===0,monthLabelFormat:y,__stopPropagation:O,__onDayClick:D,__onDayMouseEnter:S,__onDayKeyDown:(E,he)=>ss({levelIndex:J,rowIndex:he.rowIndex,cellIndex:he.cellIndex,event:E,controlsRef:Q}),__getDayRef:(E,he,ne)=>{Array.isArray(Q.current[J])||(Q.current[J]=[]),Array.isArray(Q.current[J][E])||(Q.current[J][E]=[]),Q.current[J][E][he]=ne},levelControlAriaLabel:typeof $=="function"?$(X):$,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:m,getDayProps:l,excludeDate:u,minDate:f,maxDate:d,renderDay:h,hideOutsideDates:g,hideWeekdays:c,getDayAriaLabel:p,__preventFocus:w,nextIcon:T,previousIcon:Y,nextLabel:v,previousLabel:R,onNext:F,onPrevious:A,onLevelClick:P,nextDisabled:q,previousDisabled:H,hasNextLevel:V,classNames:W,styles:N,unstyled:z,__staticSelector:L||"MonthLevelGroup",size:_,static:I,withCellSpacing:k,highlightToday:C,withWeekNumbers:M},J)});return a.jsx(Me,{classNames:W,styles:N,__staticSelector:L||"MonthLevelGroup",ref:t,size:_,...ee,children:Z})});Yt.classes={...Me.classes,...Mt.classes};Yt.displayName="@mantine/dates/MonthLevelGroup";var pn={input:"m_6fa5e2aa"};const Hr={},Rt=se((e,t)=>{const{inputProps:s,wrapperProps:n,placeholder:r,classNames:o,styles:i,unstyled:m,popoverProps:l,modalProps:u,dropdownType:f,children:d,formattedValue:h,dropdownHandlers:g,dropdownOpened:c,onClick:p,clearable:D,onClear:S,clearButtonProps:k,rightSection:C,shouldClear:M,readOnly:w,disabled:T,value:Y,name:v,form:R,type:F,onDropdownClose:A,withTime:P,...q}=Yn("PickerInputBase",Hr,e),H=a.jsx(ct.ClearButton,{onClick:S,unstyled:m,...k}),V=()=>{F==="range"&&Array.isArray(Y)&&Y[0]&&!Y[1]&&S(),g.close(),A==null||A()};return a.jsxs(a.Fragment,{children:[f==="modal"&&!w&&a.jsx(Vt,{opened:c,onClose:V,withCloseButton:!1,size:"auto","data-dates-modal":!0,unstyled:m,...u,children:d}),a.jsx(ct.Wrapper,{...n,children:a.jsxs(Ie,{position:"bottom-start",opened:c,trapFocus:!0,returnFocus:!1,unstyled:m,...l,disabled:(l==null?void 0:l.disabled)||f==="modal"||w,onChange:W=>{var N;W||((N=l==null?void 0:l.onClose)==null||N.call(l),V())},children:[a.jsx(Ie.Target,{children:a.jsx(ct,{"data-dates-input":!0,"data-read-only":w||void 0,disabled:T,component:"button",type:"button",multiline:!0,onClick:W=>{p==null||p(W),g.toggle()},__clearSection:H,__clearable:D&&M&&!w&&!T,rightSection:C,...s,ref:t,classNames:{...o,input:Rn(pn.input,o==null?void 0:o.input)},...q,children:h||a.jsx(ct.Placeholder,{error:s.error,unstyled:m,className:o==null?void 0:o.placeholder,style:i==null?void 0:i.placeholder,children:r})})}),a.jsx(Ie.Dropdown,{"data-dates-dropdown":!0,children:d})]})}),a.jsx(Vs,{value:Y,name:v,form:R,type:F,withTime:P})]})});Rt.classes=pn;Rt.displayName="@mantine/dates/PickerInputBase";const ws=e=>e==="range"?[null,null]:e==="multiple"?[]:null,Ss=(e,t)=>{const s=t?$e:ye;return Array.isArray(e)?e.map(s):s(e)};function ls({type:e,value:t,defaultValue:s,onChange:n,withTime:r=!1}){const o=j.useRef(e),[i,m,l]=vt({value:Ss(t,r),defaultValue:Ss(s,r),finalValue:ws(e),onChange:n});let u=i;return o.current!==e&&(o.current=e,t===void 0&&(u=s!==void 0?s:ws(e),m(u))),[u,m,l]}function Wt(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function Br(e){return e===0?"month":e===1?"year":"decade"}function Qe(e,t,s){return Br(ut(Wt(e,0),Wt(t,0),Wt(s,2)))}const Vr={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},Pt=se((e,t)=>{const s=te("Calendar",Vr,e),{vars:n,maxLevel:r,minLevel:o,defaultLevel:i,level:m,onLevelChange:l,date:u,defaultDate:f,onDateChange:d,numberOfColumns:h,columnsToScroll:g,ariaLabels:c,nextLabel:p,previousLabel:D,onYearSelect:S,onMonthSelect:k,onYearMouseEnter:C,onMonthMouseEnter:M,__updateDateOnYearSelect:w,__updateDateOnMonthSelect:T,firstDayOfWeek:Y,weekdayFormat:v,weekendDays:R,getDayProps:F,excludeDate:A,renderDay:P,hideOutsideDates:q,hideWeekdays:H,getDayAriaLabel:V,monthLabelFormat:W,nextIcon:N,previousIcon:z,__onDayClick:x,__onDayMouseEnter:$,withCellSpacing:y,highlightToday:L,withWeekNumbers:O,monthsListFormat:_,getMonthControlProps:I,yearLabelFormat:U,yearsListFormat:ee,getYearControlProps:Q,decadeLabelFormat:Z,classNames:B,styles:J,unstyled:X,minDate:E,maxDate:he,locale:ne,__staticSelector:ce,size:rt,__preventFocus:Ee,__stopPropagation:We,onNextDecade:He,onPreviousDecade:ge,onNextYear:G,onPreviousYear:Be,onNextMonth:Ve,onPreviousMonth:qe,static:Ft,...ot}=s,{resolvedClassNames:Ge,resolvedStyles:zt}=Xe({classNames:B,styles:J,props:s}),[Re,we]=vt({value:m?Qe(m,o,r):void 0,defaultValue:i?Qe(i,o,r):void 0,finalValue:Qe(void 0,o,r),onChange:l}),[$t,K]=ls({type:"default",value:ye(u),defaultValue:ye(f),onChange:d}),re={__staticSelector:ce||"Calendar",styles:zt,classNames:Ge,unstyled:X,size:rt},Pe=g||h||1,ds=new Date,vn=E&&b(ds).isAfter(E)?E:b(ds).format("YYYY-MM-DD"),Se=$t||vn,xn=()=>{const ie=b(Se).add(Pe,"month").format("YYYY-MM-DD");Ve==null||Ve(ie),K(ie)},Dn=()=>{const ie=b(Se).subtract(Pe,"month").format("YYYY-MM-DD");qe==null||qe(ie),K(ie)},bn=()=>{const ie=b(Se).add(Pe,"year").format("YYYY-MM-DD");G==null||G(ie),K(ie)},wn=()=>{const ie=b(Se).subtract(Pe,"year").format("YYYY-MM-DD");Be==null||Be(ie),K(ie)},Sn=()=>{const ie=b(Se).add(10*Pe,"year").format("YYYY-MM-DD");He==null||He(ie),K(ie)},jn=()=>{const ie=b(Se).subtract(10*Pe,"year").format("YYYY-MM-DD");ge==null||ge(ie),K(ie)};return a.jsxs(le,{ref:t,size:rt,"data-calendar":!0,...ot,children:[Re==="month"&&a.jsx(Yt,{month:Se,minDate:E,maxDate:he,firstDayOfWeek:Y,weekdayFormat:v,weekendDays:R,getDayProps:F,excludeDate:A,renderDay:P,hideOutsideDates:q,hideWeekdays:H,getDayAriaLabel:V,onNext:xn,onPrevious:Dn,hasNextLevel:r!=="month",onLevelClick:()=>we("year"),numberOfColumns:h,locale:ne,levelControlAriaLabel:c==null?void 0:c.monthLevelControl,nextLabel:(c==null?void 0:c.nextMonth)??p,nextIcon:N,previousLabel:(c==null?void 0:c.previousMonth)??D,previousIcon:z,monthLabelFormat:W,__onDayClick:x,__onDayMouseEnter:$,__preventFocus:Ee,__stopPropagation:We,static:Ft,withCellSpacing:y,highlightToday:L,withWeekNumbers:O,...re}),Re==="year"&&a.jsx(At,{year:Se,numberOfColumns:h,minDate:E,maxDate:he,monthsListFormat:_,getMonthControlProps:I,locale:ne,onNext:bn,onPrevious:wn,hasNextLevel:r!=="month"&&r!=="year",onLevelClick:()=>we("decade"),levelControlAriaLabel:c==null?void 0:c.yearLevelControl,nextLabel:(c==null?void 0:c.nextYear)??p,nextIcon:N,previousLabel:(c==null?void 0:c.previousYear)??D,previousIcon:z,yearLabelFormat:U,__onControlMouseEnter:M,__onControlClick:(ie,Ke)=>{T&&K(Ke),we(Qe("month",o,r)),k==null||k(Ke)},__preventFocus:Ee,__stopPropagation:We,withCellSpacing:y,...re}),Re==="decade"&&a.jsx(Tt,{decade:Se,minDate:E,maxDate:he,yearsListFormat:ee,getYearControlProps:Q,locale:ne,onNext:Sn,onPrevious:jn,numberOfColumns:h,nextLabel:(c==null?void 0:c.nextDecade)??p,nextIcon:N,previousLabel:(c==null?void 0:c.previousDecade)??D,previousIcon:z,decadeLabelFormat:Z,__onControlMouseEnter:C,__onControlClick:(ie,Ke)=>{w&&K(Ke),we(Qe("year",o,r)),S==null||S(Ke)},__preventFocus:Ee,__stopPropagation:We,withCellSpacing:y,...re})]})});Pt.classes={...Tt.classes,...At.classes,...Yt.classes};Pt.displayName="@mantine/dates/Calendar";function qr(e){const{maxLevel:t,minLevel:s,defaultLevel:n,level:r,onLevelChange:o,nextIcon:i,previousIcon:m,date:l,defaultDate:u,onDateChange:f,numberOfColumns:d,columnsToScroll:h,ariaLabels:g,nextLabel:c,previousLabel:p,onYearSelect:D,onMonthSelect:S,onYearMouseEnter:k,onMonthMouseEnter:C,onNextMonth:M,onPreviousMonth:w,onNextYear:T,onPreviousYear:Y,onNextDecade:v,onPreviousDecade:R,withCellSpacing:F,highlightToday:A,__updateDateOnYearSelect:P,__updateDateOnMonthSelect:q,withWeekNumbers:H,firstDayOfWeek:V,weekdayFormat:W,weekendDays:N,getDayProps:z,excludeDate:x,renderDay:$,hideOutsideDates:y,hideWeekdays:L,getDayAriaLabel:O,monthLabelFormat:_,monthsListFormat:I,getMonthControlProps:U,yearLabelFormat:ee,yearsListFormat:Q,getYearControlProps:Z,decadeLabelFormat:B,allowSingleDateInRange:J,allowDeselect:X,minDate:E,maxDate:he,locale:ne,...ce}=e;return{calendarProps:{maxLevel:t,minLevel:s,defaultLevel:n,level:r,onLevelChange:o,nextIcon:i,previousIcon:m,date:l,defaultDate:u,onDateChange:f,numberOfColumns:d,columnsToScroll:h,ariaLabels:g,nextLabel:c,previousLabel:p,onYearSelect:D,onMonthSelect:S,onYearMouseEnter:k,onMonthMouseEnter:C,onNextMonth:M,onPreviousMonth:w,onNextYear:T,onPreviousYear:Y,onNextDecade:v,onPreviousDecade:R,withCellSpacing:F,highlightToday:A,__updateDateOnYearSelect:P,__updateDateOnMonthSelect:q,withWeekNumbers:H,firstDayOfWeek:V,weekdayFormat:W,weekendDays:N,getDayProps:z,excludeDate:x,renderDay:$,hideOutsideDates:y,hideWeekdays:L,getDayAriaLabel:O,monthLabelFormat:_,monthsListFormat:I,getMonthControlProps:U,yearLabelFormat:ee,yearsListFormat:Q,getYearControlProps:Z,decadeLabelFormat:B,allowSingleDateInRange:J,allowDeselect:X,minDate:E,maxDate:he,locale:ne},others:ce}}function js(e,t){const s=[...t].sort((n,r)=>b(n).isAfter(b(r))?1:-1);return b(s[0]).startOf("day").subtract(1,"ms").isBefore(e)&&b(s[1]).endOf("day").add(1,"ms").isAfter(e)}function Gr({type:e,level:t,value:s,defaultValue:n,onChange:r,allowSingleDateInRange:o,allowDeselect:i,onMouseLeave:m}){const[l,u]=ls({type:e,value:s,defaultValue:n,onChange:r}),[f,d]=j.useState(e==="range"&&l[0]&&!l[1]?l[0]:null),[h,g]=j.useState(null),c=w=>{if(e==="range"){if(f&&!l[1]){if(b(w).isSame(f,t)&&!o){d(null),g(null),u([null,null]);return}const T=[w,f];T.sort((Y,v)=>b(Y).isAfter(b(v))?1:-1),u(T),g(null),d(null);return}if(l[0]&&!l[1]&&b(w).isSame(l[0],t)&&!o){d(null),g(null),u([null,null]);return}u([w,null]),g(null),d(w);return}if(e==="multiple"){l.some(T=>b(T).isSame(w,t))?u(l.filter(T=>!b(T).isSame(w,t))):u([...l,w]);return}l&&i&&b(w).isSame(l,t)?u(null):u(w)},p=w=>f&&h?js(w,[h,f]):l[0]&&l[1]?js(w,l):!1,D=e==="range"?w=>{m==null||m(w),g(null)}:m,S=w=>l[0]&&b(w).isSame(l[0],t)?!(h&&b(h).isBefore(l[0])):!1,k=w=>l[1]?b(w).isSame(l[1],t):!l[0]||!h?!1:b(h).isBefore(l[0])&&b(w).isSame(l[0],t),C=w=>{if(e==="range")return{selected:l.some(Y=>Y&&b(Y).isSame(w,t)),inRange:p(w),firstInRange:S(w),lastInRange:k(w),"data-autofocus":!!l[0]&&b(l[0]).isSame(w,t)||void 0};if(e==="multiple")return{selected:l.some(Y=>Y&&b(Y).isSame(w,t)),"data-autofocus":!!l[0]&&b(l[0]).isSame(w,t)||void 0};const T=b(l).isSame(w,t);return{selected:T,"data-autofocus":T||void 0}},M=e==="range"&&f?g:()=>{};return j.useEffect(()=>{if(e==="range")if(l[0]&&!l[1])d(l[0]);else{const w=l[0]==null&&l[1]==null,T=l[0]!=null&&l[1]!=null;(w||T)&&(d(null),g(null))}},[l]),{onDateChange:c,onRootMouseLeave:D,onHoveredDateChange:M,getControlProps:C,_value:l,setValue:u}}const Kr={type:"default",defaultLevel:"month",numberOfColumns:1},at=se((e,t)=>{const s=te("DatePicker",Kr,e),{classNames:n,styles:r,vars:o,type:i,defaultValue:m,value:l,onChange:u,__staticSelector:f,getDayProps:d,allowSingleDateInRange:h,allowDeselect:g,onMouseLeave:c,numberOfColumns:p,hideOutsideDates:D,__onDayMouseEnter:S,__onDayClick:k,...C}=s,{onDateChange:M,onRootMouseLeave:w,onHoveredDateChange:T,getControlProps:Y}=Gr({type:i,level:"day",allowDeselect:g,allowSingleDateInRange:h,value:l,defaultValue:m,onChange:u,onMouseLeave:c}),{resolvedClassNames:v,resolvedStyles:R}=Xe({classNames:n,styles:r,props:s});return a.jsx(Pt,{ref:t,minLevel:"month",classNames:v,styles:R,__staticSelector:f||"DatePicker",onMouseLeave:w,numberOfColumns:p,hideOutsideDates:D??p!==1,__onDayMouseEnter:(F,A)=>{T(A),S==null||S(F,A)},__onDayClick:(F,A)=>{M(A),k==null||k(F,A)},getDayProps:F=>({...Y(F),...d==null?void 0:d(F)}),...C})});at.classes=Pt.classes;at.displayName="@mantine/dates/DatePicker";function Ur({minDate:e,value:t}){const s=e?b(e).format("HH:mm:ss"):null;return t&&e&&t===e?s??void 0:void 0}function Qr({maxDate:e,value:t}){const s=e?b(e).format("HH:mm:ss"):null;return t&&e&&t===e?s??void 0:void 0}var gn={timeWrapper:"m_208d2562",timeInput:"m_62ee059"};const Zr={dropdownType:"popover"},yt=se((e,t)=>{const s=te("DateTimePicker",Zr,e),{value:n,defaultValue:r,onChange:o,valueFormat:i,locale:m,classNames:l,styles:u,unstyled:f,timePickerProps:d,submitButtonProps:h,withSeconds:g,level:c,defaultLevel:p,size:D,variant:S,dropdownType:k,vars:C,minDate:M,maxDate:w,...T}=s,Y=pe({name:"DateTimePicker",classes:gn,props:s,classNames:l,styles:u,unstyled:f,vars:C}),{resolvedClassNames:v,resolvedStyles:R}=Xe({classNames:l,styles:u,props:s}),F=i||(g?"DD/MM/YYYY HH:mm:ss":"DD/MM/YYYY HH:mm"),A=j.useRef(null),P=Te(A,d==null?void 0:d.hoursRef),{calendarProps:{allowSingleDateInRange:q,...H},others:V}=qr(T),W=Le(),[N,z]=ls({type:"default",value:n,defaultValue:r,onChange:o,withTime:!0}),x=X=>X?b(X).format(g?"HH:mm:ss":"HH:mm"):"",[$,y]=j.useState(x(N)),[L,O]=j.useState(c||p||"month"),[_,I]=Ms(!1),U=N?b(N).locale(W.getLocale(m)).format(F):"",ee=X=>{var E;(E=d==null?void 0:d.onChange)==null||E.call(d,X),y(X),X&&z(xs(N,X))},Q=X=>{var E;X&&z(xs(It(M,w,X),$)),(E=A.current)==null||E.focus()},Z=X=>{X.key==="Enter"&&(X.preventDefault(),I.close())};fs(()=>{_||y(x(N))},[N,_]),fs(()=>{_&&O("month")},[_]);const B=k==="popover",J=()=>{const X=It(M,w,N);N&&N!==X&&z(It(M,w,N))};return a.jsxs(Rt,{formattedValue:U,dropdownOpened:T.disabled?!1:_,dropdownHandlers:I,classNames:v,styles:R,unstyled:f,ref:t,onClear:()=>z(null),shouldClear:!!N,value:N,size:D,variant:S,dropdownType:k,...V,type:"default",__staticSelector:"DateTimePicker",onDropdownClose:J,withTime:!0,children:[a.jsx(at,{...H,maxDate:w,minDate:M,size:D,variant:S,type:"default",value:N,defaultDate:N,onChange:Q,locale:m,classNames:v,styles:R,unstyled:f,__staticSelector:"DateTimePicker",__stopPropagation:B,level:c,defaultLevel:p,onLevelChange:X=>{var E;O(X),(E=H.onLevelChange)==null||E.call(H,X)}}),L==="month"&&a.jsxs("div",{...Y("timeWrapper"),children:[a.jsx(rs,{value:$,withSeconds:g,unstyled:f,min:Ur({minDate:M,value:N}),max:Qr({maxDate:w,value:N}),...d,...Y("timeInput",{className:d==null?void 0:d.className,style:d==null?void 0:d.style}),onChange:ee,onKeyDown:Z,size:D,"data-mantine-stop-propagation":B||void 0,hoursRef:P}),a.jsx(Je,{variant:"default",size:`input-${D||"sm"}`,...Y("submitButton",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),unstyled:f,"data-mantine-stop-propagation":B||void 0,children:a.jsx(Pn,{size:"30%"}),...h,onClick:X=>{var E;(E=h==null?void 0:h.onClick)==null||E.call(h,X),I.close(),J()}})]})]})});yt.classes={...gn,...Rt.classes,...at.classes};yt.displayName="@mantine/dates/DateTimePicker";/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jr=et("outline","building","IconBuilding",[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M9 8l1 0",key:"svg-1"}],["path",{d:"M9 12l1 0",key:"svg-2"}],["path",{d:"M9 16l1 0",key:"svg-3"}],["path",{d:"M14 8l1 0",key:"svg-4"}],["path",{d:"M14 12l1 0",key:"svg-5"}],["path",{d:"M14 16l1 0",key:"svg-6"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xr=et("outline","clock","IconClock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var eo=et("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var to=et("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var so=et("outline","notes","IconNotes",[["path",{d:"M5 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 7l6 0",key:"svg-1"}],["path",{d:"M9 11l6 0",key:"svg-2"}],["path",{d:"M9 15l4 0",key:"svg-3"}]]);function cs(){const e=Fn(),{data:t=[],isLoading:s,error:n}=Fe({queryKey:["appointments"],queryFn:ve.getAllAppointments,refetchInterval:3e4,refetchOnWindowFocus:!0,staleTime:0}),r=c=>Fe({queryKey:["appointment",c],queryFn:()=>ve.getAppointmentById(c),enabled:!!c}),o=c=>Fe({queryKey:["appointments","clinic",c],queryFn:()=>ve.getAppointmentsByClinic(c),enabled:!!c,refetchInterval:3e4,refetchOnWindowFocus:!0,staleTime:0}),i=c=>Fe({queryKey:["appointments","doctor",c],queryFn:()=>ve.getAppointmentsByDoctor(c),enabled:!!c,refetchInterval:3e4,refetchOnWindowFocus:!0,staleTime:0}),m=c=>Fe({queryKey:["appointments","user",c],queryFn:()=>ve.getAppointmentsByUser(c),enabled:!!c,refetchInterval:3e4,refetchOnWindowFocus:!0,staleTime:0}),l=c=>Fe({queryKey:["appointment-status",c],queryFn:()=>ve.getAppointmentStatus(c),enabled:!!c,refetchInterval:3e4,refetchOnWindowFocus:!0}),u=Ue({mutationFn:ve.createAppointment,onSuccess:()=>{e.invalidateQueries({queryKey:["appointments"]})}}),f=Ue({mutationFn:ve.createAppointmentWithPatient,onSuccess:c=>{var p,D;e.invalidateQueries({predicate:S=>S.queryKey[0]==="appointments"}),(p=c==null?void 0:c.appointment)!=null&&p.doctorId&&e.invalidateQueries({queryKey:["appointments","doctor",c.appointment.doctorId]}),(D=c==null?void 0:c.appointment)!=null&&D.userId&&localStorage.setItem("lastPatientUserId",c.appointment.userId)}}),d=Ue({mutationFn:ve.updateAppointment,onSuccess:()=>{e.invalidateQueries({predicate:c=>c.queryKey[0]==="appointments"})}}),h=Ue({mutationFn:ve.deleteAppointment,onSuccess:()=>{e.invalidateQueries({predicate:c=>c.queryKey[0]==="appointments"})}}),g=Ue({mutationFn:({appointmentId:c,newStatus:p})=>ve.updateAppointmentStatus(c,p),onSuccess:()=>{e.invalidateQueries({predicate:c=>c.queryKey[0]==="appointments"})}});return{appointments:t,isLoadingAppointments:s,appointmentsError:n,getAppointmentById:r,getAppointmentsByClinic:o,getAppointmentsByDoctor:i,getAppointmentsByUser:m,getAppointmentStatus:l,createAppointment:u,createAppointmentWithPatient:f,updateAppointment:d,deleteAppointment:h,updateAppointmentStatus:g}}function yn({onSubmit:e,isLoading:t,initialValues:s=null}){const{doctors:n}=Ts(),{patients:r,isLoading:o}=Jn(),[i,m]=j.useState("new"),l=Xn({initialValues:s||{doctorId:"",patientId:"",firstName:"",lastName:"",email:"",phoneNumber:"",address:"",startTime:null,endTime:null,notes:""},validate:{doctorId:d=>d?null:"Please select a doctor",patientId:d=>i==="existing"&&!d?"Please select a patient":null,firstName:d=>i==="new"&&!(d!=null&&d.trim())?"First name is required":null,lastName:d=>i==="new"&&!(d!=null&&d.trim())?"Last name is required":null,email:d=>i==="new"?d!=null&&d.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)?null:"Invalid email format":"Email is required":null,phoneNumber:d=>i==="new"&&!(d!=null&&d.trim())?"Phone number is required":null,address:d=>i==="new"&&!(d!=null&&d.trim())?"Address is required":null,startTime:d=>d?null:"Please select appointment start time",endTime:d=>d?null:"Please select appointment end time"}});j.useEffect(()=>{if(l.values.startTime){const d=new Date(l.values.startTime);d.setMinutes(d.getMinutes()+30),l.setFieldValue("endTime",d)}},[l.values.startTime]),j.useEffect(()=>{i==="existing"?l.setValues({...l.values,firstName:"",lastName:"",email:"",phoneNumber:"",address:"",patientId:""}):l.setValues({...l.values,patientId:""})},[i]);const u=d=>{if(!d)return null;const g=new Date(d).toISOString();return console.log("Converting date:",d,"to ISO:",g),g},f=d=>{console.log("Form values before processing:",{startTime:d.startTime,endTime:d.endTime,patientType:i,values:d});let h;i==="existing"?h={startDate:u(d.startTime),endDate:u(d.endTime),notes:d.notes?d.notes.trim():"",doctorId:parseInt(d.doctorId),userId:d.patientId}:h={firstName:d.firstName.trim(),lastName:d.lastName.trim(),email:d.email.trim(),phoneNumber:d.phoneNumber.trim(),address:d.address.trim(),startDate:u(d.startTime),endDate:u(d.endTime),notes:d.notes?d.notes.trim():"",doctorId:parseInt(d.doctorId)},h.patientType=i,console.log("Submitting appointment data:",h),e(h)};return a.jsx("form",{onSubmit:l.onSubmit(f),children:a.jsxs(xe,{pos:"relative",children:[a.jsx(zn,{visible:t}),a.jsx(qt,{radius:"md",label:"Doctor",placeholder:"Select a doctor",data:n.map(d=>({value:d.id.toString(),label:`${d.name} (${d.clinicName})`})),searchable:!0,required:!0,...l.getInputProps("doctorId")}),a.jsx(Gt,{label:"Patient Details",labelPosition:"center"}),a.jsx(le,{children:a.jsx(St,{radius:"md",value:i,onChange:m,data:[{label:"New Patient",value:"new"},{label:"Existing Patient",value:"existing"}],fullWidth:!0})}),i==="existing"?a.jsx(qt,{radius:"md",label:"Select Patient",placeholder:"Choose an existing patient",data:r.map(d=>({value:d.id,label:d.fullName+" - "+d.email})),searchable:!0,required:!0,disabled:o,...l.getInputProps("patientId")}):a.jsxs(a.Fragment,{children:[a.jsxs(oe,{grow:!0,children:[a.jsx(ze,{radius:"md",label:"First Name",placeholder:"Enter patient first name",required:!0,...l.getInputProps("firstName")}),a.jsx(ze,{radius:"md",label:"Last Name",placeholder:"Enter patient last name",required:!0,...l.getInputProps("lastName")})]}),a.jsx(ze,{radius:"md",label:"Email",placeholder:"Enter patient email",type:"email",required:!0,...l.getInputProps("email")}),a.jsx(ze,{radius:"md",label:"Phone Number",placeholder:"Enter patient phone number",required:!0,...l.getInputProps("phoneNumber")}),a.jsx(ze,{radius:"md",label:"Address",placeholder:"Enter patient address",required:!0,...l.getInputProps("address")})]}),a.jsx(Gt,{label:"Appointment Details",labelPosition:"center"}),a.jsxs(oe,{grow:!0,children:[a.jsx(yt,{radius:"md",timePickerProps:{withDropdown:!0,popoverProps:{withinPortal:!1},format:"12h",withSeconds:!1},label:"Start Time",placeholder:"Appointment start time",required:!0,clearable:!0,valueFormat:"DD MMM YYYY hh:mm A",minDate:new Date,...l.getInputProps("startTime")}),a.jsx(yt,{radius:"md",timePickerProps:{withDropdown:!0,popoverProps:{withinPortal:!1},format:"12h"},label:"End Time",placeholder:"Appointment end time",required:!0,clearable:!0,valueFormat:"DD MMM YYYY hh:mm A",minDate:l.values.startTime||new Date,...l.getInputProps("endTime")})]}),a.jsx(es,{radius:"md",label:"Notes",placeholder:"Add any notes about the appointment",...l.getInputProps("notes")}),a.jsx(oe,{justify:"flex-end",mt:"md",children:a.jsx(_e,{type:"submit",loading:t,radius:"md",children:s?"Update Appointment":"Create Appointment"})})]})})}function no({opened:e,onClose:t,appointment:s,onEdit:n,onDelete:r}){return s?a.jsx(As,{opened:e,onClose:t,title:"Appointment Details",position:"right",size:"md",scrollAreaComponent:pt.Autosize,children:a.jsx(xe,{gap:"lg",p:"md",children:a.jsxs(xe,{gap:"md",children:[a.jsxs(oe,{gap:"md",children:[a.jsx(ta,{size:"md",radius:"xl",color:"blue",children:s.patientName.charAt(0)}),a.jsx(fe,{size:"lg",fw:600,children:s.patientName})]}),a.jsxs(oe,{gap:"xs",c:"dimmed",children:[a.jsx($n,{size:16}),a.jsx(fe,{size:"sm",children:"0585855858"})]}),a.jsx(Gt,{}),a.jsxs(xe,{gap:"xs",children:[a.jsxs(oe,{gap:"xs",c:"dimmed",children:[a.jsx(In,{size:16}),a.jsx(fe,{size:"sm",fw:500,children:s.displayDate||s.date})]}),a.jsxs(oe,{gap:"xs",c:"dimmed",children:[a.jsx(Xr,{size:16}),a.jsx(fe,{size:"sm",fw:500,children:s.time})]}),a.jsxs(oe,{gap:"xs",c:"dimmed",children:[a.jsx(On,{size:16}),a.jsxs(fe,{size:"sm",fw:500,children:["Dr. ",s.doctorName]})]}),a.jsxs(oe,{gap:"xs",c:"dimmed",children:[a.jsx(Jr,{size:16}),a.jsx(fe,{size:"sm",fw:500,children:s.clinicName})]})]}),a.jsxs(xe,{gap:"xs",children:[a.jsxs(oe,{gap:"xs",c:"dimmed",children:[a.jsx(so,{size:16}),a.jsx(fe,{size:"sm",fw:500,children:"Notes"})]}),a.jsx(fe,{size:"sm",c:"dimmed",children:s.notes})]}),a.jsxs(oe,{justify:"flex-end",mt:"md",children:[a.jsx(Kt,{label:"Edit Appointment",children:a.jsx(Je,{radius:"md",variant:"subtle",color:"black",size:"lg",onClick:n,children:a.jsx(Ys,{size:20})})}),a.jsx(Kt,{label:"Delete Appointment",children:a.jsx(Je,{radius:"md",variant:"subtle",color:"red",size:"lg",onClick:r,children:a.jsx(Rs,{size:20})})})]})]})})}):null}const ao=e=>{const t=new Date,s=new Date(t.setHours(0,0,0,0));switch(e){case"today":return[s,new Date(t.setHours(23,59,59,999))];case"this-week":{const n=new Date(s);n.setDate(n.getDate()-n.getDay());const r=new Date(n);return r.setDate(r.getDate()+6),r.setHours(23,59,59,999),[n,r]}case"this-month":{const n=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()+1,0,23,59,59,999);return[n,r]}default:return[null,null]}},Ht=e=>{if(!e)return null;const t=new Date(e);return t.setHours(0,0,0,0),t};function ro({searchQuery:e,hasFilters:t}){const s=()=>e?"No appointments found matching your search":t?"No appointments found with the current filters":"No appointments found";return a.jsx(ae.Tr,{children:a.jsx(ae.Td,{colSpan:7,children:a.jsx(Hn,{h:100,children:a.jsx(xe,{align:"center",gap:"md",children:a.jsx(fe,{size:"lg",fw:500,c:"dimmed",children:s()})})})})})}function oo({appointments:e=[],onAppointmentClick:t,searchQuery:s=""}){var L,O;const[n,r]=j.useState("all"),[o,i]=j.useState([null,null]),[m,l]=j.useState(!1),[u,f]=j.useState(null),[d,h]=j.useState(!1),[g,c]=j.useState(!1),[p,D]=j.useState(!1),[S,k]=j.useState(e),[C,M]=j.useState(1),w=10,{updateAppointment:T,deleteAppointment:Y,updateAppointmentStatus:v}=cs(),R={0:"Scheduled",1:"Cancelled",2:"Completed",3:"No Show"},F={0:"blue",1:"red",2:"green",3:"orange"};j.useEffect(()=>{k(e)},[e]);const A=_=>{const I=ao(_);i(I)},P=()=>{if(!o[0]||!o[1])return"Date Range";const _=ee=>!ee||!(ee instanceof Date)?"":ee.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),I=_(o[0]),U=_(o[1]);return!I||!U?"Date Range":`${I} - ${U}`},q=_=>{f(_),h(!0)},H=async _=>{try{await Y.mutateAsync(_),je.show({title:"Success",message:"Appointment deleted successfully",color:"green"})}catch(I){je.show({title:"Error",message:I.message||"Failed to delete appointment",color:"red"})}},V=async _=>{try{await T.mutateAsync({id:u.id,..._}),je.show({title:"Success",message:"Appointment updated successfully",color:"green"}),h(!1)}catch(I){je.show({title:"Error",message:I.message||"Failed to update appointment",color:"red"})}};j.useEffect(()=>{const _=e.filter(I=>{var ee;if(!(n==="all"||I.status===parseInt(n)))return!1;if(s){const Q=s.toLowerCase().trim();if(![I.patientName,(ee=I.id)==null?void 0:ee.toString()].some(J=>J==null?void 0:J.toLowerCase().includes(Q)))return!1}if(!o[0]||!o[1])return!0;try{const Q=Ht(new Date(I.date)),Z=Ht(o[0]),B=Ht(o[1]);return!Q||!Z||!B?!0:Q>=Z&&Q<=B}catch(Q){return console.error("Error filtering appointment date:",Q),!0}});k(_),M(1)},[e,n,s,o]);const W=Math.ceil(S.length/w),N=(C-1)*w,z=N+w,x=S.slice(N,z),$=async(_,I)=>{try{const U=await v.mutateAsync({appointmentId:_,newStatus:I});je.show({title:"Success",message:U.message||"Appointment status updated successfully",color:"green"});const ee=S.map(Q=>Q.id===_?{...Q,status:U.newStatus}:Q);k(ee)}catch(U){je.show({title:"Error",message:U.message||"Failed to update appointment status",color:"red"})}},y=_=>{f(_),D(!0),t&&t(_)};return a.jsxs(xe,{children:[a.jsx(oe,{mt:"sm",justify:"start",w:"100%",mb:"md",children:a.jsxs(oe,{gap:"md",children:[a.jsx(St,{size:"md",radius:"md",value:n,onChange:r,data:[{label:"All",value:"all"},{label:"Scheduled",value:"0"},{label:"Completed",value:"2"},{label:"Cancelled",value:"1"},{label:"No Show",value:"3"}]}),a.jsxs(ue,{shadow:"md",radius:"lg",opened:m,onChange:l,position:"bottom-start",width:"targetWidth",children:[a.jsx(ue.Target,{children:a.jsx(_e,{size:"md",radius:"md",variant:"subtle",rightSection:a.jsx(En,{color:"black",size:18}),children:P()})}),a.jsx(ue.Dropdown,{p:"md",children:a.jsxs(xe,{gap:"xs",children:[a.jsxs(oe,{py:"sm",w:"100%",justify:"left",children:[a.jsx(_e,{size:"sm",radius:"md",variant:"subtle",onClick:()=>A("today"),children:"Today"}),a.jsx(_e,{size:"sm",radius:"md",variant:"subtle",onClick:()=>A("this-week"),children:"This Week"}),a.jsx(_e,{radius:"md",size:"sm",variant:"subtle",onClick:()=>A("this-month"),children:"This Month"})]}),a.jsx(at,{size:"sm",type:"range",value:o,onChange:_=>{const[I,U]=_;if(I&&U){const ee=new Date(U);ee.setHours(23,59,59,999),i([I,ee])}else i(_)},numberOfColumns:2})]})})]})]})}),a.jsxs(ae,{verticalSpacing:"sm",highlightOnHover:!0,children:[a.jsx(ae.Thead,{children:a.jsxs(ae.Tr,{children:[a.jsx(ae.Th,{children:"ID"}),a.jsx(ae.Th,{children:"Patient"}),a.jsx(ae.Th,{children:"Doctor"}),a.jsx(ae.Th,{children:"Clinic"}),a.jsx(ae.Th,{children:"Date"}),a.jsx(ae.Th,{children:"Time"}),a.jsx(ae.Th,{children:"Status"})]})}),a.jsx(ae.Tbody,{children:x.length===0?a.jsx(ro,{searchQuery:s,hasFilters:n!=="all"||o[0]&&o[1]}):x.map(_=>{const I=_.status,U=R[I]||"Scheduled",ee=F[I]||"blue";return a.jsxs(ae.Tr,{style:{cursor:"pointer"},onClick:()=>y(_),children:[a.jsx(ae.Td,{children:_.id}),a.jsx(ae.Td,{children:_.patientName}),a.jsx(ae.Td,{children:_.doctorName}),a.jsx(ae.Td,{children:_.clinicName}),a.jsx(ae.Td,{children:_.displayDate||_.date}),a.jsx(ae.Td,{children:_.time}),a.jsx(ae.Td,{children:a.jsx(Wn,{color:ee,children:U})}),a.jsx(ae.Td,{children:a.jsx(oe,{gap:"xs",onClick:Q=>Q.stopPropagation(),children:a.jsxs(ue,{shadow:"md",width:200,children:[a.jsx(ue.Target,{children:a.jsx(Je,{variant:"subtle",color:"gray",children:a.jsx(to,{size:16})})}),a.jsxs(ue.Dropdown,{children:[a.jsx(ue.Label,{children:"Update Status"}),a.jsx(ue.Item,{onClick:()=>$(_.id,0),color:"blue",children:"Mark as Scheduled"}),a.jsx(ue.Item,{onClick:()=>$(_.id,1),color:"red",children:"Mark as Cancelled"}),a.jsx(ue.Item,{onClick:()=>$(_.id,2),color:"green",children:"Mark as Completed"}),a.jsx(ue.Item,{onClick:()=>$(_.id,3),color:"orange",children:"Mark as No Show"}),a.jsx(ue.Divider,{}),a.jsx(ue.Label,{children:"Actions"}),a.jsx(ue.Item,{leftSection:a.jsx(Ys,{size:14}),onClick:()=>q(_),children:"Edit"}),a.jsx(ue.Item,{leftSection:a.jsx(Rs,{size:14}),color:"red",onClick:()=>{f(_),c(!0)},children:"Delete"})]})]})})})]},_.id)})})]}),S.length>0&&a.jsxs(oe,{justify:"space-between",mt:"md",children:[a.jsxs(fe,{size:"sm",c:"dimmed",children:["Showing ",N+1," to"," ",Math.min(z,S.length)," of"," ",S.length," appointments"]}),a.jsx(De,{value:C,onChange:M,total:W,size:"sm",radius:"md",withEdges:!0}),W>1&&a.jsxs(fe,{size:"sm",c:"dimmed",children:["Page ",C," of ",W]})]}),a.jsx(Vt,{opened:d,onClose:()=>h(!1),title:"Edit Appointment",size:"lg",children:u&&a.jsx(yn,{initialValues:{doctorId:(O=(L=u.doctor)==null?void 0:L.id)==null?void 0:O.toString(),patientName:u.patientName,patientPhone:u.patientPhone||"",startTime:new Date(u.rawDate),notes:u.notes||""},onSubmit:V,isLoading:T.isPending})}),a.jsx(Vt,{opened:g,onClose:()=>c(!1),title:"Delete Appointment",size:"sm",children:a.jsxs(xe,{children:[a.jsxs(fe,{children:["Are you sure you want to delete this appointment for"," ",u==null?void 0:u.patientName,"?"]}),a.jsxs(oe,{justify:"flex-end",mt:"md",children:[a.jsx(_e,{variant:"light",onClick:()=>c(!1),children:"Cancel"}),a.jsx(_e,{color:"red",loading:Y.isPending,onClick:()=>{H(u.id),c(!1)},children:"Delete"})]})]})}),a.jsx(no,{opened:p,onClose:()=>D(!1),appointment:u,onEdit:()=>{D(!1),h(!0)},onDelete:()=>{D(!1),c(!0)}})]})}function io({opened:e,onClose:t}){const{createAppointmentWithPatient:s,createAppointment:n}=cs(),r=async i=>{var m,l,u,f,d;try{let h;const g=i.patientType==="new";if(g){const{patientType:c,...p}=i;h=await s.mutateAsync(p)}else{const{patientType:c,...p}=i;h=await n.mutateAsync(p)}if(g&&h.userCreated&&h.temporaryPassword){const c=a.jsxs(xe,{gap:"xs",children:[a.jsx(fe,{size:"sm",children:"Appointment created successfully! A new patient account has been created."}),a.jsxs(oe,{gap:"xs",align:"center",children:[a.jsx(fe,{size:"sm",fw:500,children:"Temporary Password:"}),a.jsx(Jt,{children:h.temporaryPassword}),a.jsx($s,{value:h.temporaryPassword,children:({copied:p,copy:D})=>a.jsx(Kt,{label:p?"Copied":"Copy password",children:a.jsx(Je,{color:p?"teal":"blue",onClick:D,size:"sm",variant:"light",children:p?a.jsx(Bn,{size:16}):a.jsx(eo,{size:16})})})})]}),a.jsx(fe,{size:"xs",c:"dimmed",children:"Please share this password with the patient so they can log in."})]});je.show({title:"Success",message:c,color:"green",autoClose:!1})}else je.show({title:"Success",message:"Appointment created successfully",color:"green"});t()}catch(h){console.error("Full error object:",h);let g="Failed to create appointment";if((l=(m=h.response)==null?void 0:m.data)!=null&&l.message){if(g=h.response.data.message,h.response.data.errors&&Array.isArray(h.response.data.errors)){const c=h.response.data.errors.find(p=>p.code==="DuplicateUserName"||p.code==="DuplicateEmail");if(c)g=`${h.response.data.message}: ${c.description}. Please try with a different email address.`;else{const p=h.response.data.errors.map(D=>D.description);g=`${h.response.data.message}: ${p.join(", ")}`}}}else(f=(u=h.response)==null?void 0:u.data)!=null&&f.errors?g=Object.values(h.response.data.errors).flat().join(", "):(d=h.response)!=null&&d.data?g=JSON.stringify(h.response.data):h.message&&(g=h.message);je.show({title:"Error",message:g,color:"red",autoClose:!1})}},o=s.isPending||n.isPending;return a.jsx(As,{overlayProps:{opacity:.4},opened:e,onClose:t,title:"Create New Appointment",position:"right",size:"md",children:a.jsx(yn,{onSubmit:r,isLoading:o})})}b.extend(Qn);b.extend(Zn);function go(){const[e,t]=j.useState(null),[s,n]=j.useState(null),[r,o]=j.useState(""),[i,{open:m,close:l}]=Ms(!1),{clinics:u,doctors:f,isLoading:d,error:h}=Ts(),{appointments:g,isLoadingAppointments:c,appointmentsError:p,getAppointmentsByClinic:D,getAppointmentsByDoctor:S}=cs(),{data:k}=D(e),{data:C}=S(s),M=s?C:e?k:g;console.log("Displayed appointments source:",{selectedDoctorId:s,selectedClinicId:e,appointmentsCount:g==null?void 0:g.length,doctorAppointmentsCount:C==null?void 0:C.length,clinicAppointmentsCount:k==null?void 0:k.length,displayedCount:M==null?void 0:M.length});const w=j.useCallback(v=>{if(!v||v==="all")t(null),n(null);else if(v.startsWith("clinic-")){const R=v.replace("clinic-","");t(R),n(null)}else if(v.startsWith("doctor-")){const R=v.replace("doctor-","");n(R),t(null)}},[]),T=[{group:"General",items:[{value:"all",label:"All Appointments"}]},{group:"Clinics",items:u.map(v=>({value:`clinic-${v.id}`,label:v.name}))},{group:"Doctors",items:f.map(v=>({value:`doctor-${v.id}`,label:`${v.name} (${v.clinicName})`}))}],Y=(M||[]).map(v=>{var R,F,A;console.log("Before formatting - appointment:",{id:v.id,status:v.status,statusType:typeof v.status,patientName:v.patientName,doctor:v.doctor,clinicName:v.clinicName,doctorName:v.doctorName,rawAppointment:v});try{const P=v.startDate?b.utc(v.startDate).tz(b.tz.guess()):null;if(!P||!P.isValid())return{...v,id:v.id,patientName:v.patientName,doctorName:((R=v.doctor)==null?void 0:R.name)||"N/A",clinicName:v.clinicName||"N/A",date:"Invalid Date",time:"Invalid Time",status:v.status!==void 0?v.status:0,doctor:v.doctor};const q=P.format("YYYY-MM-DD"),H={id:v.id,patientName:v.patientName,doctorName:((F=v.doctor)==null?void 0:F.name)||"N/A",clinicName:v.clinicName||"N/A",rawDate:P.toDate(),date:q,displayDate:P.format("MMM D, YYYY"),time:P.format("hh:mm A"),status:v.status!==void 0?v.status:0,doctor:v.doctor,patientPhone:v.patientPhone,notes:v.notes};return console.log("After formatting - appointment:",{id:H.id,originalStatus:v.status,finalStatus:H.status,statusType:typeof H.status,patientName:H.patientName}),H}catch(P){return console.error("Error formatting appointment:",P),{...v,id:v.id,patientName:v.patientName,doctorName:((A=v.doctor)==null?void 0:A.name)||"N/A",clinicName:v.clinicName||"N/A",date:"Error",displayDate:"Error",time:"Error",status:v.status!==void 0?v.status:0,doctor:v.doctor}}});return a.jsx(Vn,{pt:12,fluid:!0,maw:1232,children:a.jsxs(xe,{children:[a.jsx(qn,{fz:"24px",order:2,children:"Appointments"}),a.jsxs(oe,{mt:40,justify:"space-between",children:[a.jsxs(oe,{gap:"md",children:[a.jsx(ze,{size:"lg",placeholder:"Search by patient name or appointment ID...",value:r,onChange:v=>o(v.target.value),leftSection:a.jsx(Gn,{size:16}),style:{flex:1,maxWidth:300},radius:"md"}),a.jsx(qt,{w:200,size:"lg",radius:"md",data:T,placeholder:"Select clinic or doctor",disabled:d,error:h==null?void 0:h.message,onChange:w,value:s?`doctor-${s}`:e?`clinic-${e}`:"all",comboboxProps:{width:500,position:"bottom-start"},styles:{dropdown:{borderRadius:"var(--mantine-radius-md)",boxShadow:"var(--mantine-shadow-md)",minWidth:"200px"}}})]}),a.jsx(_e,{onClick:m,leftSection:a.jsx(Kn,{size:16}),variant:"outline",size:"lg",radius:"xl",children:"New Appointment"})]}),a.jsx(Un,{withBorder:!0,radius:"md",p:"md",children:c?a.jsx("div",{children:"Loading appointments..."}):p?a.jsxs("div",{children:["Error loading appointments: ",p.message]}):a.jsx(oo,{appointments:Y,searchQuery:r})}),a.jsx(io,{opened:i,onClose:l})]})})}export{go as default};
