import{X as C,ax as Ke,r as Z,o as ee,w as ue,ay as Se,j as r,B as le,E as ve,ao as ss,a1 as _t,az as Vs,aA as Gs,H as jt,N as Bs,aB as Wt,v as kt,s as ns,an as Ks,ap as Ne,F as Pe,a6 as qs,aC as Us,af as Qs,ak as _e,a3 as Ze,f as as,x as Ie,aD as Me,aE as Xs,aj as Js,aF as Zs,aG as Pt,aH as en,D as qe,at as tn,q as sn,ab as nn,aI as It,z as et,aJ as an,c as Ve,av as rn,b as be,L as on,aw as Vt,aK as Ct,G as pe,n as Ee,a as ln,aL as rs,d as fe,Y as cn,i as dn,a9 as bt,u as un,V as mn,aM as fn,ad as pn,a7 as hn,ar as yn,as as gn}from"./index-Yqc44LFA.js";import{u as vn}from"./useAppointmentQueries-IMF4CvF5.js";import{u as bn}from"./useUserQueries-CZpXoeHi.js";import{u as xn}from"./use-form-DP3dSN8K.js";import{d as b}from"./timezone-YNkisRrB.js";import{i as Dn}from"./use-isomorphic-layout-effect.browser.esm-puOWt--r.js";function Ue(e,t,s){return t===void 0&&s===void 0?e:t!==void 0&&s===void 0?Math.max(e,t):Math.min(t===void 0&&s!==void 0?e:Math.max(e,t),s)}function wn(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const s=Object.keys(e),{length:n}=s;if(n!==Object.keys(t).length)return!1;for(let a=0;a<n;a+=1){const o=s[a];if(!(o in t)||e[o]!==t[o])return!1}return!0}function Sn({timeout:e=2e3}={}){const[t,s]=C.useState(null),[n,a]=C.useState(!1),[o,c]=C.useState(null),u=f=>{window.clearTimeout(o),c(window.setTimeout(()=>a(!1),e)),a(f)};return{copy:f=>{"clipboard"in navigator?navigator.clipboard.writeText(f).then(()=>u(!0)).catch(l=>s(l)):s(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{a(!1),s(null),window.clearTimeout(o)},error:t,copied:n}}function _n(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let s=0;s<e.length;s+=1)if(!wn(e[s],t[s]))return!1;return!0}function Cn(e){const t=C.useRef([]),s=C.useRef(0);return _n(t.current,e)||(t.current=e,s.current+=1),[s.current]}function jn(e,t){C.useEffect(e,Cn(t))}function kn(e,t,s={autoInvoke:!1}){const n=C.useRef(null),a=C.useCallback((...c)=>{n.current||(n.current=window.setTimeout(()=>{e(c),n.current=null},t))},[t]),o=C.useCallback(()=>{n.current&&(window.clearTimeout(n.current),n.current=null)},[]);return C.useEffect(()=>(s.autoInvoke&&a(),o),[o,a]),{start:a,clear:o}}function Ln(e,t,s){const n=C.useRef(null),a=C.useRef(null);return C.useEffect(()=>{const o=typeof s=="function"?s():s;return(o||a.current)&&(n.current=new MutationObserver(e),n.current.observe(o||a.current,t)),()=>{var c;(c=n.current)==null||c.disconnect()}},[e,t]),a}function Mn(){const[e,t]=C.useState(!1);return C.useEffect(()=>t(!0),[]),e}var Nn={};function os(){return typeof process<"u"&&Nn?"production":"development"}function Yn(e,t){if(!t||!e)return!1;let s=t.parentNode;for(;s!=null;){if(s===e)return!0;s=s.parentNode}return!1}function Tn({target:e,parent:t,ref:s,displayAfterTransitionEnd:n}){const a=C.useRef(-1),[o,c]=C.useState(!1),[u,i]=C.useState(typeof n=="boolean"?n:!1),m=()=>{if(!e||!t||!s.current)return;const y=e.getBoundingClientRect(),d=t.getBoundingClientRect(),h=window.getComputedStyle(e),x=window.getComputedStyle(t),w=Ke(h.borderTopWidth)+Ke(x.borderTopWidth),k=Ke(h.borderLeftWidth)+Ke(x.borderLeftWidth),S={top:y.top-d.top-w,left:y.left-d.left-k,width:y.width,height:y.height};s.current.style.transform=`translateY(${S.top}px) translateX(${S.left}px)`,s.current.style.width=`${S.width}px`,s.current.style.height=`${S.height}px`},f=()=>{window.clearTimeout(a.current),s.current&&(s.current.style.transitionDuration="0ms"),m(),a.current=window.setTimeout(()=>{s.current&&(s.current.style.transitionDuration="")},30)},l=C.useRef(null),p=C.useRef(null);return C.useEffect(()=>{if(m(),e)return l.current=new ResizeObserver(f),l.current.observe(e),t&&(p.current=new ResizeObserver(f),p.current.observe(t)),()=>{var y,d;(y=l.current)==null||y.disconnect(),(d=p.current)==null||d.disconnect()}},[t,e]),C.useEffect(()=>{if(t){const y=d=>{Yn(d.target,t)&&(f(),i(!1))};return t.addEventListener("transitionend",y),()=>{t.removeEventListener("transitionend",y)}}},[t]),kn(()=>{os()!=="test"&&c(!0)},20,{autoInvoke:!0}),Ln(y=>{y.forEach(d=>{d.type==="attributes"&&d.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:o,hidden:u}}var is={root:"m_96b553a6"};const Rn={},An=ve((e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}})),Lt=Z((e,t)=>{const s=ee("FloatingIndicator",Rn,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,target:m,parent:f,transitionDuration:l,mod:p,displayAfterTransitionEnd:y,...d}=s,h=ue({name:"FloatingIndicator",classes:is,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:An}),x=C.useRef(null),{initialized:w,hidden:k}=Tn({target:m,parent:f,ref:x,displayAfterTransitionEnd:y}),S=Se(t,x);return!m||!f?null:r.jsx(le,{ref:S,mod:[{initialized:w,hidden:k},p],...h("root"),...d})});Lt.displayName="@mantine/core/FloatingIndicator";Lt.classes=is;var ls={root:"m_b183c0a2"};const Fn={},$n=ve((e,{color:t})=>({root:{"--code-bg":t?ss(t,e):void 0}})),Mt=Z((e,t)=>{const s=ee("Code",Fn,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,color:m,block:f,variant:l,mod:p,...y}=s,d=ue({name:"Code",props:s,classes:ls,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:$n});return r.jsx(le,{component:f?"pre":"code",variant:l,ref:t,mod:[{block:f},p],...d("root"),...y,dir:"ltr"})});Mt.classes=ls;Mt.displayName="@mantine/core/Code";const On={timeout:1e3};function cs(e){const{children:t,timeout:s,value:n,...a}=ee("CopyButton",On,e),o=Sn({timeout:s}),c=()=>o.copy(n);return r.jsx(r.Fragment,{children:t({copy:c,copied:o.copied,...a})})}cs.displayName="@mantine/core/CopyButton";var zn=function(t){var s=_t.useRef(t);return Dn(function(){s.current=t}),s},Gt=function(t,s){if(typeof t=="function"){t(s);return}t.current=s},En=function(t,s){var n=_t.useRef();return _t.useCallback(function(a){t.current=a,n.current&&Gt(n.current,null),n.current=s,s&&Gt(s,a)},[s])},Bt={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Hn=function(t){Object.keys(Bt).forEach(function(s){t.style.setProperty(s,Bt[s],"important")})},Kt=Hn,ce=null,qt=function(t,s){var n=t.scrollHeight;return s.sizingStyle.boxSizing==="border-box"?n+s.borderSize:n-s.paddingSize};function Wn(e,t,s,n){s===void 0&&(s=1),n===void 0&&(n=1/0),ce||(ce=document.createElement("textarea"),ce.setAttribute("tabindex","-1"),ce.setAttribute("aria-hidden","true"),Kt(ce)),ce.parentNode===null&&document.body.appendChild(ce);var a=e.paddingSize,o=e.borderSize,c=e.sizingStyle,u=c.boxSizing;Object.keys(c).forEach(function(p){var y=p;ce.style[y]=c[y]}),Kt(ce),ce.value=t;var i=qt(ce,e);ce.value=t,i=qt(ce,e),ce.value="x";var m=ce.scrollHeight-a,f=m*s;u==="border-box"&&(f=f+a+o),i=Math.max(f,i);var l=m*n;return u==="border-box"&&(l=l+a+o),i=Math.min(l,i),[i,m]}var Ut=function(){},Pn=function(t,s){return t.reduce(function(n,a){return n[a]=s[a],n},{})},In=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Vn=!!document.documentElement.currentStyle,Gn=function(t){var s=window.getComputedStyle(t);if(s===null)return null;var n=Pn(In,s),a=n.boxSizing;if(a==="")return null;Vn&&a==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var o=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),c=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:o,borderSize:c}},Bn=Gn;function Nt(e,t,s){var n=zn(s);C.useLayoutEffect(function(){var a=function(c){return n.current(c)};if(e)return e.addEventListener(t,a),function(){return e.removeEventListener(t,a)}},[])}var Kn=function(t,s){Nt(document.body,"reset",function(n){t.current.form===n.target&&s(n)})},qn=function(t){Nt(window,"resize",t)},Un=function(t){Nt(document.fonts,"loadingdone",t)},Qn=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Xn=function(t,s){var n=t.cacheMeasurements,a=t.maxRows,o=t.minRows,c=t.onChange,u=c===void 0?Ut:c,i=t.onHeightChange,m=i===void 0?Ut:i,f=Vs(t,Qn),l=f.value!==void 0,p=C.useRef(null),y=En(p,s),d=C.useRef(0),h=C.useRef(),x=function(){var S=p.current,Y=n&&h.current?h.current:Bn(S);if(Y){h.current=Y;var D=Wn(Y,S.value||S.placeholder||"x",o,a),L=D[0],M=D[1];d.current!==L&&(d.current=L,S.style.setProperty("height",L+"px","important"),m(L,{rowHeight:M}))}},w=function(S){l||x(),u(S)};return C.useLayoutEffect(x),Kn(p,function(){if(!l){var k=p.current.value;requestAnimationFrame(function(){var S=p.current;S&&k!==S.value&&x()})}}),qn(x),Un(x),C.createElement("textarea",Gs({},f,{onChange:w,ref:y}))},Jn=C.forwardRef(Xn);const Zn={},Yt=Z((e,t)=>{const{autosize:s,maxRows:n,minRows:a,__staticSelector:o,resize:c,...u}=ee("Textarea",Zn,e),i=s&&os()!=="test",m=i?{maxRows:n,minRows:a}:{};return r.jsx(jt,{component:i?Jn:"textarea",ref:t,...u,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":s&&n===void 0||void 0,__vars:{"--input-resize":c},...m})});Yt.classes=jt.classes;Yt.displayName="@mantine/core/Textarea";var ds={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const ea={withItemsBorders:!0},ta=ve((e,{radius:t,color:s,transitionDuration:n,size:a,transitionTimingFunction:o})=>({root:{"--sc-radius":t===void 0?void 0:qs(t),"--sc-color":s?ss(s,e):void 0,"--sc-shadow":s?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":n===void 0?void 0:`${n}ms`,"--sc-transition-timing-function":o,"--sc-padding":Pe(a,"sc-padding"),"--sc-font-size":Ne(a)}})),Tt=Z((e,t)=>{var se,Q;const s=ee("SegmentedControl",ea,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,data:m,value:f,defaultValue:l,onChange:p,size:y,name:d,disabled:h,readOnly:x,fullWidth:w,orientation:k,radius:S,color:Y,transitionDuration:D,transitionTimingFunction:L,variant:M,autoContrast:O,withItemsBorders:F,mod:A,...N}=s,E=ue({name:"SegmentedControl",props:s,classes:ds,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:ta}),B=Bs(),K=m.map(P=>typeof P=="string"?{label:P,value:P}:P),G=Mn(),[H,j]=C.useState(Wt()),[T,v]=C.useState(null),[$,g]=C.useState({}),_=(P,X)=>{$[X]=P,g($)},[z,W]=kt({value:f,defaultValue:l,finalValue:Array.isArray(m)?((se=K.find(P=>!P.disabled))==null?void 0:se.value)??((Q=m[0])==null?void 0:Q.value)??null:null,onChange:p}),q=ns(d),te=K.map(P=>C.createElement(le,{...E("control"),mod:{active:z===P.value,orientation:k},key:P.value},C.createElement("input",{...E("input"),disabled:h||P.disabled,type:"radio",name:q,value:P.value,id:`${q}-${P.value}`,checked:z===P.value,onChange:()=>!x&&W(P.value),"data-focus-ring":B.focusRing,key:`${P.value}-input`}),C.createElement(le,{component:"label",...E("label"),mod:{active:z===P.value&&!(h||P.disabled),disabled:h||P.disabled,"read-only":x},htmlFor:`${q}-${P.value}`,ref:X=>_(X,P.value),__vars:{"--sc-label-color":Y!==void 0?Ks({color:Y,theme:B,autoContrast:O}):void 0},key:`${P.value}-label`},r.jsx("span",{...E("innerLabel"),children:P.label})))),re=Se(t,P=>v(P));return jn(()=>{j(Wt())},[m.length]),m.length===0?null:r.jsxs(le,{...E("root"),variant:M,size:y,ref:re,mod:[{"full-width":w,orientation:k,initialized:G,"with-items-borders":F},A],...N,role:"radiogroup","data-disabled":h,children:[typeof z=="string"&&r.jsx(Lt,{target:$[z],parent:T,component:"span",transitionDuration:"var(--sc-transition-duration)",...E("indicator")},H),te]})});Tt.classes=ds;Tt.displayName="@mantine/core/SegmentedControl";function sa({direction:e,levelIndex:t,rowIndex:s,cellIndex:n,size:a}){switch(e){case"up":return t===0&&s===0?null:s===0?{levelIndex:t-1,rowIndex:n<=a[t-1][a[t-1].length-1]-1?a[t-1].length-1:a[t-1].length-2,cellIndex:n}:{levelIndex:t,rowIndex:s-1,cellIndex:n};case"down":return s===a[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:n}:s===a[t].length-2&&n>=a[t][a[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:n}:{levelIndex:t,rowIndex:s+1,cellIndex:n};case"left":return t===0&&s===0&&n===0?null:s===0&&n===0?{levelIndex:t-1,rowIndex:a[t-1].length-1,cellIndex:a[t-1][a[t-1].length-1]-1}:n===0?{levelIndex:t,rowIndex:s-1,cellIndex:a[t][s-1]-1}:{levelIndex:t,rowIndex:s,cellIndex:n-1};case"right":return s===a[t].length-1&&n===a[t][s]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:n===a[t][s]-1?{levelIndex:t,rowIndex:s+1,cellIndex:0}:{levelIndex:t,rowIndex:s,cellIndex:n+1};default:return{levelIndex:t,rowIndex:s,cellIndex:n}}}function us({controlsRef:e,direction:t,levelIndex:s,rowIndex:n,cellIndex:a,size:o}){var i,m,f;const c=sa({direction:t,size:o,rowIndex:n,cellIndex:a,levelIndex:s});if(!c)return;const u=(f=(m=(i=e.current)==null?void 0:i[c.levelIndex])==null?void 0:m[c.rowIndex])==null?void 0:f[c.cellIndex];u&&(u.disabled||u.getAttribute("data-hidden")||u.getAttribute("data-outside")?us({controlsRef:e,direction:t,levelIndex:c.levelIndex,cellIndex:c.cellIndex,rowIndex:c.rowIndex,size:o}):u.focus())}function na(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function aa(e){var t;return(t=e.current)==null?void 0:t.map(s=>s.map(n=>n.length))}function Rt({controlsRef:e,levelIndex:t,rowIndex:s,cellIndex:n,event:a}){const o=na(a.key);if(o){a.preventDefault();const c=aa(e);us({controlsRef:e,direction:o,levelIndex:t,rowIndex:s,cellIndex:n,size:c})}}function Qt(e,t){let s=e?b(e):b();if(t==="")return s.format("YYYY-MM-DD HH:mm:ss");const[n,a,o=0]=t.split(":").map(Number);return s=s.set("hour",n),s=s.set("minute",a),s=s.set("second",o),s=s.set("millisecond",0),s.format("YYYY-MM-DD HH:mm:ss")}function he(e){return e==null?e:b(e).format("YYYY-MM-DD")}function Le(e){return e==null?e:b(e).format("YYYY-MM-DD HH:mm:ss")}function xt(e,t,s){return!e&&!t?Le(s):e&&b(s).isBefore(e)?Le(e):t&&b(s).isAfter(t)?Le(t):Le(s)}function xe(){const e=C.useContext(Us),t=C.useCallback(o=>o||e.locale,[e.locale]),s=C.useCallback(o=>typeof o=="number"?o:e.firstDayOfWeek,[e.firstDayOfWeek]),n=C.useCallback(o=>Array.isArray(o)?o:e.weekendDays,[e.weekendDays]),a=C.useCallback(o=>typeof o=="string"?o:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getFirstDayOfWeek:s,getWeekendDays:n,getLabelSeparator:a}}function ra({value:e,type:t,withTime:s}){const n=s?Le:he;if(t==="range"&&Array.isArray(e)){const a=n(e[0]),o=n(e[1]);return a?o?`${a} – ${o}`:`${a} –`:""}return t==="multiple"&&Array.isArray(e)?e.filter(Boolean).join(", "):!Array.isArray(e)&&e?n(e):""}function ms({value:e,type:t,name:s,form:n,withTime:a=!1}){return r.jsx("input",{type:"hidden",value:ra({value:e,type:t,withTime:a}),name:s,form:n})}ms.displayName="@mantine/dates/HiddenDatesInput";function ie(e){return e<10?`0${e}`:`${e}`}const oa=e=>Number(e.toFixed(0)[0]),Qe=C.forwardRef(({value:e,min:t,max:s,onChange:n,focusable:a,step:o,onNextInput:c,onPreviousInput:u,onFocus:i,readOnly:m,...f},l)=>{const p=oa(s),y=h=>{if(m)return;const x=h.replace(/\D/g,"");if(x!==""){const w=Ue(parseInt(x,10),t,s);n(w),w>p&&(c==null||c())}},d=h=>{if(!m){if((h.key==="0"||h.key==="Num0")&&e===0&&(h.preventDefault(),c==null||c()),h.key==="Home"&&(h.preventDefault(),n(t)),h.key==="End"&&(h.preventDefault(),n(s)),(h.key==="Backspace"||h.key==="Delete")&&(h.preventDefault(),e!==null?n(null):u==null||u()),h.key==="ArrowRight"&&(h.preventDefault(),c==null||c()),h.key==="ArrowLeft"&&(h.preventDefault(),u==null||u()),h.key==="ArrowUp"){h.preventDefault();const x=e===null?t:Ue(e+o,t,s);n(x)}if(h.key==="ArrowDown"){h.preventDefault();const x=e===null?s:Ue(e-o,t,s);n(x)}}};return r.jsx("input",{ref:l,type:"text",role:"spinbutton","aria-valuemin":t,"aria-valuemax":s,"aria-valuenow":e===null?0:e,"data-empty":e===null||void 0,inputMode:"numeric",placeholder:"--",value:e===null?"":ie(e),onChange:h=>y(h.currentTarget.value),onKeyDown:d,onFocus:h=>{h.currentTarget.select(),i==null||i(h)},onClick:h=>{h.stopPropagation(),h.currentTarget.select()},onMouseDown:h=>h.stopPropagation(),...f})});Qe.displayName="@mantine/dates/SpinInput";const[ia,Ce]=Qs("TimeInput component was not found in the component tree"),fs=C.forwardRef(({labels:e,value:t,onChange:s,className:n,style:a,onPreviousInput:o,readOnly:c,onMouseDown:u,onTouchStart:i,inputType:m,...f},l)=>{const p=Ce(),y=d=>{c||(d.key==="Home"&&(d.preventDefault(),s(e.am)),d.key==="End"&&(d.preventDefault(),s(e.pm)),(d.key==="Backspace"||d.key==="Delete")&&(d.preventDefault(),t===null?o==null||o():s(null)),d.key==="ArrowLeft"&&(d.preventDefault(),o==null||o()),(d.key==="ArrowUp"||d.key==="ArrowDown")&&(d.preventDefault(),s(t===e.am?e.pm:e.am)),d.code==="KeyA"&&(d.preventDefault(),s(e.am)),d.code==="KeyP"&&(d.preventDefault(),s(e.pm)))};return m==="input"?r.jsx("input",{...p.getStyles("field",{className:n,style:a}),ref:l,value:t||"--",onChange:d=>!c&&s(d.target.value||null),onClick:d=>d.stopPropagation(),onKeyDown:y,onMouseDown:d=>{d.stopPropagation(),u==null||u(d)},"data-am-pm":!0,...f}):r.jsxs("select",{...p.getStyles("field",{className:n,style:a}),ref:l,value:t||"",onChange:d=>!c&&s(d.target.value||null),onClick:d=>d.stopPropagation(),onKeyDown:y,onMouseDown:d=>{d.stopPropagation(),u==null||u(d)},"data-am-pm":!0,...f,children:[r.jsx("option",{value:"",children:"--"}),r.jsx("option",{value:e.am,children:e.am}),r.jsx("option",{value:e.pm,children:e.pm})]})});fs.displayName="@mantine/dates/AmPmInput";function At({value:e,active:t,onSelect:s}){const n=Ce();return r.jsx(_e,{mod:{active:t},onClick:()=>s(e),onMouseDown:a=>a.preventDefault(),"data-value":e,tabIndex:-1,...n.getStyles("control"),children:typeof e=="number"?ie(e):e})}At.displayName="@mantine/dates/TimeControl";function ps({labels:e,value:t,onSelect:s}){const n=Ce(),a=[e.am,e.pm].map(o=>r.jsx(At,{value:o,active:t===o,onSelect:s},o));return r.jsx("div",{...n.getStyles("controlsList"),children:a})}ps.displayName="@mantine/dates/AmPmControlsList";function la(e,t){if(!e||!t)return!1;const s=e.getBoundingClientRect(),n=t.getBoundingClientRect();return s.top>=n.top&&s.bottom<=n.bottom&&s.left>=n.left&&s.right<=n.right}function ca(e,t,s){const n=[];for(let a=e;a<=t;a+=s)n.push(a);return n}function Xe({min:e,max:t,step:s,value:n,onSelect:a}){const o=Ce(),c=C.useRef(null),i=ca(e,t,s).map(m=>r.jsx(At,{value:m,active:n===m,onSelect:a},m));return C.useEffect(()=>{var m;if(n){const f=(m=c.current)==null?void 0:m.querySelector(`[data-value="${n}"]`);la(f,c.current)||f==null||f.scrollIntoView({block:"nearest"})}},[n]),r.jsx(Ze,{h:o.maxDropdownContentHeight,type:"never",viewportRef:c,...o.getStyles("scrollarea"),...o.scrollAreaProps,children:r.jsx("div",{...o.getStyles("controlsList"),children:i})})}Xe.displayName="@mantine/dates/TimeControlsList";function tt(e){const[t=null,s=null,n=null]=e.split(":").map(Number);return{hours:t,minutes:s,seconds:n}}function hs({time:e,compare:t,withSeconds:s}){const n=tt(e),a=tt(t);return s?n.hours===a.hours&&n.minutes===a.minutes&&n.seconds===a.seconds:n.hours===a.hours&&n.minutes===a.minutes}function da(e,t){return`${e.getHours()}:${e.getMinutes()}${t?`:${e.getSeconds()}`:""}`}function ua({value:e,format:t,amPmLabels:s,withSeconds:n}){const a=tt(typeof e=="string"?e:da(e,n));if(a.hours===null||a.minutes===null)return null;if(t==="24h")return`${ie(a.hours)}:${ie(a.minutes)}${n?`:${ie(a.seconds||0)}`:""}`;const o=a.hours>=12;return`${a.hours%12===0?12:a.hours%12}:${ie(a.minutes)}${n?`:${ie(a.seconds||0)}`:""} ${o?s.pm:s.am}`}function ys({value:e,format:t="24h",amPmLabels:s={am:"AM",pm:"PM"},withSeconds:n=!1}){return r.jsx(r.Fragment,{children:ua({value:e,format:t,amPmLabels:s,withSeconds:n})})}ys.displayName="@mantine/dates/TimeValue";function Ft({value:e,active:t,onChange:s,format:n,amPmLabels:a,withSeconds:o}){const c=Ce();return r.jsx(_e,{mod:{active:t},onClick:()=>s(e),...c.getStyles("presetControl"),children:r.jsx(ys,{withSeconds:o,value:e,format:n,amPmLabels:a})})}Ft.displayName="@mantine/dates/TimePresetControl";function gs({value:e,data:t,onChange:s,format:n,amPmLabels:a,withSeconds:o}){const c=Ce(),u=t.values.map(i=>r.jsx(Ft,{value:i,format:n,amPmLabels:a,withSeconds:o,active:hs({time:i,compare:e,withSeconds:o}),onChange:s},i));return r.jsxs("div",{...c.getStyles("presetsGroup"),children:[r.jsx("div",{...c.getStyles("presetsGroupLabel"),children:t.label}),r.jsx(as,{cols:o?2:3,spacing:4,children:u})]})}gs.displayName="@mantine/dates/TimePresetGroup";function vs({presets:e,format:t,amPmLabels:s,withSeconds:n,value:a,onChange:o}){const c=Ce();if(e.length===0)return null;if(typeof e[0]=="string"){const i=e.map(m=>r.jsx(Ft,{value:m,format:t,amPmLabels:s,withSeconds:n,active:hs({time:m,compare:a,withSeconds:n}),onChange:o},m));return r.jsx(Ze.Autosize,{mah:c.maxDropdownContentHeight,type:"never",...c.getStyles("scrollarea"),...c.scrollAreaProps,children:r.jsx("div",{...c.getStyles("presetsRoot"),children:r.jsx(as,{cols:n?2:3,spacing:4,children:i})})})}const u=e.map((i,m)=>r.jsx(gs,{data:i,value:a,format:t,amPmLabels:s,withSeconds:n,onChange:o},m));return r.jsx(Ze.Autosize,{mah:c.maxDropdownContentHeight,type:"never",...c.getStyles("scrollarea"),...c.scrollAreaProps,children:r.jsx("div",{...c.getStyles("presetsRoot"),children:u})})}vs.displayName="@mantine/dates/TimePresets";function Dt(e){const[t=0,s=0,n=0]=e.split(":").map(Number);return t*3600+s*60+n}function ma(e){const t=Math.floor(e/3600),s=Math.floor(e%3600/60),n=e%60;return{timeString:`${ie(t)}:${ie(s)}:${ie(n)}`,hours:t,minutes:s,seconds:n}}function Xt(e,t,s){const n=Dt(e),a=Dt(t),o=Dt(s),c=Math.max(a,Math.min(n,o));return ma(c)}function bs({hours:e,minutes:t,seconds:s,amPmLabels:n}){if(e===null)return{hours:null,minutes:null,seconds:null,amPm:null};const a=e>=12?n.pm:n.am;return{hours:e%12===0?12:e%12,minutes:typeof t=="number"?t:null,seconds:typeof s=="number"?s:null,amPm:a}}function We({time:e,format:t,amPmLabels:s}){if(e==="")return{hours:null,minutes:null,seconds:null,amPm:null};const{hours:n,minutes:a,seconds:o}=tt(e),c={hours:n,minutes:a,seconds:o};return t==="12h"?bs({...c,amPmLabels:s}):{...c,amPm:null}}function fa({hours:e,minutes:t,seconds:s,amPm:n,amPmLabels:a,withSeconds:o}){let c=e;return n===a.pm&&e!==12?c+=12:n===a.am&&e===12&&(c=0),`${ie(c)}:${ie(t)}${o?`:${ie(s||0)}`:""}`}function wt({hours:e,minutes:t,seconds:s,format:n,withSeconds:a,amPm:o,amPmLabels:c}){return e===null||t===null?{valid:!1,value:""}:a&&s===null?{valid:!1,value:""}:n==="24h"?{valid:!0,value:`${ie(e)}:${ie(t)}${a?`:${ie(s)}`:""}`}:o===null?{valid:!1,value:""}:{valid:!0,value:fa({hours:e,minutes:t,seconds:s,amPm:o,amPmLabels:c,withSeconds:a})}}function pa({value:e,defaultValue:t,onChange:s,format:n,amPmLabels:a,withSeconds:o=!1,min:c,max:u,clearable:i,readOnly:m,disabled:f,pasteSplit:l}){const p=We({time:e||t||"",amPmLabels:a,format:n}),y=C.useRef(!0),[d,h]=C.useState(p.hours),[x,w]=C.useState(p.minutes),[k,S]=C.useState(p.seconds),[Y,D]=C.useState(p.amPm),L=i&&!m&&!f&&(d!==null||x!==null||k!==null||Y!==null),M=C.useRef(null),O=C.useRef(null),F=C.useRef(null),A=C.useRef(null),N=g=>{var _,z,W,q;g==="hours"&&((_=M.current)==null||_.focus()),g==="minutes"&&((z=O.current)==null||z.focus()),g==="seconds"&&((W=F.current)==null||W.focus()),g==="amPm"&&((q=A.current)==null||q.focus())},E=(g,_)=>{const z={hours:d,minutes:x,seconds:k,amPm:Y,[g]:_},W=wt({...z,format:n,withSeconds:o,amPmLabels:a});if(W.valid){y.current=!1;const q=Xt(W.value,c||"00:00:00",u||"23:59:59"),te=n==="12h"?bs({hours:q.hours,minutes:q.minutes,seconds:q.seconds,amPmLabels:a}):q;h(te.hours),w(te.minutes),S(te.seconds),s==null||s(q.timeString)}else y.current=!1,typeof e=="string"&&e!==""&&(s==null||s(""))},B=g=>{y.current=!1;const _=We({time:g,amPmLabels:a,format:n});h(_.hours),w(_.minutes),S(_.seconds),D(_.amPm),s==null||s(g)},K=g=>{h(g),E("hours",g),N("hours")},G=g=>{w(g),E("minutes",g),N("minutes")},H=g=>{S(g),E("seconds",g),N("seconds")},j=g=>{D(g),E("amPm",g),N("amPm")},T=()=>{y.current=!1,h(null),w(null),S(null),D(null),s==null||s(""),N("hours")},v=g=>{g.preventDefault();const _=g.clipboardData.getData("text"),z=(l||We)({time:_,format:n,amPmLabels:a}),W=wt({...z,format:n,withSeconds:o,amPmLabels:a});if(W.valid){y.current=!1;const q=Xt(W.value,c||"00:00:00",u||"23:59:59");s==null||s(q.timeString),h(z.hours),w(z.minutes),S(z.seconds),D(z.amPm)}},$=wt({hours:d,minutes:x,seconds:k,format:n,withSeconds:o,amPm:Y,amPmLabels:a});return C.useEffect(()=>{if(y.current&&typeof e=="string"){const g=We({time:e||"",amPmLabels:a,format:n});h(g.hours),w(g.minutes),S(g.seconds),D(g.amPm)}y.current=!0},[e]),{refs:{hours:M,minutes:O,seconds:F,amPm:A},values:{hours:d,minutes:x,seconds:k,amPm:Y},setHours:K,setMinutes:G,setSeconds:H,setAmPm:j,focus:N,clear:T,onPaste:v,setTimeString:B,isClearable:L,hiddenInputValue:$.value}}var xs={fieldsRoot:"m_7a8f1e6d",fieldsGroup:"m_d6bb0a54",controlsList:"m_b97ecb26",controlsListGroup:"m_31fe42f9",dropdown:"m_9c4817c3",control:"m_154c536b",presetControl:"m_7be09d0c",presetsGroup:"m_7d00001d",presetsGroupLabel:"m_d8d918d7",field:"m_6b43ba88"};const ha={hoursStep:1,minutesStep:1,secondsStep:1,format:"24h",amPmLabels:{am:"AM",pm:"PM"},withDropdown:!1,pasteSplit:We,maxDropdownContentHeight:200},ya=ve((e,{size:t})=>({dropdown:{"--control-font-size":Ne(t)}})),$t=Z((e,t)=>{const s=ee("TimePicker",ha,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,onClick:m,format:f,value:l,defaultValue:p,onChange:y,hoursStep:d,minutesStep:h,secondsStep:x,withSeconds:w,hoursInputLabel:k,minutesInputLabel:S,secondsInputLabel:Y,amPmInputLabel:D,amPmLabels:L,clearable:M,onMouseDown:O,onFocusCapture:F,onBlurCapture:A,min:N,max:E,popoverProps:B,withDropdown:K,rightSection:G,onFocus:H,onBlur:j,clearButtonProps:T,hoursInputProps:v,minutesInputProps:$,secondsInputProps:g,amPmSelectProps:_,readOnly:z,disabled:W,size:q,name:te,form:re,hiddenInputProps:se,labelProps:Q,pasteSplit:P,hoursRef:X,minutesRef:U,secondsRef:R,amPmRef:de,presets:J,maxDropdownContentHeight:oe,scrollAreaProps:Ge,...Ye}=s,{resolvedClassNames:Te,resolvedStyles:Re}=Ie({classNames:n,styles:c,props:s}),me=ue({name:"TimePicker",classes:xs,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:ya}),I=pa({value:l,defaultValue:p,onChange:y,format:f,amPmLabels:L,withSeconds:w,min:N,max:E,clearable:M,disabled:W,readOnly:z,pasteSplit:P}),Ae=Se(I.refs.hours,X),Fe=Se(I.refs.minutes,U),$e=Se(I.refs.seconds,R),yt=Se(I.refs.amPm,de),Be=ns(),Oe=C.useRef(!1),[gt,je]=C.useState(!1),ye=V=>{Oe.current||(Oe.current=!0,H==null||H(V))},vt=V=>{V.currentTarget.contains(V.relatedTarget)||(Oe.current=!1,j==null||j(V))};return r.jsx(ia,{value:{getStyles:me,scrollAreaProps:Ge,maxDropdownContentHeight:oe},children:r.jsxs(Me,{opened:K&&!z&&gt,transitionProps:{duration:0},position:"bottom-start",withRoles:!1,...B,children:[r.jsx(Me.Target,{children:r.jsxs(jt,{component:"div",size:q,disabled:W,ref:t,onClick:V=>{m==null||m(V),I.focus("hours")},onMouseDown:V=>{V.preventDefault(),O==null||O(V)},onFocusCapture:V=>{je(!0),F==null||F(V)},onBlurCapture:V=>{je(!1),A==null||A(V)},rightSection:G||I.isClearable&&r.jsx(Xs,{...T,size:q,onClick:V=>{var ne;I.clear(),(ne=T==null?void 0:T.onClick)==null||ne.call(T,V)},onMouseDown:V=>{var ne;V.preventDefault(),(ne=T==null?void 0:T.onMouseDown)==null||ne.call(T,V)}}),labelProps:{htmlFor:Be,...Q},style:o,className:a,classNames:Te,styles:Re,__staticSelector:"TimePicker",...Ye,children:[r.jsx("div",{...me("fieldsRoot"),dir:"ltr",children:r.jsxs("div",{...me("fieldsGroup"),onBlur:vt,children:[r.jsx(Qe,{id:Be,...v,...me("field",{className:v==null?void 0:v.className,style:v==null?void 0:v.style}),value:I.values.hours,onChange:I.setHours,onNextInput:()=>I.focus("minutes"),min:f==="12h"?1:0,max:f==="12h"?12:23,focusable:!0,step:d,ref:Ae,"aria-label":k,readOnly:z,disabled:W,onPaste:I.onPaste,onFocus:V=>{var ne;ye(V),(ne=v==null?void 0:v.onFocus)==null||ne.call(v,V)}}),r.jsx("span",{children:":"}),r.jsx(Qe,{...$,...me("field",{className:$==null?void 0:$.className,style:$==null?void 0:$.style}),value:I.values.minutes,onChange:I.setMinutes,min:0,max:59,focusable:!0,step:h,ref:Fe,onPreviousInput:()=>I.focus("hours"),onNextInput:()=>w?I.focus("seconds"):I.focus("amPm"),"aria-label":S,tabIndex:-1,readOnly:z,disabled:W,onPaste:I.onPaste,onFocus:V=>{var ne;ye(V),(ne=$==null?void 0:$.onFocus)==null||ne.call($,V)}}),w&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:":"}),r.jsx(Qe,{...g,...me("field",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),value:I.values.seconds,onChange:I.setSeconds,min:0,max:59,focusable:!0,step:x,ref:$e,onPreviousInput:()=>I.focus("minutes"),onNextInput:()=>I.focus("amPm"),"aria-label":Y,tabIndex:-1,readOnly:z,disabled:W,onPaste:I.onPaste,onFocus:V=>{var ne;ye(V),(ne=g==null?void 0:g.onFocus)==null||ne.call(g,V)}})]}),f==="12h"&&r.jsx(fs,{..._,inputType:K?"input":"select",labels:L,value:I.values.amPm,onChange:I.setAmPm,ref:yt,"aria-label":D,onPreviousInput:()=>w?I.focus("seconds"):I.focus("minutes"),readOnly:z,disabled:W,tabIndex:-1,onPaste:I.onPaste,onFocus:V=>{var ne;ye(V),(ne=_==null?void 0:_.onFocus)==null||ne.call(_,V)}})]})}),r.jsx("input",{type:"hidden",name:te,form:re,value:I.hiddenInputValue,...se})]})}),r.jsx(Me.Dropdown,{...me("dropdown"),onMouseDown:V=>V.preventDefault(),children:J?r.jsx(vs,{value:I.hiddenInputValue,onChange:I.setTimeString,format:f,presets:J,amPmLabels:L,withSeconds:w||!1}):r.jsxs("div",{...me("controlsListGroup"),children:[r.jsx(Xe,{min:f==="12h"?1:0,max:f==="12h"?12:23,step:d,value:I.values.hours,onSelect:I.setHours}),r.jsx(Xe,{min:0,max:59,step:h,value:I.values.minutes,onSelect:I.setMinutes}),w&&r.jsx(Xe,{min:0,max:59,step:x,value:I.values.seconds,onSelect:I.setSeconds}),f==="12h"&&r.jsx(ps,{labels:L,value:I.values.amPm,onSelect:I.setAmPm})]})})]})})});$t.displayName="@mantine/dates/TimePicker";$t.classes=xs;var Ds={day:"m_396ce5cb"};const ga={},va=ve((e,{size:t})=>({day:{"--day-size":Pe(t,"day-size")}})),Ot=Z((e,t)=>{const s=ee("Day",ga,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,date:m,disabled:f,__staticSelector:l,weekend:p,outside:y,selected:d,renderDay:h,inRange:x,firstInRange:w,lastInRange:k,hidden:S,static:Y,highlightToday:D,...L}=s,M=ue({name:l||"Day",classes:Ds,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:va,rootSelector:"day"});return r.jsx(_e,{...M("day",{style:S?{display:"none"}:void 0}),component:Y?"div":"button",ref:t,disabled:f,"data-today":b(m).isSame(new Date,"day")||void 0,"data-hidden":S||void 0,"data-highlight-today":D||void 0,"data-disabled":f||void 0,"data-weekend":!f&&!y&&p||void 0,"data-outside":!f&&y||void 0,"data-selected":!f&&d||void 0,"data-in-range":x&&!f||void 0,"data-first-in-range":w&&!f||void 0,"data-last-in-range":k&&!f||void 0,"data-static":Y||void 0,unstyled:u,...L,children:(h==null?void 0:h(m))||b(m).date()})});Ot.classes=Ds;Ot.displayName="@mantine/dates/Day";function ba({locale:e,format:t="dd",firstDayOfWeek:s=1}){const n=b().day(s),a=[];for(let o=0;o<7;o+=1)typeof t=="string"?a.push(b(n).add(o,"days").locale(e).format(t)):a.push(t(b(n).add(o,"days").format("YYYY-MM-DD")));return a}var ws={weekday:"m_18a3eca"};const xa={},Da=ve((e,{size:t})=>({weekdaysRow:{"--wr-fz":Ne(t),"--wr-spacing":Js(t)}})),zt=Z((e,t)=>{const s=ee("WeekdaysRow",xa,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,locale:m,firstDayOfWeek:f,weekdayFormat:l,cellComponent:p="th",__staticSelector:y,withWeekNumbers:d,...h}=s,x=ue({name:y||"WeekdaysRow",classes:ws,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:Da,rootSelector:"weekdaysRow"}),w=xe(),k=ba({locale:w.getLocale(m),format:l,firstDayOfWeek:w.getFirstDayOfWeek(f)}).map((S,Y)=>r.jsx(p,{...x("weekday"),children:S},Y));return r.jsxs(le,{component:"tr",ref:t,...x("weekdaysRow"),...h,children:[d&&r.jsx(p,{...x("weekday"),children:"#"}),k]})});zt.classes=ws;zt.displayName="@mantine/dates/WeekdaysRow";function wa(e,t=1){let s=b(e);const n=t===0?6:t-1;for(;s.day()!==n;)s=s.add(1,"day");return s.format("YYYY-MM-DD")}function Sa(e,t=1){let s=b(e);for(;s.day()!==t;)s=s.subtract(1,"day");return s.format("YYYY-MM-DD")}function _a({month:e,firstDayOfWeek:t=1,consistentWeeks:s}){const n=b(e).subtract(b(e).date()-1,"day"),a=b(n.format("YYYY-M-D")),o=a.format("YYYY-MM-DD"),c=a.add(+a.daysInMonth()-1,"day").format("YYYY-MM-DD"),u=wa(c,t),i=[];let m=b(Sa(o,t));for(;b(m).isBefore(u,"day");){const f=[];for(let l=0;l<7;l+=1)f.push(m.format("YYYY-MM-DD")),m=m.add(1,"day");i.push(f)}if(s&&i.length<6){const f=i[i.length-1],l=f[f.length-1];let p=b(l).add(1,"day");for(;i.length<6;){const y=[];for(let d=0;d<7;d+=1)y.push(p.format("YYYY-MM-DD")),p=p.add(1,"day");i.push(y)}}return i}function Ss(e,t){return b(e).format("YYYY-MM")===b(t).format("YYYY-MM")}function _s(e,t){return t?b(e).isAfter(b(t).subtract(1,"day"),"day"):!0}function Cs(e,t){return t?b(e).isBefore(b(t).add(1,"day"),"day"):!0}function Ca({dates:e,minDate:t,maxDate:s,getDayProps:n,excludeDate:a,hideOutsideDates:o,month:c}){const u=e.flat().filter(f=>{var l;return Cs(f,s)&&_s(f,t)&&!(a!=null&&a(f))&&!((l=n==null?void 0:n(f))!=null&&l.disabled)&&(!o||Ss(f,c))}),i=u.find(f=>{var l;return(l=n==null?void 0:n(f))==null?void 0:l.selected});if(i)return i;const m=u.find(f=>b().isSame(f,"date"));return m||u[0]}var Je={exports:{}},ja=Je.exports,Jt;function ka(){return Jt||(Jt=1,function(e,t){(function(s,n){e.exports=n()})(ja,function(){var s="day";return function(n,a,o){var c=function(m){return m.add(4-m.isoWeekday(),s)},u=a.prototype;u.isoWeekYear=function(){return c(this).year()},u.isoWeek=function(m){if(!this.$utils().u(m))return this.add(7*(m-this.isoWeek()),s);var f,l,p,y,d=c(this),h=(f=this.isoWeekYear(),l=this.$u,p=(l?o.utc:o)().year(f).startOf("year"),y=4-p.isoWeekday(),p.isoWeekday()>4&&(y+=7),p.add(y,s));return d.diff(h,"week")+1},u.isoWeekday=function(m){return this.$utils().u(m)?this.day()||7:this.day(this.day()%7?m:m-7)};var i=u.startOf;u.startOf=function(m,f){var l=this.$utils(),p=!!l.u(f)||f;return l.p(m)==="isoweek"?p?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):i.bind(this)(m,f)}}})}(Je)),Je.exports}var La=ka();const Ma=Zs(La);b.extend(Ma);function Na(e){const t=e.find(s=>b(s).day()===1);return b(t).isoWeek()}var js={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const Ya={withCellSpacing:!0},Ta=ve((e,{size:t})=>({weekNumber:{"--wn-fz":Ne(t),"--wn-size":Pe(t,"wn-size")}})),nt=Z((e,t)=>{const s=ee("Month",Ya,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,__staticSelector:m,locale:f,firstDayOfWeek:l,weekdayFormat:p,month:y,weekendDays:d,getDayProps:h,excludeDate:x,minDate:w,maxDate:k,renderDay:S,hideOutsideDates:Y,hideWeekdays:D,getDayAriaLabel:L,static:M,__getDayRef:O,__onDayKeyDown:F,__onDayClick:A,__onDayMouseEnter:N,__preventFocus:E,__stopPropagation:B,withCellSpacing:K,size:G,highlightToday:H,withWeekNumbers:j,...T}=s,v=ue({name:m||"Month",classes:js,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:Ta,rootSelector:"month"}),$=xe(),g=_a({month:y,firstDayOfWeek:$.getFirstDayOfWeek(l),consistentWeeks:$.consistentWeeks}),_=Ca({dates:g,minDate:he(w),maxDate:he(k),getDayProps:h,excludeDate:x,hideOutsideDates:Y,month:y}),{resolvedClassNames:z,resolvedStyles:W}=Ie({classNames:n,styles:c,props:s}),q=g.map((te,re)=>{const se=te.map((Q,P)=>{const X=!Ss(Q,y),U=(L==null?void 0:L(Q))||b(Q).locale(f||$.locale).format("D MMMM YYYY"),R=h==null?void 0:h(Q),de=b(Q).isSame(_,"date");return r.jsx("td",{...v("monthCell"),"data-with-spacing":K||void 0,children:r.jsx(Ot,{__staticSelector:m||"Month",classNames:z,styles:W,unstyled:u,"data-mantine-stop-propagation":B||void 0,highlightToday:H,renderDay:S,date:Q,size:G,weekend:$.getWeekendDays(d).includes(b(Q).get("day")),outside:X,hidden:Y?X:!1,"aria-label":U,static:M,disabled:(x==null?void 0:x(Q))||!Cs(Q,he(k))||!_s(Q,he(w)),ref:J=>O==null?void 0:O(re,P,J),...R,onKeyDown:J=>{var oe;(oe=R==null?void 0:R.onKeyDown)==null||oe.call(R,J),F==null||F(J,{rowIndex:re,cellIndex:P,date:Q})},onMouseEnter:J=>{var oe;(oe=R==null?void 0:R.onMouseEnter)==null||oe.call(R,J),N==null||N(J,Q)},onClick:J=>{var oe;(oe=R==null?void 0:R.onClick)==null||oe.call(R,J),A==null||A(J,Q)},onMouseDown:J=>{var oe;(oe=R==null?void 0:R.onMouseDown)==null||oe.call(R,J),E&&J.preventDefault()},tabIndex:E||!de?-1:0})},Q.toString())});return r.jsxs("tr",{...v("monthRow"),children:[j&&r.jsx("td",{...v("weekNumber"),children:Na(te)}),se]},re)});return r.jsxs(le,{component:"table",...v("month"),size:G,ref:t,...T,children:[!D&&r.jsx("thead",{...v("monthThead"),children:r.jsx(zt,{__staticSelector:m||"Month",locale:f,firstDayOfWeek:l,weekdayFormat:p,size:G,classNames:z,styles:W,unstyled:u,withWeekNumbers:j})}),r.jsx("tbody",{...v("monthTbody"),children:q})]})});nt.classes=js;nt.displayName="@mantine/dates/Month";var ks={pickerControl:"m_dc6a3c71"};const Ra={},Aa=ve((e,{size:t})=>({pickerControl:{"--dpc-fz":Ne(t),"--dpc-size":Pe(t,"dpc-size")}})),at=Z((e,t)=>{const s=ee("PickerControl",Ra,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,firstInRange:m,lastInRange:f,inRange:l,__staticSelector:p,selected:y,disabled:d,...h}=s,x=ue({name:p||"PickerControl",classes:ks,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:Aa,rootSelector:"pickerControl"});return r.jsx(_e,{...x("pickerControl"),ref:t,unstyled:u,"data-picker-control":!0,"data-selected":y&&!d||void 0,"data-disabled":d||void 0,"data-in-range":l&&!d&&!y||void 0,"data-first-in-range":m&&!d||void 0,"data-last-in-range":f&&!d||void 0,disabled:d,...h})});at.classes=ks;at.displayName="@mantine/dates/PickerControl";function Ls({year:e,minDate:t,maxDate:s}){return!t&&!s?!1:!!(t&&b(e).isBefore(t,"year")||s&&b(e).isAfter(s,"year"))}function Fa({years:e,minDate:t,maxDate:s,getYearControlProps:n}){const a=e.flat().filter(u=>{var i;return!Ls({year:u,minDate:t,maxDate:s})&&!((i=n==null?void 0:n(u))!=null&&i.disabled)}),o=a.find(u=>{var i;return(i=n==null?void 0:n(u))==null?void 0:i.selected});if(o)return o;const c=a.find(u=>b().isSame(u,"year"));return c||a[0]}function Ms(e){const t=b(e).year(),s=t-t%10;let n=0;const a=[[],[],[],[]];for(let o=0;o<4;o+=1){const c=o===3?1:3;for(let u=0;u<c;u+=1)a[o].push(b(new Date(s+n,0)).format("YYYY-MM-DD")),n+=1}return a}var Ns={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const $a={yearsListFormat:"YYYY",withCellSpacing:!0},rt=Z((e,t)=>{const s=ee("YearsList",$a,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,decade:m,yearsListFormat:f,locale:l,minDate:p,maxDate:y,getYearControlProps:d,__staticSelector:h,__getControlRef:x,__onControlKeyDown:w,__onControlClick:k,__onControlMouseEnter:S,__preventFocus:Y,__stopPropagation:D,withCellSpacing:L,size:M,...O}=s,F=ue({name:h||"YearsList",classes:Ns,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,rootSelector:"yearsList"}),A=xe(),N=Ms(m),E=Fa({years:N,minDate:p,maxDate:y,getYearControlProps:d}),B=N.map((K,G)=>{const H=K.map((j,T)=>{const v=d==null?void 0:d(j),$=b(j).isSame(E,"year");return r.jsx("td",{...F("yearsListCell"),"data-with-spacing":L||void 0,children:r.jsx(at,{...F("yearsListControl"),size:M,unstyled:u,"data-mantine-stop-propagation":D||void 0,disabled:Ls({year:j,minDate:p,maxDate:y}),ref:g=>x==null?void 0:x(G,T,g),...v,onKeyDown:g=>{var _;(_=v==null?void 0:v.onKeyDown)==null||_.call(v,g),w==null||w(g,{rowIndex:G,cellIndex:T,date:j})},onClick:g=>{var _;(_=v==null?void 0:v.onClick)==null||_.call(v,g),k==null||k(g,j)},onMouseEnter:g=>{var _;(_=v==null?void 0:v.onMouseEnter)==null||_.call(v,g),S==null||S(g,j)},onMouseDown:g=>{var _;(_=v==null?void 0:v.onMouseDown)==null||_.call(v,g),Y&&g.preventDefault()},tabIndex:Y||!$?-1:0,children:b(j).locale(A.getLocale(l)).format(f)})},T)});return r.jsx("tr",{...F("yearsListRow"),children:H},G)});return r.jsx(le,{component:"table",ref:t,size:M,...F("yearsList"),...O,children:r.jsx("tbody",{children:B})})});rt.classes=Ns;rt.displayName="@mantine/dates/YearsList";function Ys({month:e,minDate:t,maxDate:s}){return!t&&!s?!1:!!(t&&b(e).isBefore(t,"month")||s&&b(e).isAfter(s,"month"))}function Oa({months:e,minDate:t,maxDate:s,getMonthControlProps:n}){const a=e.flat().filter(u=>{var i;return!Ys({month:u,minDate:t,maxDate:s})&&!((i=n==null?void 0:n(u))!=null&&i.disabled)}),o=a.find(u=>{var i;return(i=n==null?void 0:n(u))==null?void 0:i.selected});if(o)return o;const c=a.find(u=>b().isSame(u,"month"));return c||a[0]}function za(e){const t=b(e).startOf("year").toDate(),s=[[],[],[],[]];let n=0;for(let a=0;a<4;a+=1)for(let o=0;o<3;o+=1)s[a].push(b(t).add(n,"months").format("YYYY-MM-DD")),n+=1;return s}var Ts={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const Ea={monthsListFormat:"MMM",withCellSpacing:!0},ot=Z((e,t)=>{const s=ee("MonthsList",Ea,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,__staticSelector:m,year:f,monthsListFormat:l,locale:p,minDate:y,maxDate:d,getMonthControlProps:h,__getControlRef:x,__onControlKeyDown:w,__onControlClick:k,__onControlMouseEnter:S,__preventFocus:Y,__stopPropagation:D,withCellSpacing:L,size:M,...O}=s,F=ue({name:m||"MonthsList",classes:Ts,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,rootSelector:"monthsList"}),A=xe(),N=za(f),E=Oa({months:N,minDate:he(y),maxDate:he(d),getMonthControlProps:h}),B=N.map((K,G)=>{const H=K.map((j,T)=>{const v=h==null?void 0:h(j),$=b(j).isSame(E,"month");return r.jsx("td",{...F("monthsListCell"),"data-with-spacing":L||void 0,children:r.jsx(at,{...F("monthsListControl"),size:M,unstyled:u,__staticSelector:m||"MonthsList","data-mantine-stop-propagation":D||void 0,disabled:Ys({month:j,minDate:he(y),maxDate:he(d)}),ref:g=>x==null?void 0:x(G,T,g),...v,onKeyDown:g=>{var _;(_=v==null?void 0:v.onKeyDown)==null||_.call(v,g),w==null||w(g,{rowIndex:G,cellIndex:T,date:j})},onClick:g=>{var _;(_=v==null?void 0:v.onClick)==null||_.call(v,g),k==null||k(g,j)},onMouseEnter:g=>{var _;(_=v==null?void 0:v.onMouseEnter)==null||_.call(v,g),S==null||S(g,j)},onMouseDown:g=>{var _;(_=v==null?void 0:v.onMouseDown)==null||_.call(v,g),Y&&g.preventDefault()},tabIndex:Y||!$?-1:0,children:b(j).locale(A.getLocale(p)).format(l)})},T)});return r.jsx("tr",{...F("monthsListRow"),children:H},G)});return r.jsx(le,{component:"table",ref:t,size:M,...F("monthsList"),...O,children:r.jsx("tbody",{children:B})})});ot.classes=Ts;ot.displayName="@mantine/dates/MonthsList";var Rs={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const Ha={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},Wa=ve((e,{size:t})=>({calendarHeader:{"--dch-control-size":Pe(t,"dch-control-size"),"--dch-fz":Ne(t)}})),De=Z((e,t)=>{const s=ee("CalendarHeader",Ha,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,nextIcon:m,previousIcon:f,nextLabel:l,previousLabel:p,onNext:y,onPrevious:d,onLevelClick:h,label:x,nextDisabled:w,previousDisabled:k,hasNextLevel:S,levelControlAriaLabel:Y,withNext:D,withPrevious:L,__staticSelector:M,__preventFocus:O,__stopPropagation:F,...A}=s,N=ue({name:M||"CalendarHeader",classes:Rs,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,varsResolver:Wa,rootSelector:"calendarHeader"}),E=O?B=>B.preventDefault():void 0;return r.jsxs(le,{...N("calendarHeader"),ref:t,...A,children:[L&&r.jsx(_e,{...N("calendarHeaderControl"),"data-direction":"previous","aria-label":p,onClick:d,unstyled:u,onMouseDown:E,disabled:k,"data-disabled":k||void 0,tabIndex:O||k?-1:0,"data-mantine-stop-propagation":F||void 0,children:f||r.jsx(Pt,{...N("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})}),r.jsx(_e,{component:S?"button":"div",...N("calendarHeaderLevel"),onClick:S?h:void 0,unstyled:u,onMouseDown:S?E:void 0,disabled:!S,"data-static":!S||void 0,"aria-label":Y,tabIndex:O||!S?-1:0,"data-mantine-stop-propagation":F||void 0,children:x}),D&&r.jsx(_e,{...N("calendarHeaderControl"),"data-direction":"next","aria-label":l,onClick:y,unstyled:u,onMouseDown:E,disabled:w,"data-disabled":w||void 0,tabIndex:O||w?-1:0,"data-mantine-stop-propagation":F||void 0,children:m||r.jsx(Pt,{...N("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})})]})});De.classes=Rs;De.displayName="@mantine/dates/CalendarHeader";function Pa(e){const t=Ms(e);return[t[0][0],t[3][0]]}const Ia={decadeLabelFormat:"YYYY"},it=Z((e,t)=>{const s=ee("DecadeLevel",Ia,e),{decade:n,locale:a,minDate:o,maxDate:c,yearsListFormat:u,getYearControlProps:i,__getControlRef:m,__onControlKeyDown:f,__onControlClick:l,__onControlMouseEnter:p,withCellSpacing:y,__preventFocus:d,nextIcon:h,previousIcon:x,nextLabel:w,previousLabel:k,onNext:S,onPrevious:Y,nextDisabled:D,previousDisabled:L,levelControlAriaLabel:M,withNext:O,withPrevious:F,decadeLabelFormat:A,classNames:N,styles:E,unstyled:B,__staticSelector:K,__stopPropagation:G,size:H,...j}=s,T=xe(),[v,$]=Pa(n),g={__staticSelector:K||"DecadeLevel",classNames:N,styles:E,unstyled:B,size:H},_=typeof D=="boolean"?D:c?!b($).endOf("year").isBefore(c):!1,z=typeof L=="boolean"?L:o?!b(v).startOf("year").isAfter(o):!1,W=(q,te)=>b(q).locale(a||T.locale).format(te);return r.jsxs(le,{"data-decade-level":!0,size:H,ref:t,...j,children:[r.jsx(De,{label:typeof A=="function"?A(v,$):`${W(v,A)} – ${W($,A)}`,__preventFocus:d,__stopPropagation:G,nextIcon:h,previousIcon:x,nextLabel:w,previousLabel:k,onNext:S,onPrevious:Y,nextDisabled:_,previousDisabled:z,hasNextLevel:!1,levelControlAriaLabel:M,withNext:O,withPrevious:F,...g}),r.jsx(rt,{decade:n,locale:a,minDate:o,maxDate:c,yearsListFormat:u,getYearControlProps:i,__getControlRef:m,__onControlKeyDown:f,__onControlClick:l,__onControlMouseEnter:p,__preventFocus:d,__stopPropagation:G,withCellSpacing:y,...g})]})});it.classes={...rt.classes,...De.classes};it.displayName="@mantine/dates/DecadeLevel";const Va={yearLabelFormat:"YYYY"},lt=Z((e,t)=>{const s=ee("YearLevel",Va,e),{year:n,locale:a,minDate:o,maxDate:c,monthsListFormat:u,getMonthControlProps:i,__getControlRef:m,__onControlKeyDown:f,__onControlClick:l,__onControlMouseEnter:p,withCellSpacing:y,__preventFocus:d,nextIcon:h,previousIcon:x,nextLabel:w,previousLabel:k,onNext:S,onPrevious:Y,onLevelClick:D,nextDisabled:L,previousDisabled:M,hasNextLevel:O,levelControlAriaLabel:F,withNext:A,withPrevious:N,yearLabelFormat:E,__staticSelector:B,__stopPropagation:K,size:G,classNames:H,styles:j,unstyled:T,...v}=s,$=xe(),g={__staticSelector:B||"YearLevel",classNames:H,styles:j,unstyled:T,size:G},_=typeof L=="boolean"?L:c?!b(n).endOf("year").isBefore(c):!1,z=typeof M=="boolean"?M:o?!b(n).startOf("year").isAfter(o):!1;return r.jsxs(le,{"data-year-level":!0,size:G,ref:t,...v,children:[r.jsx(De,{label:typeof E=="function"?E(n):b(n).locale(a||$.locale).format(E),__preventFocus:d,__stopPropagation:K,nextIcon:h,previousIcon:x,nextLabel:w,previousLabel:k,onNext:S,onPrevious:Y,onLevelClick:D,nextDisabled:_,previousDisabled:z,hasNextLevel:O,levelControlAriaLabel:F,withNext:A,withPrevious:N,...g}),r.jsx(ot,{year:n,locale:a,minDate:o,maxDate:c,monthsListFormat:u,getMonthControlProps:i,__getControlRef:m,__onControlKeyDown:f,__onControlClick:l,__onControlMouseEnter:p,__preventFocus:d,__stopPropagation:K,withCellSpacing:y,...g})]})});lt.classes={...De.classes,...ot.classes};lt.displayName="@mantine/dates/YearLevel";const Ga={monthLabelFormat:"MMMM YYYY"},ct=Z((e,t)=>{const s=ee("MonthLevel",Ga,e),{month:n,locale:a,firstDayOfWeek:o,weekdayFormat:c,weekendDays:u,getDayProps:i,excludeDate:m,minDate:f,maxDate:l,renderDay:p,hideOutsideDates:y,hideWeekdays:d,getDayAriaLabel:h,__getDayRef:x,__onDayKeyDown:w,__onDayClick:k,__onDayMouseEnter:S,withCellSpacing:Y,highlightToday:D,withWeekNumbers:L,__preventFocus:M,__stopPropagation:O,nextIcon:F,previousIcon:A,nextLabel:N,previousLabel:E,onNext:B,onPrevious:K,onLevelClick:G,nextDisabled:H,previousDisabled:j,hasNextLevel:T,levelControlAriaLabel:v,withNext:$,withPrevious:g,monthLabelFormat:_,classNames:z,styles:W,unstyled:q,__staticSelector:te,size:re,static:se,...Q}=s,P=xe(),X={__staticSelector:te||"MonthLevel",classNames:z,styles:W,unstyled:q,size:re},U=typeof H=="boolean"?H:l?!b(n).endOf("month").isBefore(l):!1,R=typeof j=="boolean"?j:f?!b(n).startOf("month").isAfter(f):!1;return r.jsxs(le,{"data-month-level":!0,size:re,ref:t,...Q,children:[r.jsx(De,{label:typeof _=="function"?_(n):b(n).locale(a||P.locale).format(_),__preventFocus:M,__stopPropagation:O,nextIcon:F,previousIcon:A,nextLabel:N,previousLabel:E,onNext:B,onPrevious:K,onLevelClick:G,nextDisabled:U,previousDisabled:R,hasNextLevel:T,levelControlAriaLabel:v,withNext:$,withPrevious:g,...X}),r.jsx(nt,{month:n,locale:a,firstDayOfWeek:o,weekdayFormat:c,weekendDays:u,getDayProps:i,excludeDate:m,minDate:f,maxDate:l,renderDay:p,hideOutsideDates:y,hideWeekdays:d,getDayAriaLabel:h,__getDayRef:x,__onDayKeyDown:w,__onDayClick:k,__onDayMouseEnter:S,__preventFocus:M,__stopPropagation:O,static:se,withCellSpacing:Y,highlightToday:D,withWeekNumbers:L,...X})]})});ct.classes={...nt.classes,...De.classes};ct.displayName="@mantine/dates/MonthLevel";var As={levelsGroup:"m_30b26e33"};const Ba={},we=Z((e,t)=>{const s=ee("LevelsGroup",Ba,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:i,__staticSelector:m,...f}=s,l=ue({name:m||"LevelsGroup",classes:As,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:i,rootSelector:"levelsGroup"});return r.jsx(le,{ref:t,...l("levelsGroup"),...f})});we.classes=As;we.displayName="@mantine/dates/LevelsGroup";const Ka={numberOfColumns:1},dt=Z((e,t)=>{const s=ee("DecadeLevelGroup",Ka,e),{decade:n,locale:a,minDate:o,maxDate:c,yearsListFormat:u,getYearControlProps:i,__onControlClick:m,__onControlMouseEnter:f,withCellSpacing:l,__preventFocus:p,nextIcon:y,previousIcon:d,nextLabel:h,previousLabel:x,onNext:w,onPrevious:k,nextDisabled:S,previousDisabled:Y,classNames:D,styles:L,unstyled:M,__staticSelector:O,__stopPropagation:F,numberOfColumns:A,levelControlAriaLabel:N,decadeLabelFormat:E,size:B,vars:K,...G}=s,H=C.useRef([]),j=Array(A).fill(0).map((T,v)=>{const $=b(n).add(v*10,"years").format("YYYY-MM-DD");return r.jsx(it,{size:B,yearsListFormat:u,decade:$,withNext:v===A-1,withPrevious:v===0,decadeLabelFormat:E,__onControlClick:m,__onControlMouseEnter:f,__onControlKeyDown:(g,_)=>Rt({levelIndex:v,rowIndex:_.rowIndex,cellIndex:_.cellIndex,event:g,controlsRef:H}),__getControlRef:(g,_,z)=>{Array.isArray(H.current[v])||(H.current[v]=[]),Array.isArray(H.current[v][g])||(H.current[v][g]=[]),H.current[v][g][_]=z},levelControlAriaLabel:typeof N=="function"?N($):N,locale:a,minDate:o,maxDate:c,__preventFocus:p,__stopPropagation:F,nextIcon:y,previousIcon:d,nextLabel:h,previousLabel:x,onNext:w,onPrevious:k,nextDisabled:S,previousDisabled:Y,getYearControlProps:i,__staticSelector:O||"DecadeLevelGroup",classNames:D,styles:L,unstyled:M,withCellSpacing:l},v)});return r.jsx(we,{classNames:D,styles:L,__staticSelector:O||"DecadeLevelGroup",ref:t,size:B,unstyled:M,...G,children:j})});dt.classes={...we.classes,...it.classes};dt.displayName="@mantine/dates/DecadeLevelGroup";const qa={numberOfColumns:1},ut=Z((e,t)=>{const s=ee("YearLevelGroup",qa,e),{year:n,locale:a,minDate:o,maxDate:c,monthsListFormat:u,getMonthControlProps:i,__onControlClick:m,__onControlMouseEnter:f,withCellSpacing:l,__preventFocus:p,nextIcon:y,previousIcon:d,nextLabel:h,previousLabel:x,onNext:w,onPrevious:k,onLevelClick:S,nextDisabled:Y,previousDisabled:D,hasNextLevel:L,classNames:M,styles:O,unstyled:F,__staticSelector:A,__stopPropagation:N,numberOfColumns:E,levelControlAriaLabel:B,yearLabelFormat:K,size:G,vars:H,...j}=s,T=C.useRef([]),v=Array(E).fill(0).map(($,g)=>{const _=b(n).add(g,"years").format("YYYY-MM-DD");return r.jsx(lt,{size:G,monthsListFormat:u,year:_,withNext:g===E-1,withPrevious:g===0,yearLabelFormat:K,__stopPropagation:N,__onControlClick:m,__onControlMouseEnter:f,__onControlKeyDown:(z,W)=>Rt({levelIndex:g,rowIndex:W.rowIndex,cellIndex:W.cellIndex,event:z,controlsRef:T}),__getControlRef:(z,W,q)=>{Array.isArray(T.current[g])||(T.current[g]=[]),Array.isArray(T.current[g][z])||(T.current[g][z]=[]),T.current[g][z][W]=q},levelControlAriaLabel:typeof B=="function"?B(_):B,locale:a,minDate:o,maxDate:c,__preventFocus:p,nextIcon:y,previousIcon:d,nextLabel:h,previousLabel:x,onNext:w,onPrevious:k,onLevelClick:S,nextDisabled:Y,previousDisabled:D,hasNextLevel:L,getMonthControlProps:i,classNames:M,styles:O,unstyled:F,__staticSelector:A||"YearLevelGroup",withCellSpacing:l},g)});return r.jsx(we,{classNames:M,styles:O,__staticSelector:A||"YearLevelGroup",ref:t,size:G,unstyled:F,...j,children:v})});ut.classes={...lt.classes,...we.classes};ut.displayName="@mantine/dates/YearLevelGroup";const Ua={numberOfColumns:1},mt=Z((e,t)=>{const s=ee("MonthLevelGroup",Ua,e),{month:n,locale:a,firstDayOfWeek:o,weekdayFormat:c,weekendDays:u,getDayProps:i,excludeDate:m,minDate:f,maxDate:l,renderDay:p,hideOutsideDates:y,hideWeekdays:d,getDayAriaLabel:h,__onDayClick:x,__onDayMouseEnter:w,withCellSpacing:k,highlightToday:S,withWeekNumbers:Y,__preventFocus:D,nextIcon:L,previousIcon:M,nextLabel:O,previousLabel:F,onNext:A,onPrevious:N,onLevelClick:E,nextDisabled:B,previousDisabled:K,hasNextLevel:G,classNames:H,styles:j,unstyled:T,numberOfColumns:v,levelControlAriaLabel:$,monthLabelFormat:g,__staticSelector:_,__stopPropagation:z,size:W,static:q,vars:te,...re}=s,se=C.useRef([]),Q=Array(v).fill(0).map((P,X)=>{const U=b(n).add(X,"months").format("YYYY-MM-DD");return r.jsx(ct,{month:U,withNext:X===v-1,withPrevious:X===0,monthLabelFormat:g,__stopPropagation:z,__onDayClick:x,__onDayMouseEnter:w,__onDayKeyDown:(R,de)=>Rt({levelIndex:X,rowIndex:de.rowIndex,cellIndex:de.cellIndex,event:R,controlsRef:se}),__getDayRef:(R,de,J)=>{Array.isArray(se.current[X])||(se.current[X]=[]),Array.isArray(se.current[X][R])||(se.current[X][R]=[]),se.current[X][R][de]=J},levelControlAriaLabel:typeof $=="function"?$(U):$,locale:a,firstDayOfWeek:o,weekdayFormat:c,weekendDays:u,getDayProps:i,excludeDate:m,minDate:f,maxDate:l,renderDay:p,hideOutsideDates:y,hideWeekdays:d,getDayAriaLabel:h,__preventFocus:D,nextIcon:L,previousIcon:M,nextLabel:O,previousLabel:F,onNext:A,onPrevious:N,onLevelClick:E,nextDisabled:B,previousDisabled:K,hasNextLevel:G,classNames:H,styles:j,unstyled:T,__staticSelector:_||"MonthLevelGroup",size:W,static:q,withCellSpacing:k,highlightToday:S,withWeekNumbers:Y},X)});return r.jsx(we,{classNames:H,styles:j,__staticSelector:_||"MonthLevelGroup",ref:t,size:W,...re,children:Q})});mt.classes={...we.classes,...ct.classes};mt.displayName="@mantine/dates/MonthLevelGroup";var Fs={input:"m_6fa5e2aa"};const Qa={},ft=Z((e,t)=>{const{inputProps:s,wrapperProps:n,placeholder:a,classNames:o,styles:c,unstyled:u,popoverProps:i,modalProps:m,dropdownType:f,children:l,formattedValue:p,dropdownHandlers:y,dropdownOpened:d,onClick:h,clearable:x,onClear:w,clearButtonProps:k,rightSection:S,shouldClear:Y,readOnly:D,disabled:L,value:M,name:O,form:F,type:A,onDropdownClose:N,withTime:E,...B}=en("PickerInputBase",Qa,e),K=r.jsx(qe.ClearButton,{onClick:w,unstyled:u,...k}),G=()=>{A==="range"&&Array.isArray(M)&&M[0]&&!M[1]&&w(),y.close(),N==null||N()};return r.jsxs(r.Fragment,{children:[f==="modal"&&!D&&r.jsx(tn,{opened:d,onClose:G,withCloseButton:!1,size:"auto","data-dates-modal":!0,unstyled:u,...m,children:l}),r.jsx(qe.Wrapper,{...n,children:r.jsxs(Me,{position:"bottom-start",opened:d,trapFocus:!0,returnFocus:!1,unstyled:u,...i,disabled:(i==null?void 0:i.disabled)||f==="modal"||D,onChange:H=>{var j;H||((j=i==null?void 0:i.onClose)==null||j.call(i),G())},children:[r.jsx(Me.Target,{children:r.jsx(qe,{"data-dates-input":!0,"data-read-only":D||void 0,disabled:L,component:"button",type:"button",multiline:!0,onClick:H=>{h==null||h(H),y.toggle()},__clearSection:K,__clearable:x&&Y&&!D&&!L,rightSection:S,...s,ref:t,classNames:{...o,input:sn(Fs.input,o==null?void 0:o.input)},...B,children:p||r.jsx(qe.Placeholder,{error:s.error,unstyled:u,className:o==null?void 0:o.placeholder,style:c==null?void 0:c.placeholder,children:a})})}),r.jsx(Me.Dropdown,{"data-dates-dropdown":!0,children:l})]})}),r.jsx(ms,{value:M,name:O,form:F,type:A,withTime:E})]})});ft.classes=Fs;ft.displayName="@mantine/dates/PickerInputBase";const Zt=e=>e==="range"?[null,null]:e==="multiple"?[]:null,es=(e,t)=>{const s=t?Le:he;return Array.isArray(e)?e.map(s):s(e)};function Et({type:e,value:t,defaultValue:s,onChange:n,withTime:a=!1}){const o=C.useRef(e),[c,u,i]=kt({value:es(t,a),defaultValue:es(s,a),finalValue:Zt(e),onChange:n});let m=c;return o.current!==e&&(o.current=e,t===void 0&&(m=s!==void 0?s:Zt(e),u(m))),[m,u,i]}function St(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function Xa(e){return e===0?"month":e===1?"year":"decade"}function He(e,t,s){return Xa(Ue(St(e,0),St(t,0),St(s,2)))}const Ja={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},pt=Z((e,t)=>{const s=ee("Calendar",Ja,e),{vars:n,maxLevel:a,minLevel:o,defaultLevel:c,level:u,onLevelChange:i,date:m,defaultDate:f,onDateChange:l,numberOfColumns:p,columnsToScroll:y,ariaLabels:d,nextLabel:h,previousLabel:x,onYearSelect:w,onMonthSelect:k,onYearMouseEnter:S,onMonthMouseEnter:Y,__updateDateOnYearSelect:D,__updateDateOnMonthSelect:L,firstDayOfWeek:M,weekdayFormat:O,weekendDays:F,getDayProps:A,excludeDate:N,renderDay:E,hideOutsideDates:B,hideWeekdays:K,getDayAriaLabel:G,monthLabelFormat:H,nextIcon:j,previousIcon:T,__onDayClick:v,__onDayMouseEnter:$,withCellSpacing:g,highlightToday:_,withWeekNumbers:z,monthsListFormat:W,getMonthControlProps:q,yearLabelFormat:te,yearsListFormat:re,getYearControlProps:se,decadeLabelFormat:Q,classNames:P,styles:X,unstyled:U,minDate:R,maxDate:de,locale:J,__staticSelector:oe,size:Ge,__preventFocus:Ye,__stopPropagation:Te,onNextDecade:Re,onPreviousDecade:me,onNextYear:I,onPreviousYear:Ae,onNextMonth:Fe,onPreviousMonth:$e,static:yt,...Be}=s,{resolvedClassNames:Oe,resolvedStyles:gt}=Ie({classNames:P,styles:X,props:s}),[je,ye]=kt({value:u?He(u,o,a):void 0,defaultValue:c?He(c,o,a):void 0,finalValue:He(void 0,o,a),onChange:i}),[vt,V]=Et({type:"default",value:he(m),defaultValue:he(f),onChange:l}),ne={__staticSelector:oe||"Calendar",styles:gt,classNames:Oe,unstyled:U,size:Ge},ke=y||p||1,Ht=new Date,Os=R&&b(Ht).isAfter(R)?R:b(Ht).format("YYYY-MM-DD"),ge=vt||Os,zs=()=>{const ae=b(ge).add(ke,"month").format("YYYY-MM-DD");Fe==null||Fe(ae),V(ae)},Es=()=>{const ae=b(ge).subtract(ke,"month").format("YYYY-MM-DD");$e==null||$e(ae),V(ae)},Hs=()=>{const ae=b(ge).add(ke,"year").format("YYYY-MM-DD");I==null||I(ae),V(ae)},Ws=()=>{const ae=b(ge).subtract(ke,"year").format("YYYY-MM-DD");Ae==null||Ae(ae),V(ae)},Ps=()=>{const ae=b(ge).add(10*ke,"year").format("YYYY-MM-DD");Re==null||Re(ae),V(ae)},Is=()=>{const ae=b(ge).subtract(10*ke,"year").format("YYYY-MM-DD");me==null||me(ae),V(ae)};return r.jsxs(le,{ref:t,size:Ge,"data-calendar":!0,...Be,children:[je==="month"&&r.jsx(mt,{month:ge,minDate:R,maxDate:de,firstDayOfWeek:M,weekdayFormat:O,weekendDays:F,getDayProps:A,excludeDate:N,renderDay:E,hideOutsideDates:B,hideWeekdays:K,getDayAriaLabel:G,onNext:zs,onPrevious:Es,hasNextLevel:a!=="month",onLevelClick:()=>ye("year"),numberOfColumns:p,locale:J,levelControlAriaLabel:d==null?void 0:d.monthLevelControl,nextLabel:(d==null?void 0:d.nextMonth)??h,nextIcon:j,previousLabel:(d==null?void 0:d.previousMonth)??x,previousIcon:T,monthLabelFormat:H,__onDayClick:v,__onDayMouseEnter:$,__preventFocus:Ye,__stopPropagation:Te,static:yt,withCellSpacing:g,highlightToday:_,withWeekNumbers:z,...ne}),je==="year"&&r.jsx(ut,{year:ge,numberOfColumns:p,minDate:R,maxDate:de,monthsListFormat:W,getMonthControlProps:q,locale:J,onNext:Hs,onPrevious:Ws,hasNextLevel:a!=="month"&&a!=="year",onLevelClick:()=>ye("decade"),levelControlAriaLabel:d==null?void 0:d.yearLevelControl,nextLabel:(d==null?void 0:d.nextYear)??h,nextIcon:j,previousLabel:(d==null?void 0:d.previousYear)??x,previousIcon:T,yearLabelFormat:te,__onControlMouseEnter:Y,__onControlClick:(ae,ze)=>{L&&V(ze),ye(He("month",o,a)),k==null||k(ze)},__preventFocus:Ye,__stopPropagation:Te,withCellSpacing:g,...ne}),je==="decade"&&r.jsx(dt,{decade:ge,minDate:R,maxDate:de,yearsListFormat:re,getYearControlProps:se,locale:J,onNext:Ps,onPrevious:Is,numberOfColumns:p,nextLabel:(d==null?void 0:d.nextDecade)??h,nextIcon:j,previousLabel:(d==null?void 0:d.previousDecade)??x,previousIcon:T,decadeLabelFormat:Q,__onControlMouseEnter:S,__onControlClick:(ae,ze)=>{D&&V(ze),ye(He("year",o,a)),w==null||w(ze)},__preventFocus:Ye,__stopPropagation:Te,withCellSpacing:g,...ne})]})});pt.classes={...dt.classes,...ut.classes,...mt.classes};pt.displayName="@mantine/dates/Calendar";function Za(e){const{maxLevel:t,minLevel:s,defaultLevel:n,level:a,onLevelChange:o,nextIcon:c,previousIcon:u,date:i,defaultDate:m,onDateChange:f,numberOfColumns:l,columnsToScroll:p,ariaLabels:y,nextLabel:d,previousLabel:h,onYearSelect:x,onMonthSelect:w,onYearMouseEnter:k,onMonthMouseEnter:S,onNextMonth:Y,onPreviousMonth:D,onNextYear:L,onPreviousYear:M,onNextDecade:O,onPreviousDecade:F,withCellSpacing:A,highlightToday:N,__updateDateOnYearSelect:E,__updateDateOnMonthSelect:B,withWeekNumbers:K,firstDayOfWeek:G,weekdayFormat:H,weekendDays:j,getDayProps:T,excludeDate:v,renderDay:$,hideOutsideDates:g,hideWeekdays:_,getDayAriaLabel:z,monthLabelFormat:W,monthsListFormat:q,getMonthControlProps:te,yearLabelFormat:re,yearsListFormat:se,getYearControlProps:Q,decadeLabelFormat:P,allowSingleDateInRange:X,allowDeselect:U,minDate:R,maxDate:de,locale:J,...oe}=e;return{calendarProps:{maxLevel:t,minLevel:s,defaultLevel:n,level:a,onLevelChange:o,nextIcon:c,previousIcon:u,date:i,defaultDate:m,onDateChange:f,numberOfColumns:l,columnsToScroll:p,ariaLabels:y,nextLabel:d,previousLabel:h,onYearSelect:x,onMonthSelect:w,onYearMouseEnter:k,onMonthMouseEnter:S,onNextMonth:Y,onPreviousMonth:D,onNextYear:L,onPreviousYear:M,onNextDecade:O,onPreviousDecade:F,withCellSpacing:A,highlightToday:N,__updateDateOnYearSelect:E,__updateDateOnMonthSelect:B,withWeekNumbers:K,firstDayOfWeek:G,weekdayFormat:H,weekendDays:j,getDayProps:T,excludeDate:v,renderDay:$,hideOutsideDates:g,hideWeekdays:_,getDayAriaLabel:z,monthLabelFormat:W,monthsListFormat:q,getMonthControlProps:te,yearLabelFormat:re,yearsListFormat:se,getYearControlProps:Q,decadeLabelFormat:P,allowSingleDateInRange:X,allowDeselect:U,minDate:R,maxDate:de,locale:J},others:oe}}function ts(e,t){const s=[...t].sort((n,a)=>b(n).isAfter(b(a))?1:-1);return b(s[0]).startOf("day").subtract(1,"ms").isBefore(e)&&b(s[1]).endOf("day").add(1,"ms").isAfter(e)}function er({type:e,level:t,value:s,defaultValue:n,onChange:a,allowSingleDateInRange:o,allowDeselect:c,onMouseLeave:u}){const[i,m]=Et({type:e,value:s,defaultValue:n,onChange:a}),[f,l]=C.useState(e==="range"&&i[0]&&!i[1]?i[0]:null),[p,y]=C.useState(null),d=D=>{if(e==="range"){if(f&&!i[1]){if(b(D).isSame(f,t)&&!o){l(null),y(null),m([null,null]);return}const L=[D,f];L.sort((M,O)=>b(M).isAfter(b(O))?1:-1),m(L),y(null),l(null);return}if(i[0]&&!i[1]&&b(D).isSame(i[0],t)&&!o){l(null),y(null),m([null,null]);return}m([D,null]),y(null),l(D);return}if(e==="multiple"){i.some(L=>b(L).isSame(D,t))?m(i.filter(L=>!b(L).isSame(D,t))):m([...i,D]);return}i&&c&&b(D).isSame(i,t)?m(null):m(D)},h=D=>f&&p?ts(D,[p,f]):i[0]&&i[1]?ts(D,i):!1,x=e==="range"?D=>{u==null||u(D),y(null)}:u,w=D=>i[0]&&b(D).isSame(i[0],t)?!(p&&b(p).isBefore(i[0])):!1,k=D=>i[1]?b(D).isSame(i[1],t):!i[0]||!p?!1:b(p).isBefore(i[0])&&b(D).isSame(i[0],t),S=D=>{if(e==="range")return{selected:i.some(M=>M&&b(M).isSame(D,t)),inRange:h(D),firstInRange:w(D),lastInRange:k(D),"data-autofocus":!!i[0]&&b(i[0]).isSame(D,t)||void 0};if(e==="multiple")return{selected:i.some(M=>M&&b(M).isSame(D,t)),"data-autofocus":!!i[0]&&b(i[0]).isSame(D,t)||void 0};const L=b(i).isSame(D,t);return{selected:L,"data-autofocus":L||void 0}},Y=e==="range"&&f?y:()=>{};return C.useEffect(()=>{if(e==="range")if(i[0]&&!i[1])l(i[0]);else{const D=i[0]==null&&i[1]==null,L=i[0]!=null&&i[1]!=null;(D||L)&&(l(null),y(null))}},[i]),{onDateChange:d,onRootMouseLeave:x,onHoveredDateChange:Y,getControlProps:S,_value:i,setValue:m}}const tr={type:"default",defaultLevel:"month",numberOfColumns:1},ht=Z((e,t)=>{const s=ee("DatePicker",tr,e),{classNames:n,styles:a,vars:o,type:c,defaultValue:u,value:i,onChange:m,__staticSelector:f,getDayProps:l,allowSingleDateInRange:p,allowDeselect:y,onMouseLeave:d,numberOfColumns:h,hideOutsideDates:x,__onDayMouseEnter:w,__onDayClick:k,...S}=s,{onDateChange:Y,onRootMouseLeave:D,onHoveredDateChange:L,getControlProps:M}=er({type:c,level:"day",allowDeselect:y,allowSingleDateInRange:p,value:i,defaultValue:u,onChange:m,onMouseLeave:d}),{resolvedClassNames:O,resolvedStyles:F}=Ie({classNames:n,styles:a,props:s});return r.jsx(pt,{ref:t,minLevel:"month",classNames:O,styles:F,__staticSelector:f||"DatePicker",onMouseLeave:D,numberOfColumns:h,hideOutsideDates:x??h!==1,__onDayMouseEnter:(A,N)=>{L(N),w==null||w(A,N)},__onDayClick:(A,N)=>{Y(N),k==null||k(A,N)},getDayProps:A=>({...M(A),...l==null?void 0:l(A)}),...S})});ht.classes=pt.classes;ht.displayName="@mantine/dates/DatePicker";function sr({minDate:e,value:t}){const s=e?b(e).format("HH:mm:ss"):null;return t&&e&&t===e?s??void 0:void 0}function nr({maxDate:e,value:t}){const s=e?b(e).format("HH:mm:ss"):null;return t&&e&&t===e?s??void 0:void 0}var $s={timeWrapper:"m_208d2562",timeInput:"m_62ee059"};const ar={dropdownType:"popover"},st=Z((e,t)=>{const s=ee("DateTimePicker",ar,e),{value:n,defaultValue:a,onChange:o,valueFormat:c,locale:u,classNames:i,styles:m,unstyled:f,timePickerProps:l,submitButtonProps:p,withSeconds:y,level:d,defaultLevel:h,size:x,variant:w,dropdownType:k,vars:S,minDate:Y,maxDate:D,...L}=s,M=ue({name:"DateTimePicker",classes:$s,props:s,classNames:i,styles:m,unstyled:f,vars:S}),{resolvedClassNames:O,resolvedStyles:F}=Ie({classNames:i,styles:m,props:s}),A=c||(y?"DD/MM/YYYY HH:mm:ss":"DD/MM/YYYY HH:mm"),N=C.useRef(null),E=Se(N,l==null?void 0:l.hoursRef),{calendarProps:{allowSingleDateInRange:B,...K},others:G}=Za(L),H=xe(),[j,T]=Et({type:"default",value:n,defaultValue:a,onChange:o,withTime:!0}),v=U=>U?b(U).format(y?"HH:mm:ss":"HH:mm"):"",[$,g]=C.useState(v(j)),[_,z]=C.useState(d||h||"month"),[W,q]=nn(!1),te=j?b(j).locale(H.getLocale(u)).format(A):"",re=U=>{var R;(R=l==null?void 0:l.onChange)==null||R.call(l,U),g(U),U&&T(Qt(j,U))},se=U=>{var R;U&&T(Qt(xt(Y,D,U),$)),(R=N.current)==null||R.focus()},Q=U=>{U.key==="Enter"&&(U.preventDefault(),q.close())};It(()=>{W||g(v(j))},[j,W]),It(()=>{W&&z("month")},[W]);const P=k==="popover",X=()=>{const U=xt(Y,D,j);j&&j!==U&&T(xt(Y,D,j))};return r.jsxs(ft,{formattedValue:te,dropdownOpened:L.disabled?!1:W,dropdownHandlers:q,classNames:O,styles:F,unstyled:f,ref:t,onClear:()=>T(null),shouldClear:!!j,value:j,size:x,variant:w,dropdownType:k,...G,type:"default",__staticSelector:"DateTimePicker",onDropdownClose:X,withTime:!0,children:[r.jsx(ht,{...K,maxDate:D,minDate:Y,size:x,variant:w,type:"default",value:j,defaultDate:j,onChange:se,locale:u,classNames:O,styles:F,unstyled:f,__staticSelector:"DateTimePicker",__stopPropagation:P,level:d,defaultLevel:h,onLevelChange:U=>{var R;z(U),(R=K.onLevelChange)==null||R.call(K,U)}}),_==="month"&&r.jsxs("div",{...M("timeWrapper"),children:[r.jsx($t,{value:$,withSeconds:y,unstyled:f,min:sr({minDate:Y,value:j}),max:nr({maxDate:D,value:j}),...l,...M("timeInput",{className:l==null?void 0:l.className,style:l==null?void 0:l.style}),onChange:re,onKeyDown:Q,size:x,"data-mantine-stop-propagation":P||void 0,hoursRef:E}),r.jsx(et,{variant:"default",size:`input-${x||"sm"}`,...M("submitButton",{className:p==null?void 0:p.className,style:p==null?void 0:p.style}),unstyled:f,"data-mantine-stop-propagation":P||void 0,children:r.jsx(an,{size:"30%"}),...p,onClick:U=>{var R;(R=p==null?void 0:p.onClick)==null||R.call(p,U),q.close(),X()}})]})]})});st.classes={...$s,...ft.classes,...ht.classes};st.displayName="@mantine/dates/DateTimePicker";/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rr=Ve("outline","building","IconBuilding",[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M9 8l1 0",key:"svg-1"}],["path",{d:"M9 12l1 0",key:"svg-2"}],["path",{d:"M9 16l1 0",key:"svg-3"}],["path",{d:"M14 8l1 0",key:"svg-4"}],["path",{d:"M14 12l1 0",key:"svg-5"}],["path",{d:"M14 16l1 0",key:"svg-6"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var or=Ve("outline","chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ir=Ve("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yr=Ve("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lr=Ve("outline","note","IconNote",[["path",{d:"M13 20l7 -7",key:"svg-0"}],["path",{d:"M13 20v-6a1 1 0 0 1 1 -1h6v-7a2 2 0 0 0 -2 -2h-12a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7",key:"svg-1"}]]);function cr({onSubmit:e,isLoading:t,initialValues:s=null}){const{doctors:n}=rn(),{patients:a,isLoading:o}=bn(),[c,u]=C.useState("new"),i=xn({initialValues:s||{doctorId:"",patientId:"",firstName:"",lastName:"",email:"",phoneNumber:"",address:"",startTime:null,endTime:null,notes:""},validate:{doctorId:l=>l?null:"Please select a doctor",patientId:l=>c==="existing"&&!l?"Please select a patient":null,firstName:l=>c==="new"&&!(l!=null&&l.trim())?"First name is required":null,lastName:l=>c==="new"&&!(l!=null&&l.trim())?"Last name is required":null,email:l=>c==="new"?l!=null&&l.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)?null:"Invalid email format":"Email is required":null,phoneNumber:l=>c==="new"&&!(l!=null&&l.trim())?"Phone number is required":null,address:l=>c==="new"&&!(l!=null&&l.trim())?"Address is required":null,startTime:l=>l?null:"Please select appointment start time",endTime:l=>l?null:"Please select appointment end time"}});C.useEffect(()=>{if(i.values.startTime){const l=new Date(i.values.startTime);l.setMinutes(l.getMinutes()+30),i.setFieldValue("endTime",l)}},[i.values.startTime]),C.useEffect(()=>{c==="existing"?i.setValues({...i.values,firstName:"",lastName:"",email:"",phoneNumber:"",address:"",patientId:""}):i.setValues({...i.values,patientId:""})},[c]);const m=l=>{if(!l)return null;const y=new Date(l).toISOString();return console.log("Converting date:",l,"to ISO:",y),y},f=l=>{console.log("Form values before processing:",{startTime:l.startTime,endTime:l.endTime,patientType:c,values:l});let p;c==="existing"?p={startDate:m(l.startTime),endDate:m(l.endTime),notes:l.notes?l.notes.trim():"",doctorId:parseInt(l.doctorId),userId:l.patientId}:p={firstName:l.firstName.trim(),lastName:l.lastName.trim(),email:l.email.trim(),phoneNumber:l.phoneNumber.trim(),address:l.address.trim(),startDate:m(l.startTime),endDate:m(l.endTime),notes:l.notes?l.notes.trim():"",doctorId:parseInt(l.doctorId)},p.patientType=c,console.log("Submitting appointment data:",p),e(p)};return r.jsx("form",{onSubmit:i.onSubmit(f),children:r.jsxs(be,{pos:"relative",children:[r.jsx(on,{visible:t}),r.jsx(Vt,{radius:"md",label:"Doctor",placeholder:"Select a doctor",data:n.map(l=>({value:l.id.toString(),label:`${l.name} (${l.clinicName})`})),searchable:!0,required:!0,...i.getInputProps("doctorId")}),r.jsx(Ct,{label:"Patient Details",labelPosition:"center"}),r.jsx(le,{children:r.jsx(Tt,{radius:"md",value:c,onChange:u,data:[{label:"New Patient",value:"new"},{label:"Existing Patient",value:"existing"}],fullWidth:!0})}),c==="existing"?r.jsx(Vt,{radius:"md",label:"Select Patient",placeholder:"Choose an existing patient",data:a.map(l=>({value:l.id,label:l.fullName+" - "+l.email})),searchable:!0,required:!0,disabled:o,...i.getInputProps("patientId")}):r.jsxs(r.Fragment,{children:[r.jsxs(pe,{grow:!0,children:[r.jsx(Ee,{radius:"md",label:"First Name",placeholder:"Enter patient first name",required:!0,...i.getInputProps("firstName")}),r.jsx(Ee,{radius:"md",label:"Last Name",placeholder:"Enter patient last name",required:!0,...i.getInputProps("lastName")})]}),r.jsx(Ee,{radius:"md",label:"Email",placeholder:"Enter patient email",type:"email",required:!0,...i.getInputProps("email")}),r.jsx(Ee,{radius:"md",label:"Phone Number",placeholder:"Enter patient phone number",required:!0,...i.getInputProps("phoneNumber")}),r.jsx(Ee,{radius:"md",label:"Address",placeholder:"Enter patient address",required:!0,...i.getInputProps("address")})]}),r.jsx(Ct,{label:"Appointment Details",labelPosition:"center"}),r.jsxs(pe,{grow:!0,children:[r.jsx(st,{radius:"md",timePickerProps:{withDropdown:!0,popoverProps:{withinPortal:!1},format:"12h",withSeconds:!1},label:"Start Time",placeholder:"Appointment start time",required:!0,clearable:!0,valueFormat:"DD MMM YYYY hh:mm A",minDate:new Date,...i.getInputProps("startTime")}),r.jsx(st,{radius:"md",timePickerProps:{withDropdown:!0,popoverProps:{withinPortal:!1},format:"12h"},label:"End Time",placeholder:"Appointment end time",required:!0,clearable:!0,valueFormat:"DD MMM YYYY hh:mm A",minDate:i.values.startTime||new Date,...i.getInputProps("endTime")})]}),r.jsx(Yt,{radius:"md",label:"Notes",placeholder:"Add any notes about the appointment",...i.getInputProps("notes")}),r.jsx(pe,{justify:"flex-end",mt:"md",children:r.jsx(ln,{type:"submit",loading:t,radius:"md",children:s?"Update Appointment":"Create Appointment"})})]})})}function gr({opened:e,onClose:t}){const{createAppointmentWithPatient:s,createAppointment:n}=vn(),a=async c=>{var u,i,m,f,l;try{let p;const y=c.patientType==="new";if(y){const{patientType:d,...h}=c;p=await s.mutateAsync(h)}else{const{patientType:d,...h}=c;p=await n.mutateAsync(h)}if(y&&p.userCreated&&p.temporaryPassword){const d=r.jsxs(be,{gap:"xs",children:[r.jsx(fe,{size:"sm",children:"Appointment created successfully! A new patient account has been created."}),r.jsxs(pe,{gap:"xs",align:"center",children:[r.jsx(fe,{size:"sm",fw:500,children:"Temporary Password:"}),r.jsx(Mt,{children:p.temporaryPassword}),r.jsx(cs,{value:p.temporaryPassword,children:({copied:h,copy:x})=>r.jsx(cn,{label:h?"Copied":"Copy password",children:r.jsx(et,{color:h?"teal":"blue",onClick:x,size:"sm",variant:"light",children:h?r.jsx(dn,{size:16}):r.jsx(ir,{size:16})})})})]}),r.jsx(fe,{size:"xs",c:"dimmed",children:"Please share this password with the patient so they can log in."})]});bt.show({title:"Success",message:d,color:"green",autoClose:!1})}else bt.show({title:"Success",message:"Appointment created successfully",color:"green"});t()}catch(p){console.error("Full error object:",p);let y="Failed to create appointment";if((i=(u=p.response)==null?void 0:u.data)!=null&&i.message){if(y=p.response.data.message,p.response.data.errors&&Array.isArray(p.response.data.errors)){const d=p.response.data.errors.find(h=>h.code==="DuplicateUserName"||h.code==="DuplicateEmail");if(d)y=`${p.response.data.message}: ${d.description}. Please try with a different email address.`;else{const h=p.response.data.errors.map(x=>x.description);y=`${p.response.data.message}: ${h.join(", ")}`}}}else(f=(m=p.response)==null?void 0:m.data)!=null&&f.errors?y=Object.values(p.response.data.errors).flat().join(", "):(l=p.response)!=null&&l.data?y=JSON.stringify(p.response.data):p.message&&(y=p.message);bt.show({title:"Error",message:y,color:"red",autoClose:!1})}},o=s.isPending||n.isPending;return r.jsx(rs,{radius:"md",overlayProps:{opacity:.4},opened:e,onClose:t,title:"Create New Appointment",position:"right",size:"md",children:r.jsx(cr,{onSubmit:a,isLoading:o})})}function vr({opened:e,onClose:t,appointment:s,onEdit:n,onDelete:a}){const o=un();if(!s)return null;const c=s.status,u={0:"Scheduled",1:"Cancelled",2:"Completed",3:"No Show"},i={0:"blue",1:"red",2:"green",3:"orange"};return r.jsx(rs,{offset:25,radius:"md",shadow:"xl",overlayProps:{opacity:.2},opened:e,onClose:t,styles:{header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid var(--mantine-color-gray-3)"},title:{display:"flex",justifyContent:"space-between",alignItems:"center",flexGrow:1}},title:r.jsxs(r.Fragment,{children:[r.jsx(hn,{size:"md",p:"sm",color:i[c],children:u[c]}),r.jsxs(pe,{gap:0,justify:"end",children:[r.jsx(et,{radius:"md",variant:"subtle",size:"lg",onClick:n,color:"dimmed",children:r.jsx(yn,{size:20})}),r.jsx(et,{radius:"md",variant:"subtle",size:"lg",onClick:a,color:"dimmed",children:r.jsx(gn,{size:20})})]})]}),position:"right",size:"md",scrollAreaComponent:Ze.Autosize,children:r.jsxs(be,{gap:"xs",mt:"md",children:[r.jsxs(pe,{justify:"space-between",gap:"md",style:{cursor:"pointer"},onClick:()=>{s.patientId?o(`/patients/${s.patientId}`):console.error("No patient ID available for navigation")},children:[r.jsxs(pe,{children:[r.jsx(mn,{color:"#e7edf6",style:{cursor:"pointer"},onClick:()=>{s.patientId?o(`/patients/${s.patientId}`):console.error("No patient ID available for navigation")},size:"md",radius:"xl",variant:"filled",children:r.jsx(fe,{fz:"sm",children:s.patientName.split(" ").map(m=>m[0]).join("").toUpperCase()})}),r.jsxs(be,{gap:"0",c:"dimmed",children:[r.jsx(fe,{size:"lg",fw:700,children:s.patientName}),r.jsxs(pe,{gap:"4",c:"dimmed",children:[r.jsx(fn,{size:16}),r.jsx(fe,{size:"sm",c:"dimmed",children:"00000fixMe000"})]})]})]}),r.jsx(or,{stroke:1.5,size:24})]}),r.jsx(Ct,{my:"8"}),r.jsxs(be,{children:[r.jsxs(pe,{gap:"xs",c:"dimmed",align:"start",children:[r.jsx(pn,{size:24,color:"black"}),r.jsxs(be,{gap:"0",children:[r.jsx(fe,{fw:500,children:s.time}),r.jsx(fe,{fw:500,c:"dimmed",children:s.displayDate||s.date})]})]}),r.jsxs(pe,{gap:"xs",c:"dimmed",align:"start",children:[r.jsx(rr,{size:24,color:"black"}),r.jsxs(be,{gap:"0",children:[r.jsx(fe,{fw:500,children:s.clinicName}),r.jsxs(fe,{fw:500,c:"dimmed",children:["Dr. ",s.doctorName]})]})]}),r.jsxs(pe,{align:"start",gap:"xs",c:"dimmed",children:[r.jsx(lr,{size:24,color:"black"}),r.jsxs(be,{gap:"0",children:[r.jsx(fe,{fw:500,children:"Notes"}),r.jsx(fe,{fw:500,c:"dimmed",children:s.notes})]})]})]}),r.jsx(pe,{justify:"flex-end",mt:"md"})]})})}export{vr as A,gr as C,ht as D,yr as I,Tt as S,cr as a};
