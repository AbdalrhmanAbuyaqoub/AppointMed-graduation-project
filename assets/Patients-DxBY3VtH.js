import{X as A,w as Q,j as e,B as k,F as w,ap as le,D as z,a$ as oe,r as H,o as X,v as q,y as ce,s as de,E as he,ao as ue,a6 as me,u as pe,b as B,e as xe,d as g,G as V,V as be,au as je,C as fe,T as ge,a as we,ae as ve,P as ye}from"./index-Yqc44LFA.js";import{u as Se}from"./useUserQueries-CZpXoeHi.js";import{S as D,I as Ce}from"./IconUserOff-DG3O4TbW.js";import{T as i}from"./Table-BhI_H3rt.js";var J={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const ke=J,K=A.forwardRef(({__staticSelector:n,__stylesApiProps:t,className:a,classNames:l,styles:b,unstyled:u,children:o,label:d,description:h,id:s,disabled:r,error:m,size:c,labelPosition:v="left",bodyElement:p="div",labelElement:y="label",variant:I,style:T,vars:_,mod:G,...S},P)=>{const x=Q({name:n,props:t,className:a,style:T,classes:J,classNames:l,styles:b,unstyled:u});return e.jsx(k,{...x("root"),ref:P,__vars:{"--label-fz":le(c),"--label-lh":w(c,"label-lh")},mod:[{"label-position":v},G],variant:I,size:c,...S,children:e.jsxs(k,{component:p,htmlFor:p==="label"?s:void 0,...x("body"),children:[o,e.jsxs("div",{...x("labelWrapper"),"data-disabled":r||void 0,children:[d&&e.jsx(k,{component:y,htmlFor:y==="label"?s:void 0,...x("label"),"data-disabled":r||void 0,children:d}),h&&e.jsx(z.Description,{size:c,__inheritStyles:!1,...x("description"),children:h}),m&&typeof m!="boolean"&&e.jsx(z.Error,{size:c,__inheritStyles:!1,...x("error"),children:m})]})]})})});K.displayName="@mantine/core/InlineInput";function Te({children:n,role:t}){const a=oe();return a?e.jsx("div",{role:t,"aria-labelledby":a.labelId,"aria-describedby":a.describedBy,children:n}):e.jsx(e.Fragment,{children:n})}const M=A.createContext(null),_e=M.Provider,Pe=()=>A.useContext(M),ze={},E=H((n,t)=>{const{value:a,defaultValue:l,onChange:b,size:u,wrapperProps:o,children:d,readOnly:h,...s}=X("SwitchGroup",ze,n),[r,m]=q({value:a,defaultValue:l,finalValue:[],onChange:b}),c=v=>{const p=v.currentTarget.value;!h&&m(r.includes(p)?r.filter(y=>y!==p):[...r,p])};return e.jsx(_e,{value:{value:r,onChange:c,size:u},children:e.jsx(z.Wrapper,{size:u,ref:t,...o,...s,labelElement:"div",__staticSelector:"SwitchGroup",children:e.jsx(Te,{role:"group",children:d})})})});E.classes=z.Wrapper.classes;E.displayName="@mantine/core/SwitchGroup";var Y={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const Ne={labelPosition:"right",withThumbIndicator:!0},Ie=he((n,{radius:t,color:a,size:l})=>({root:{"--switch-radius":t===void 0?void 0:me(t),"--switch-height":w(l,"switch-height"),"--switch-width":w(l,"switch-width"),"--switch-thumb-size":w(l,"switch-thumb-size"),"--switch-label-font-size":w(l,"switch-label-font-size"),"--switch-track-label-padding":w(l,"switch-track-label-padding"),"--switch-color":a?ue(a,n):void 0}})),N=H((n,t)=>{const a=X("Switch",Ne,n),{classNames:l,className:b,style:u,styles:o,unstyled:d,vars:h,color:s,label:r,offLabel:m,onLabel:c,id:v,size:p,radius:y,wrapperProps:I,thumbIcon:T,checked:_,defaultChecked:G,onChange:S,labelPosition:P,description:x,error:F,disabled:R,variant:Z,rootRef:ee,mod:se,withThumbIndicator:re,...ae}=a,j=Pe(),te=p||(j==null?void 0:j.size),C=Q({name:"Switch",props:a,classes:Y,className:b,style:u,classNames:l,styles:o,unstyled:d,vars:h,varsResolver:Ie}),{styleProps:ie,rest:W}=ce(ae),U=de(v),f=j?{checked:j.value.includes(W.value),onChange:j.onChange}:{},[$,ne]=q({value:f.checked??_,defaultValue:G,finalValue:!1});return e.jsxs(K,{...C("root"),__staticSelector:"Switch",__stylesApiProps:a,id:U,size:te,labelPosition:P,label:r,description:x,error:F,disabled:R,bodyElement:"label",labelElement:"span",classNames:l,styles:o,unstyled:d,"data-checked":f.checked||_||void 0,variant:Z,ref:ee,mod:se,...ie,...I,children:[e.jsx("input",{...W,disabled:R,checked:$,"data-checked":f.checked||_||void 0,onChange:L=>{var O;j?(O=f.onChange)==null||O.call(f,L):S==null||S(L),ne(L.currentTarget.checked)},id:U,ref:t,type:"checkbox",role:"switch",...C("input")}),e.jsxs(k,{"aria-hidden":"true",mod:{error:F,"label-position":P,"without-labels":!c&&!m},...C("track"),children:[e.jsx(k,{component:"span",mod:{"reduce-motion":!0,"with-thumb-indicator":re&&!T},...C("thumb"),children:T}),e.jsx("span",{...C("trackLabel"),children:$?c:m})]})]})});N.classes={...Y,...ke};N.displayName="@mantine/core/Switch";N.Group=E;function Ge({searchQuery:n=""}){const{patients:t,isLoading:a,banPatient:l,unbanPatient:b}=Se(),u=pe(),o=s=>{u(`/patients/${s}`)},d=(s,r)=>{r?b(s):l(s)},h=t.filter(s=>{const r=n.toLowerCase();return s.fullName.toLowerCase().includes(r)||s.email.toLowerCase().includes(r)||s.phoneNumber&&s.phoneNumber.toLowerCase().includes(r)||s.address&&s.address.toLowerCase().includes(r)});return a?e.jsxs(B,{children:[e.jsx(D,{height:40,radius:"sm"}),[1,2,3].map(s=>e.jsx(D,{height:50,radius:"sm",mt:"sm"},s))]}):e.jsxs(i,{highlightOnHover:!0,verticalSpacing:"sm",horizontalSpacing:"lg",children:[e.jsx(i.Thead,{children:e.jsxs(i.Tr,{children:[e.jsx(i.Th,{c:"dimmed",children:"Name"}),e.jsx(i.Th,{c:"dimmed",children:"Email"}),e.jsx(i.Th,{c:"dimmed",children:"Phone"}),e.jsx(i.Th,{c:"dimmed",children:"Status"})]})}),e.jsx(i.Tbody,{children:h.length===0?e.jsx(i.Tr,{children:e.jsx(i.Td,{colSpan:4,children:e.jsx(xe,{py:"xl",children:e.jsxs(B,{align:"center",gap:"md",children:[e.jsx(Ce,{size:30,opacity:.4}),e.jsx(g,{size:"sm",c:"dimmed",children:t.length===0?"No patients found":"No patients match your search"})]})})})}):h.map(s=>e.jsxs(i.Tr,{style:{cursor:"pointer"},onClick:()=>o(s.id),children:[e.jsx(i.Td,{children:e.jsxs(V,{gap:"sm",children:[e.jsx(be,{color:"#e7edf6",style:{cursor:"pointer"},onClick:()=>o(s.id),size:"md",radius:"xl",variant:"filled",children:e.jsx(g,{fz:"sm",children:s.fullName.split(" ").map(r=>r[0]).join("").toUpperCase()})}),e.jsx(g,{size:"sm",fw:600,style:{cursor:"pointer"},onClick:()=>o(s.id),children:s.fullName})]})}),e.jsx(i.Td,{children:e.jsx(g,{size:"sm",c:"dimmed",children:s.email})}),e.jsx(i.Td,{children:e.jsx(g,{size:"sm",c:"dimmed",children:s.phoneNumber||"N/A"})}),e.jsx(i.Td,{children:e.jsxs(V,{gap:"xs",align:"center",onClick:r=>r.stopPropagation(),children:[e.jsx(N,{checked:!s.isBanned,onChange:()=>d(s.id,s.isBanned),color:"green",size:"sm"}),e.jsx(g,{size:"xs",c:s.isBanned?"red":"dimmed",children:s.isBanned?"Banned":"Active"})]})})]},s.id))})]})}function Ee(){const{searchQuery:n}=je(),t=()=>{console.log("Add patient clicked")};return e.jsx(fe,{pt:12,maw:1232,fluid:!0,children:e.jsxs(B,{children:[e.jsx(ge,{fz:"24px",order:2,children:"Patients"}),e.jsx(V,{mt:40,justify:"flex-end",children:e.jsx(we,{size:"lg",variant:"outline",leftSection:e.jsx(ve,{size:20}),onClick:t,radius:"xl",children:"Add New Patient"})}),e.jsx(ye,{radius:"md",withBorder:!0,children:e.jsx(Ge,{searchQuery:n})})]})})}export{Ee as default};
