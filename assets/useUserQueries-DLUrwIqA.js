import{a1 as s,aw as n}from"./index-Cwqv58GJ.js";const o="http://app8.runasp.net/api",a=s.create({baseURL:o,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{const r=localStorage.getItem("token");return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e));const i={getPatients:async()=>{var e,r;try{const t=await a.get("/Users/get-patients");return t.data.isSuccess&&Array.isArray(t.data.result)?t.data.result:(console.warn("Unexpected response format from get-patients:",t.data),[])}catch(t){throw console.error("Error fetching patients:",t),new Error(((r=(e=t.response)==null?void 0:e.data)==null?void 0:r.message)||"Failed to fetch patients")}}};function p(){const e=n({queryKey:["patients"],queryFn:i.getPatients,initialData:[],refetchOnMount:!0,staleTime:0,cacheTime:3e5});return{patients:e.data||[],isLoading:e.isLoading,isError:e.isError,error:e.error,refetch:e.refetch}}export{p as u};
