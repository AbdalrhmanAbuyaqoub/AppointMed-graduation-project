import{X as C,v as ht,ai as nt,r as se,o as te,w as he,aj as Me,j as a,B as le,E as De,ak as Bt,a1 as Ot,al as wn,am as jn,H as Gt,ad as bs,an as _e,ao as Cn,ap as at,aq as ws,ar as Te,F as ze,a6 as js,G as oe,N as Sn,as as is,s as Cs,at as _n,a3 as ut,f as Ss,x as Ze,au as Fe,a7 as Nn,ah as Ln,av as kn,aw as ls,ax as Mn,D as rt,ay as Ht,q as Tn,az as _s,aA as cs,z as Ue,aB as Yn,c as pt,aC as Ns,b as ge,L as Rn,aD as Wt,aE as Vt,n as Ge,a as Se,u as An,aF as Ls,V as Pn,W as Fn,d as pe,aG as zn,ab as $n,ac as ks,aH as Ms,aI as Ts,aJ as ue,aK as In,e as En,aL as je,Y as On,i as Hn,aM as Wn,C as Vn,T as Bn,aN as Gn,P as qn}from"./index-CqLWFTqN.js";import{I as Kn,u as qt}from"./useAppointmentQueries-8xFnz67F.js";import{u as Un}from"./useUserQueries-C1HQwihX.js";import{u as Zn}from"./use-form-DC7n9VJx.js";import{d as b,u as Xn,t as Jn}from"./timezone-CZ9yqTsO.js";import{i as Qn}from"./use-isomorphic-layout-effect.browser.esm-ivPokxwi.js";import{T as ae}from"./Table-ByKnmm85.js";function it(e,t,s){return t===void 0&&s===void 0?e:t!==void 0&&s===void 0?Math.max(e,t):Math.min(t===void 0&&s!==void 0?e:Math.max(e,t),s)}function ea(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const s=Object.keys(e),{length:n}=s;if(n!==Object.keys(t).length)return!1;for(let r=0;r<n;r+=1){const o=s[r];if(!(o in t)||e[o]!==t[o])return!1}return!0}function ta({timeout:e=2e3}={}){const[t,s]=C.useState(null),[n,r]=C.useState(!1),[o,i]=C.useState(null),u=f=>{window.clearTimeout(o),i(window.setTimeout(()=>r(!1),e)),r(f)};return{copy:f=>{"clipboard"in navigator?navigator.clipboard.writeText(f).then(()=>u(!0)).catch(c=>s(c)):s(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{r(!1),s(null),window.clearTimeout(o)},error:t,copied:n}}function Ce(e,t){const s=t-e+1;return Array.from({length:s},(n,r)=>r+e)}const ot="dots";function sa({total:e,siblings:t=1,boundaries:s=1,page:n,initialPage:r=1,onChange:o}){const i=Math.max(Math.trunc(e),0),[u,l]=ht({value:n,onChange:o,defaultValue:r,finalValue:r}),d=p=>{p<=0?l(1):p>i?l(i):l(p)},f=()=>d(u+1),c=()=>d(u-1),h=()=>d(1),g=()=>d(i);return{range:C.useMemo(()=>{if(t*2+3+s*2>=i)return Ce(1,i);const D=Math.max(u-t,s),j=Math.min(u+t,i-s),N=D>s+2,S=j<i-(s+1);if(!N&&S){const Y=t*2+s+2;return[...Ce(1,Y),ot,...Ce(i-(s-1),i)]}if(N&&!S){const Y=s+1+2*t;return[...Ce(1,s),ot,...Ce(i-Y,i)]}return[...Ce(1,s),ot,...Ce(D,j),ot,...Ce(i-s+1,i)]},[i,t,u]),active:u,setPage:d,next:f,previous:c,first:h,last:g}}function na(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let s=0;s<e.length;s+=1)if(!ea(e[s],t[s]))return!1;return!0}function aa(e){const t=C.useRef([]),s=C.useRef(0);return na(t.current,e)||(t.current=e,s.current+=1),[s.current]}function ra(e,t){C.useEffect(e,aa(t))}function oa(e,t,s={autoInvoke:!1}){const n=C.useRef(null),r=C.useCallback((...i)=>{n.current||(n.current=window.setTimeout(()=>{e(i),n.current=null},t))},[t]),o=C.useCallback(()=>{n.current&&(window.clearTimeout(n.current),n.current=null)},[]);return C.useEffect(()=>(s.autoInvoke&&r(),o),[o,r]),{start:r,clear:o}}function ia(e,t,s){const n=C.useRef(null),r=C.useRef(null);return C.useEffect(()=>{const o=typeof s=="function"?s():s;return(o||r.current)&&(n.current=new MutationObserver(e),n.current.observe(o||r.current,t)),()=>{var i;(i=n.current)==null||i.disconnect()}},[e,t]),r}function la(){const[e,t]=C.useState(!1);return C.useEffect(()=>t(!0),[]),e}var ca={};function Ys(){return typeof process<"u"&&ca?"production":"development"}function da(e,t){return typeof e=="boolean"?e:t.autoContrast}function ua(e,t){if(!t||!e)return!1;let s=t.parentNode;for(;s!=null;){if(s===e)return!0;s=s.parentNode}return!1}function ma({target:e,parent:t,ref:s,displayAfterTransitionEnd:n}){const r=C.useRef(-1),[o,i]=C.useState(!1),[u,l]=C.useState(typeof n=="boolean"?n:!1),d=()=>{if(!e||!t||!s.current)return;const g=e.getBoundingClientRect(),m=t.getBoundingClientRect(),p=window.getComputedStyle(e),D=window.getComputedStyle(t),j=nt(p.borderTopWidth)+nt(D.borderTopWidth),N=nt(p.borderLeftWidth)+nt(D.borderLeftWidth),S={top:g.top-m.top-j,left:g.left-m.left-N,width:g.width,height:g.height};s.current.style.transform=`translateY(${S.top}px) translateX(${S.left}px)`,s.current.style.width=`${S.width}px`,s.current.style.height=`${S.height}px`},f=()=>{window.clearTimeout(r.current),s.current&&(s.current.style.transitionDuration="0ms"),d(),r.current=window.setTimeout(()=>{s.current&&(s.current.style.transitionDuration="")},30)},c=C.useRef(null),h=C.useRef(null);return C.useEffect(()=>{if(d(),e)return c.current=new ResizeObserver(f),c.current.observe(e),t&&(h.current=new ResizeObserver(f),h.current.observe(t)),()=>{var g,m;(g=c.current)==null||g.disconnect(),(m=h.current)==null||m.disconnect()}},[t,e]),C.useEffect(()=>{if(t){const g=m=>{ua(m.target,t)&&(f(),l(!1))};return t.addEventListener("transitionend",g),()=>{t.removeEventListener("transitionend",g)}}},[t]),oa(()=>{Ys()!=="test"&&i(!0)},20,{autoInvoke:!0}),ia(g=>{g.forEach(m=>{m.type==="attributes"&&m.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:o,hidden:u}}var Rs={root:"m_96b553a6"};const fa={},ha=De((e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}})),Kt=se((e,t)=>{const s=te("FloatingIndicator",fa,e),{classNames:n,className:r,style:o,styles:i,unstyled:u,vars:l,target:d,parent:f,transitionDuration:c,mod:h,displayAfterTransitionEnd:g,...m}=s,p=he({name:"FloatingIndicator",classes:Rs,props:s,className:r,style:o,classNames:n,styles:i,unstyled:u,vars:l,varsResolver:ha}),D=C.useRef(null),{initialized:j,hidden:N}=ma({target:d,parent:f,ref:D,displayAfterTransitionEnd:g}),S=Me(t,D);return!d||!f?null:a.jsx(le,{ref:S,mod:[{initialized:j,hidden:N},h],...p("root"),...m})});Kt.displayName="@mantine/core/FloatingIndicator";Kt.classes=Rs;var As={root:"m_b183c0a2"};const pa={},ga=De((e,{color:t})=>({root:{"--code-bg":t?Bt(t,e):void 0}})),Ut=se((e,t)=>{const s=te("Code",pa,e),{classNames:n,className:r,style:o,styles:i,unstyled:u,vars:l,color:d,block:f,variant:c,mod:h,...g}=s,m=he({name:"Code",props:s,classes:As,className:r,style:o,classNames:n,styles:i,unstyled:u,vars:l,varsResolver:ga});return a.jsx(le,{component:f?"pre":"code",variant:c,ref:t,mod:[{block:f},h],...m("root"),...g,dir:"ltr"})});Ut.classes=As;Ut.displayName="@mantine/core/Code";const ya={timeout:1e3};function Ps(e){const{children:t,timeout:s,value:n,...r}=te("CopyButton",ya,e),o=ta({timeout:s}),i=()=>o.copy(n);return a.jsx(a.Fragment,{children:t({copy:i,copied:o.copied,...r})})}Ps.displayName="@mantine/core/CopyButton";var va=function(t){var s=Ot.useRef(t);return Qn(function(){s.current=t}),s},ds=function(t,s){if(typeof t=="function"){t(s);return}t.current=s},xa=function(t,s){var n=Ot.useRef();return Ot.useCallback(function(r){t.current=r,n.current&&ds(n.current,null),n.current=s,s&&ds(s,r)},[s])},us={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Da=function(t){Object.keys(us).forEach(function(s){t.style.setProperty(s,us[s],"important")})},ms=Da,me=null,fs=function(t,s){var n=t.scrollHeight;return s.sizingStyle.boxSizing==="border-box"?n+s.borderSize:n-s.paddingSize};function ba(e,t,s,n){s===void 0&&(s=1),n===void 0&&(n=1/0),me||(me=document.createElement("textarea"),me.setAttribute("tabindex","-1"),me.setAttribute("aria-hidden","true"),ms(me)),me.parentNode===null&&document.body.appendChild(me);var r=e.paddingSize,o=e.borderSize,i=e.sizingStyle,u=i.boxSizing;Object.keys(i).forEach(function(h){var g=h;me.style[g]=i[g]}),ms(me),me.value=t;var l=fs(me,e);me.value=t,l=fs(me,e),me.value="x";var d=me.scrollHeight-r,f=d*s;u==="border-box"&&(f=f+r+o),l=Math.max(f,l);var c=d*n;return u==="border-box"&&(c=c+r+o),l=Math.min(c,l),[l,d]}var hs=function(){},wa=function(t,s){return t.reduce(function(n,r){return n[r]=s[r],n},{})},ja=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Ca=!!document.documentElement.currentStyle,Sa=function(t){var s=window.getComputedStyle(t);if(s===null)return null;var n=wa(ja,s),r=n.boxSizing;if(r==="")return null;Ca&&r==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var o=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),i=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:o,borderSize:i}},_a=Sa;function Zt(e,t,s){var n=va(s);C.useLayoutEffect(function(){var r=function(i){return n.current(i)};if(e)return e.addEventListener(t,r),function(){return e.removeEventListener(t,r)}},[])}var Na=function(t,s){Zt(document.body,"reset",function(n){t.current.form===n.target&&s(n)})},La=function(t){Zt(window,"resize",t)},ka=function(t){Zt(document.fonts,"loadingdone",t)},Ma=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Ta=function(t,s){var n=t.cacheMeasurements,r=t.maxRows,o=t.minRows,i=t.onChange,u=i===void 0?hs:i,l=t.onHeightChange,d=l===void 0?hs:l,f=wn(t,Ma),c=f.value!==void 0,h=C.useRef(null),g=xa(h,s),m=C.useRef(0),p=C.useRef(),D=function(){var S=h.current,Y=n&&p.current?p.current:_a(S);if(Y){p.current=Y;var w=ba(Y,S.value||S.placeholder||"x",o,r),T=w[0],y=w[1];m.current!==T&&(m.current=T,S.style.setProperty("height",T+"px","important"),d(T,{rowHeight:y}))}},j=function(S){c||D(),u(S)};return C.useLayoutEffect(D),Na(h,function(){if(!c){var N=h.current.value;requestAnimationFrame(function(){var S=h.current;S&&N!==S.value&&D()})}}),La(D),ka(D),C.createElement("textarea",jn({},f,{onChange:j,ref:g}))},Ya=C.forwardRef(Ta);const Ra={},Xt=se((e,t)=>{const{autosize:s,maxRows:n,minRows:r,__staticSelector:o,resize:i,...u}=te("Textarea",Ra,e),l=s&&Ys()!=="test",d=l?{maxRows:n,minRows:r}:{};return a.jsx(Gt,{component:l?Ya:"textarea",ref:t,...u,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":s&&n===void 0||void 0,__vars:{"--input-resize":i},...d})});Xt.classes=Gt.classes;Xt.displayName="@mantine/core/Textarea";const[Aa,gt]=bs("Pagination.Root component was not found in tree");var Xe={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const Pa={withPadding:!0},Je=se((e,t)=>{const s=te("PaginationControl",Pa,e),{classNames:n,className:r,style:o,styles:i,vars:u,active:l,disabled:d,withPadding:f,mod:c,...h}=s,g=gt(),m=d||g.disabled;return a.jsx(_e,{ref:t,disabled:m,mod:[{active:l,disabled:m,"with-padding":f},c],...g.getStyles("control",{className:r,style:o,classNames:n,styles:i,active:!m}),...h})});Je.classes=Xe;Je.displayName="@mantine/core/PaginationControl";function Qe({style:e,children:t,path:s,...n}){return a.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...n,children:a.jsx("path",{d:s,fill:"currentColor"})})}const Fa=e=>a.jsx(Qe,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),za=e=>a.jsx(Qe,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),$a=e=>a.jsx(Qe,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),Ia=e=>a.jsx(Qe,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),Ea=e=>a.jsx(Qe,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),Oa={icon:Ea},yt=se((e,t)=>{const s=te("PaginationDots",Oa,e),{classNames:n,className:r,style:o,styles:i,vars:u,icon:l,...d}=s,f=gt(),c=l;return a.jsx(le,{ref:t,...f.getStyles("dots",{className:r,style:o,styles:i,classNames:n}),...d,children:a.jsx(c,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});yt.classes=Xe;yt.displayName="@mantine/core/PaginationDots";function vt({icon:e,name:t,action:s,type:n}){const r={icon:e},o=C.forwardRef((i,u)=>{const{icon:l,...d}=te(t,r,i),f=l,c=gt(),h=n==="next"?c.active===c.total:c.active===1;return a.jsx(Je,{disabled:c.disabled||h,ref:u,onClick:c[s],withPadding:!1,...d,children:a.jsx(f,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return o.displayName=`@mantine/core/${t}`,Cn(o)}const Fs=vt({icon:Fa,name:"PaginationNext",action:"onNext",type:"next"}),zs=vt({icon:za,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),$s=vt({icon:$a,name:"PaginationFirst",action:"onFirst",type:"previous"}),Is=vt({icon:Ia,name:"PaginationLast",action:"onLast",type:"next"});function Jt({dotsIcon:e}){const t=gt(),s=t.range.map((n,r)=>{var o,i,u;return n==="dots"?a.jsx(yt,{icon:e},r):a.jsx(Je,{active:n===t.active,"aria-current":n===t.active?"page":void 0,onClick:()=>t.onChange(n),disabled:t.disabled,...(o=t.getItemProps)==null?void 0:o.call(t,n),children:((u=(i=t.getItemProps)==null?void 0:i.call(t,n))==null?void 0:u.children)??n},r)});return a.jsx(a.Fragment,{children:s})}Jt.displayName="@mantine/core/PaginationItems";const Ha={siblings:1,boundaries:1},Wa=De((e,{size:t,radius:s,color:n,autoContrast:r})=>({root:{"--pagination-control-radius":s===void 0?void 0:js(s),"--pagination-control-size":ze(t,"pagination-control-size"),"--pagination-control-fz":Te(t),"--pagination-active-bg":n?Bt(n,e):void 0,"--pagination-active-color":da(r,e)?ws({color:n,theme:e,autoContrast:r}):void 0}})),xt=se((e,t)=>{const s=te("PaginationRoot",Ha,e),{classNames:n,className:r,style:o,styles:i,unstyled:u,vars:l,total:d,value:f,defaultValue:c,onChange:h,disabled:g,siblings:m,boundaries:p,color:D,radius:j,onNextPage:N,onPreviousPage:S,onFirstPage:Y,onLastPage:w,getItemProps:T,autoContrast:y,...R}=s,A=he({name:"Pagination",classes:Xe,props:s,className:r,style:o,classNames:n,styles:i,unstyled:u,vars:l,varsResolver:Wa}),{range:P,setPage:k,next:I,previous:W,active:K,first:B,last:H}=sa({page:f,initialPage:c,onChange:h,total:d,siblings:m,boundaries:p}),M=at(N,I),$=at(S,W),x=at(Y,B),F=at(w,H);return a.jsx(Aa,{value:{total:d,range:P,active:K,disabled:g,getItemProps:T,onChange:k,onNext:M,onPrevious:$,onFirst:x,onLast:F,getStyles:A},children:a.jsx(le,{ref:t,...A("root"),...R})})});xt.classes=Xe;xt.displayName="@mantine/core/PaginationRoot";const Va={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},xe=se((e,t)=>{const s=te("Pagination",Va,e),{withEdges:n,withControls:r,getControlProps:o,nextIcon:i,previousIcon:u,lastIcon:l,firstIcon:d,dotsIcon:f,total:c,gap:h,hideWithOnePage:g,withPages:m,...p}=s;return c<=0||g&&c===1?null:a.jsx(xt,{ref:t,total:c,...p,children:a.jsxs(oe,{gap:h,children:[n&&a.jsx($s,{icon:d,...o==null?void 0:o("first")}),r&&a.jsx(zs,{icon:u,...o==null?void 0:o("previous")}),m&&a.jsx(Jt,{dotsIcon:f}),r&&a.jsx(Fs,{icon:i,...o==null?void 0:o("next")}),n&&a.jsx(Is,{icon:l,...o==null?void 0:o("last")})]})})});xe.classes=Xe;xe.displayName="@mantine/core/Pagination";xe.Root=xt;xe.Control=Je;xe.Dots=yt;xe.First=$s;xe.Last=Is;xe.Next=Fs;xe.Previous=zs;xe.Items=Jt;var Es={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const Ba={withItemsBorders:!0},Ga=De((e,{radius:t,color:s,transitionDuration:n,size:r,transitionTimingFunction:o})=>({root:{"--sc-radius":t===void 0?void 0:js(t),"--sc-color":s?Bt(s,e):void 0,"--sc-shadow":s?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":n===void 0?void 0:`${n}ms`,"--sc-transition-timing-function":o,"--sc-padding":ze(r,"sc-padding"),"--sc-font-size":Te(r)}})),Dt=se((e,t)=>{var Z,X;const s=te("SegmentedControl",Ba,e),{classNames:n,className:r,style:o,styles:i,unstyled:u,vars:l,data:d,value:f,defaultValue:c,onChange:h,size:g,name:m,disabled:p,readOnly:D,fullWidth:j,orientation:N,radius:S,color:Y,transitionDuration:w,transitionTimingFunction:T,variant:y,autoContrast:R,withItemsBorders:A,mod:P,...k}=s,I=he({name:"SegmentedControl",props:s,classes:Es,className:r,style:o,classNames:n,styles:i,unstyled:u,vars:l,varsResolver:Ga}),W=Sn(),K=d.map(V=>typeof V=="string"?{label:V,value:V}:V),B=la(),[H,M]=C.useState(is()),[$,x]=C.useState(null),[F,v]=C.useState({}),L=(V,J)=>{F[J]=V,v(F)},[E,_]=ht({value:f,defaultValue:c,finalValue:Array.isArray(d)?((Z=K.find(V=>!V.disabled))==null?void 0:Z.value)??((X=d[0])==null?void 0:X.value)??null:null,onChange:h}),z=Cs(m),U=K.map(V=>C.createElement(le,{...I("control"),mod:{active:E===V.value,orientation:N},key:V.value},C.createElement("input",{...I("input"),disabled:p||V.disabled,type:"radio",name:z,value:V.value,id:`${z}-${V.value}`,checked:E===V.value,onChange:()=>!D&&_(V.value),"data-focus-ring":W.focusRing,key:`${V.value}-input`}),C.createElement(le,{component:"label",...I("label"),mod:{active:E===V.value&&!(p||V.disabled),disabled:p||V.disabled,"read-only":D},htmlFor:`${z}-${V.value}`,ref:J=>L(J,V.value),__vars:{"--sc-label-color":Y!==void 0?ws({color:Y,theme:W,autoContrast:R}):void 0},key:`${V.value}-label`},a.jsx("span",{...I("innerLabel"),children:V.label})))),ee=Me(t,V=>x(V));return ra(()=>{M(is())},[d.length]),d.length===0?null:a.jsxs(le,{...I("root"),variant:y,size:g,ref:ee,mod:[{"full-width":j,orientation:N,initialized:B,"with-items-borders":A},P],...k,role:"radiogroup","data-disabled":p,children:[typeof E=="string"&&a.jsx(Kt,{target:F[E],parent:$,component:"span",transitionDuration:"var(--sc-transition-duration)",...I("indicator")},H),U]})});Dt.classes=Es;Dt.displayName="@mantine/core/SegmentedControl";function qa({direction:e,levelIndex:t,rowIndex:s,cellIndex:n,size:r}){switch(e){case"up":return t===0&&s===0?null:s===0?{levelIndex:t-1,rowIndex:n<=r[t-1][r[t-1].length-1]-1?r[t-1].length-1:r[t-1].length-2,cellIndex:n}:{levelIndex:t,rowIndex:s-1,cellIndex:n};case"down":return s===r[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:n}:s===r[t].length-2&&n>=r[t][r[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:n}:{levelIndex:t,rowIndex:s+1,cellIndex:n};case"left":return t===0&&s===0&&n===0?null:s===0&&n===0?{levelIndex:t-1,rowIndex:r[t-1].length-1,cellIndex:r[t-1][r[t-1].length-1]-1}:n===0?{levelIndex:t,rowIndex:s-1,cellIndex:r[t][s-1]-1}:{levelIndex:t,rowIndex:s,cellIndex:n-1};case"right":return s===r[t].length-1&&n===r[t][s]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:n===r[t][s]-1?{levelIndex:t,rowIndex:s+1,cellIndex:0}:{levelIndex:t,rowIndex:s,cellIndex:n+1};default:return{levelIndex:t,rowIndex:s,cellIndex:n}}}function Os({controlsRef:e,direction:t,levelIndex:s,rowIndex:n,cellIndex:r,size:o}){var l,d,f;const i=qa({direction:t,size:o,rowIndex:n,cellIndex:r,levelIndex:s});if(!i)return;const u=(f=(d=(l=e.current)==null?void 0:l[i.levelIndex])==null?void 0:d[i.rowIndex])==null?void 0:f[i.cellIndex];u&&(u.disabled||u.getAttribute("data-hidden")||u.getAttribute("data-outside")?Os({controlsRef:e,direction:t,levelIndex:i.levelIndex,cellIndex:i.cellIndex,rowIndex:i.rowIndex,size:o}):u.focus())}function Ka(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function Ua(e){var t;return(t=e.current)==null?void 0:t.map(s=>s.map(n=>n.length))}function Qt({controlsRef:e,levelIndex:t,rowIndex:s,cellIndex:n,event:r}){const o=Ka(r.key);if(o){r.preventDefault();const i=Ua(e);Os({controlsRef:e,direction:o,levelIndex:t,rowIndex:s,cellIndex:n,size:i})}}function ps(e,t){let s=e?b(e):b();if(t==="")return s.format("YYYY-MM-DD HH:mm:ss");const[n,r,o=0]=t.split(":").map(Number);return s=s.set("hour",n),s=s.set("minute",r),s=s.set("second",o),s=s.set("millisecond",0),s.format("YYYY-MM-DD HH:mm:ss")}function ve(e){return e==null?e:b(e).format("YYYY-MM-DD")}function Pe(e){return e==null?e:b(e).format("YYYY-MM-DD HH:mm:ss")}function Ft(e,t,s){return!e&&!t?Pe(s):e&&b(s).isBefore(e)?Pe(e):t&&b(s).isAfter(t)?Pe(t):Pe(s)}function Ne(){const e=C.useContext(_n),t=C.useCallback(o=>o||e.locale,[e.locale]),s=C.useCallback(o=>typeof o=="number"?o:e.firstDayOfWeek,[e.firstDayOfWeek]),n=C.useCallback(o=>Array.isArray(o)?o:e.weekendDays,[e.weekendDays]),r=C.useCallback(o=>typeof o=="string"?o:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getFirstDayOfWeek:s,getWeekendDays:n,getLabelSeparator:r}}function Za({value:e,type:t,withTime:s}){const n=s?Pe:ve;if(t==="range"&&Array.isArray(e)){const r=n(e[0]),o=n(e[1]);return r?o?`${r} – ${o}`:`${r} –`:""}return t==="multiple"&&Array.isArray(e)?e.filter(Boolean).join(", "):!Array.isArray(e)&&e?n(e):""}function Hs({value:e,type:t,name:s,form:n,withTime:r=!1}){return a.jsx("input",{type:"hidden",value:Za({value:e,type:t,withTime:r}),name:s,form:n})}Hs.displayName="@mantine/dates/HiddenDatesInput";function de(e){return e<10?`0${e}`:`${e}`}const Xa=e=>Number(e.toFixed(0)[0]),lt=C.forwardRef(({value:e,min:t,max:s,onChange:n,focusable:r,step:o,onNextInput:i,onPreviousInput:u,onFocus:l,readOnly:d,...f},c)=>{const h=Xa(s),g=p=>{if(d)return;const D=p.replace(/\D/g,"");if(D!==""){const j=it(parseInt(D,10),t,s);n(j),j>h&&(i==null||i())}},m=p=>{if(!d){if((p.key==="0"||p.key==="Num0")&&e===0&&(p.preventDefault(),i==null||i()),p.key==="Home"&&(p.preventDefault(),n(t)),p.key==="End"&&(p.preventDefault(),n(s)),(p.key==="Backspace"||p.key==="Delete")&&(p.preventDefault(),e!==null?n(null):u==null||u()),p.key==="ArrowRight"&&(p.preventDefault(),i==null||i()),p.key==="ArrowLeft"&&(p.preventDefault(),u==null||u()),p.key==="ArrowUp"){p.preventDefault();const D=e===null?t:it(e+o,t,s);n(D)}if(p.key==="ArrowDown"){p.preventDefault();const D=e===null?s:it(e-o,t,s);n(D)}}};return a.jsx("input",{ref:c,type:"text",role:"spinbutton","aria-valuemin":t,"aria-valuemax":s,"aria-valuenow":e===null?0:e,"data-empty":e===null||void 0,inputMode:"numeric",placeholder:"--",value:e===null?"":de(e),onChange:p=>g(p.currentTarget.value),onKeyDown:m,onFocus:p=>{p.currentTarget.select(),l==null||l(p)},onClick:p=>{p.stopPropagation(),p.currentTarget.select()},onMouseDown:p=>p.stopPropagation(),...f})});lt.displayName="@mantine/dates/SpinInput";const[Ja,Ye]=bs("TimeInput component was not found in the component tree"),Ws=C.forwardRef(({labels:e,value:t,onChange:s,className:n,style:r,onPreviousInput:o,readOnly:i,onMouseDown:u,onTouchStart:l,inputType:d,...f},c)=>{const h=Ye(),g=m=>{i||(m.key==="Home"&&(m.preventDefault(),s(e.am)),m.key==="End"&&(m.preventDefault(),s(e.pm)),(m.key==="Backspace"||m.key==="Delete")&&(m.preventDefault(),t===null?o==null||o():s(null)),m.key==="ArrowLeft"&&(m.preventDefault(),o==null||o()),(m.key==="ArrowUp"||m.key==="ArrowDown")&&(m.preventDefault(),s(t===e.am?e.pm:e.am)),m.code==="KeyA"&&(m.preventDefault(),s(e.am)),m.code==="KeyP"&&(m.preventDefault(),s(e.pm)))};return d==="input"?a.jsx("input",{...h.getStyles("field",{className:n,style:r}),ref:c,value:t||"--",onChange:m=>!i&&s(m.target.value||null),onClick:m=>m.stopPropagation(),onKeyDown:g,onMouseDown:m=>{m.stopPropagation(),u==null||u(m)},"data-am-pm":!0,...f}):a.jsxs("select",{...h.getStyles("field",{className:n,style:r}),ref:c,value:t||"",onChange:m=>!i&&s(m.target.value||null),onClick:m=>m.stopPropagation(),onKeyDown:g,onMouseDown:m=>{m.stopPropagation(),u==null||u(m)},"data-am-pm":!0,...f,children:[a.jsx("option",{value:"",children:"--"}),a.jsx("option",{value:e.am,children:e.am}),a.jsx("option",{value:e.pm,children:e.pm})]})});Ws.displayName="@mantine/dates/AmPmInput";function es({value:e,active:t,onSelect:s}){const n=Ye();return a.jsx(_e,{mod:{active:t},onClick:()=>s(e),onMouseDown:r=>r.preventDefault(),"data-value":e,tabIndex:-1,...n.getStyles("control"),children:typeof e=="number"?de(e):e})}es.displayName="@mantine/dates/TimeControl";function Vs({labels:e,value:t,onSelect:s}){const n=Ye(),r=[e.am,e.pm].map(o=>a.jsx(es,{value:o,active:t===o,onSelect:s},o));return a.jsx("div",{...n.getStyles("controlsList"),children:r})}Vs.displayName="@mantine/dates/AmPmControlsList";function Qa(e,t){if(!e||!t)return!1;const s=e.getBoundingClientRect(),n=t.getBoundingClientRect();return s.top>=n.top&&s.bottom<=n.bottom&&s.left>=n.left&&s.right<=n.right}function er(e,t,s){const n=[];for(let r=e;r<=t;r+=s)n.push(r);return n}function ct({min:e,max:t,step:s,value:n,onSelect:r}){const o=Ye(),i=C.useRef(null),l=er(e,t,s).map(d=>a.jsx(es,{value:d,active:n===d,onSelect:r},d));return C.useEffect(()=>{var d;if(n){const f=(d=i.current)==null?void 0:d.querySelector(`[data-value="${n}"]`);Qa(f,i.current)||f==null||f.scrollIntoView({block:"nearest"})}},[n]),a.jsx(ut,{h:o.maxDropdownContentHeight,type:"never",viewportRef:i,...o.getStyles("scrollarea"),...o.scrollAreaProps,children:a.jsx("div",{...o.getStyles("controlsList"),children:l})})}ct.displayName="@mantine/dates/TimeControlsList";function mt(e){const[t=null,s=null,n=null]=e.split(":").map(Number);return{hours:t,minutes:s,seconds:n}}function Bs({time:e,compare:t,withSeconds:s}){const n=mt(e),r=mt(t);return s?n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds:n.hours===r.hours&&n.minutes===r.minutes}function tr(e,t){return`${e.getHours()}:${e.getMinutes()}${t?`:${e.getSeconds()}`:""}`}function sr({value:e,format:t,amPmLabels:s,withSeconds:n}){const r=mt(typeof e=="string"?e:tr(e,n));if(r.hours===null||r.minutes===null)return null;if(t==="24h")return`${de(r.hours)}:${de(r.minutes)}${n?`:${de(r.seconds||0)}`:""}`;const o=r.hours>=12;return`${r.hours%12===0?12:r.hours%12}:${de(r.minutes)}${n?`:${de(r.seconds||0)}`:""} ${o?s.pm:s.am}`}function Gs({value:e,format:t="24h",amPmLabels:s={am:"AM",pm:"PM"},withSeconds:n=!1}){return a.jsx(a.Fragment,{children:sr({value:e,format:t,amPmLabels:s,withSeconds:n})})}Gs.displayName="@mantine/dates/TimeValue";function ts({value:e,active:t,onChange:s,format:n,amPmLabels:r,withSeconds:o}){const i=Ye();return a.jsx(_e,{mod:{active:t},onClick:()=>s(e),...i.getStyles("presetControl"),children:a.jsx(Gs,{withSeconds:o,value:e,format:n,amPmLabels:r})})}ts.displayName="@mantine/dates/TimePresetControl";function qs({value:e,data:t,onChange:s,format:n,amPmLabels:r,withSeconds:o}){const i=Ye(),u=t.values.map(l=>a.jsx(ts,{value:l,format:n,amPmLabels:r,withSeconds:o,active:Bs({time:l,compare:e,withSeconds:o}),onChange:s},l));return a.jsxs("div",{...i.getStyles("presetsGroup"),children:[a.jsx("div",{...i.getStyles("presetsGroupLabel"),children:t.label}),a.jsx(Ss,{cols:o?2:3,spacing:4,children:u})]})}qs.displayName="@mantine/dates/TimePresetGroup";function Ks({presets:e,format:t,amPmLabels:s,withSeconds:n,value:r,onChange:o}){const i=Ye();if(e.length===0)return null;if(typeof e[0]=="string"){const l=e.map(d=>a.jsx(ts,{value:d,format:t,amPmLabels:s,withSeconds:n,active:Bs({time:d,compare:r,withSeconds:n}),onChange:o},d));return a.jsx(ut.Autosize,{mah:i.maxDropdownContentHeight,type:"never",...i.getStyles("scrollarea"),...i.scrollAreaProps,children:a.jsx("div",{...i.getStyles("presetsRoot"),children:a.jsx(Ss,{cols:n?2:3,spacing:4,children:l})})})}const u=e.map((l,d)=>a.jsx(qs,{data:l,value:r,format:t,amPmLabels:s,withSeconds:n,onChange:o},d));return a.jsx(ut.Autosize,{mah:i.maxDropdownContentHeight,type:"never",...i.getStyles("scrollarea"),...i.scrollAreaProps,children:a.jsx("div",{...i.getStyles("presetsRoot"),children:u})})}Ks.displayName="@mantine/dates/TimePresets";function zt(e){const[t=0,s=0,n=0]=e.split(":").map(Number);return t*3600+s*60+n}function nr(e){const t=Math.floor(e/3600),s=Math.floor(e%3600/60),n=e%60;return{timeString:`${de(t)}:${de(s)}:${de(n)}`,hours:t,minutes:s,seconds:n}}function gs(e,t,s){const n=zt(e),r=zt(t),o=zt(s),i=Math.max(r,Math.min(n,o));return nr(i)}function Us({hours:e,minutes:t,seconds:s,amPmLabels:n}){if(e===null)return{hours:null,minutes:null,seconds:null,amPm:null};const r=e>=12?n.pm:n.am;return{hours:e%12===0?12:e%12,minutes:typeof t=="number"?t:null,seconds:typeof s=="number"?s:null,amPm:r}}function Ke({time:e,format:t,amPmLabels:s}){if(e==="")return{hours:null,minutes:null,seconds:null,amPm:null};const{hours:n,minutes:r,seconds:o}=mt(e),i={hours:n,minutes:r,seconds:o};return t==="12h"?Us({...i,amPmLabels:s}):{...i,amPm:null}}function ar({hours:e,minutes:t,seconds:s,amPm:n,amPmLabels:r,withSeconds:o}){let i=e;return n===r.pm&&e!==12?i+=12:n===r.am&&e===12&&(i=0),`${de(i)}:${de(t)}${o?`:${de(s||0)}`:""}`}function $t({hours:e,minutes:t,seconds:s,format:n,withSeconds:r,amPm:o,amPmLabels:i}){return e===null||t===null?{valid:!1,value:""}:r&&s===null?{valid:!1,value:""}:n==="24h"?{valid:!0,value:`${de(e)}:${de(t)}${r?`:${de(s)}`:""}`}:o===null?{valid:!1,value:""}:{valid:!0,value:ar({hours:e,minutes:t,seconds:s,amPm:o,amPmLabels:i,withSeconds:r})}}function rr({value:e,defaultValue:t,onChange:s,format:n,amPmLabels:r,withSeconds:o=!1,min:i,max:u,clearable:l,readOnly:d,disabled:f,pasteSplit:c}){const h=Ke({time:e||t||"",amPmLabels:r,format:n}),g=C.useRef(!0),[m,p]=C.useState(h.hours),[D,j]=C.useState(h.minutes),[N,S]=C.useState(h.seconds),[Y,w]=C.useState(h.amPm),T=l&&!d&&!f&&(m!==null||D!==null||N!==null||Y!==null),y=C.useRef(null),R=C.useRef(null),A=C.useRef(null),P=C.useRef(null),k=v=>{var L,E,_,z;v==="hours"&&((L=y.current)==null||L.focus()),v==="minutes"&&((E=R.current)==null||E.focus()),v==="seconds"&&((_=A.current)==null||_.focus()),v==="amPm"&&((z=P.current)==null||z.focus())},I=(v,L)=>{const E={hours:m,minutes:D,seconds:N,amPm:Y,[v]:L},_=$t({...E,format:n,withSeconds:o,amPmLabels:r});if(_.valid){g.current=!1;const z=gs(_.value,i||"00:00:00",u||"23:59:59"),U=n==="12h"?Us({hours:z.hours,minutes:z.minutes,seconds:z.seconds,amPmLabels:r}):z;p(U.hours),j(U.minutes),S(U.seconds),s==null||s(z.timeString)}else g.current=!1,typeof e=="string"&&e!==""&&(s==null||s(""))},W=v=>{g.current=!1;const L=Ke({time:v,amPmLabels:r,format:n});p(L.hours),j(L.minutes),S(L.seconds),w(L.amPm),s==null||s(v)},K=v=>{p(v),I("hours",v),k("hours")},B=v=>{j(v),I("minutes",v),k("minutes")},H=v=>{S(v),I("seconds",v),k("seconds")},M=v=>{w(v),I("amPm",v),k("amPm")},$=()=>{g.current=!1,p(null),j(null),S(null),w(null),s==null||s(""),k("hours")},x=v=>{v.preventDefault();const L=v.clipboardData.getData("text"),E=(c||Ke)({time:L,format:n,amPmLabels:r}),_=$t({...E,format:n,withSeconds:o,amPmLabels:r});if(_.valid){g.current=!1;const z=gs(_.value,i||"00:00:00",u||"23:59:59");s==null||s(z.timeString),p(E.hours),j(E.minutes),S(E.seconds),w(E.amPm)}},F=$t({hours:m,minutes:D,seconds:N,format:n,withSeconds:o,amPm:Y,amPmLabels:r});return C.useEffect(()=>{if(g.current&&typeof e=="string"){const v=Ke({time:e||"",amPmLabels:r,format:n});p(v.hours),j(v.minutes),S(v.seconds),w(v.amPm)}g.current=!0},[e]),{refs:{hours:y,minutes:R,seconds:A,amPm:P},values:{hours:m,minutes:D,seconds:N,amPm:Y},setHours:K,setMinutes:B,setSeconds:H,setAmPm:M,focus:k,clear:$,onPaste:x,setTimeString:W,isClearable:T,hiddenInputValue:F.value}}var Zs={fieldsRoot:"m_7a8f1e6d",fieldsGroup:"m_d6bb0a54",controlsList:"m_b97ecb26",controlsListGroup:"m_31fe42f9",dropdown:"m_9c4817c3",control:"m_154c536b",presetControl:"m_7be09d0c",presetsGroup:"m_7d00001d",presetsGroupLabel:"m_d8d918d7",field:"m_6b43ba88"};const or={hoursStep:1,minutesStep:1,secondsStep:1,format:"24h",amPmLabels:{am:"AM",pm:"PM"},withDropdown:!1,pasteSplit:Ke,maxDropdownContentHeight:200},ir=De((e,{size:t})=>({dropdown:{"--control-font-size":Te(t)}})),ss=se((e,t)=>{const s=te("TimePicker",or,e),{classNames:n,className:r,style:o,styles:i,unstyled:u,vars:l,onClick:d,format:f,value:c,defaultValue:h,onChange:g,hoursStep:m,minutesStep:p,secondsStep:D,withSeconds:j,hoursInputLabel:N,minutesInputLabel:S,secondsInputLabel:Y,amPmInputLabel:w,amPmLabels:T,clearable:y,onMouseDown:R,onFocusCapture:A,onBlurCapture:P,min:k,max:I,popoverProps:W,withDropdown:K,rightSection:B,onFocus:H,onBlur:M,clearButtonProps:$,hoursInputProps:x,minutesInputProps:F,secondsInputProps:v,amPmSelectProps:L,readOnly:E,disabled:_,size:z,name:U,form:ee,hiddenInputProps:Z,labelProps:X,pasteSplit:V,hoursRef:J,minutesRef:Q,secondsRef:O,amPmRef:fe,presets:ne,maxDropdownContentHeight:ce,scrollAreaProps:tt,...$e}=s,{resolvedClassNames:Ie,resolvedStyles:Ee}=Ze({classNames:n,styles:i,props:s}),ye=he({name:"TimePicker",classes:Zs,props:s,className:r,style:o,classNames:n,styles:i,unstyled:u,vars:l,varsResolver:ir}),G=rr({value:c,defaultValue:h,onChange:g,format:f,amPmLabels:T,withSeconds:j,min:k,max:I,clearable:y,disabled:_,readOnly:E,pasteSplit:V}),Oe=Me(G.refs.hours,J),He=Me(G.refs.minutes,Q),We=Me(G.refs.seconds,O),Rt=Me(G.refs.amPm,fe),st=Cs(),Ve=C.useRef(!1),[At,Re]=C.useState(!1),be=q=>{Ve.current||(Ve.current=!0,H==null||H(q))},Pt=q=>{q.currentTarget.contains(q.relatedTarget)||(Ve.current=!1,M==null||M(q))};return a.jsx(Ja,{value:{getStyles:ye,scrollAreaProps:tt,maxDropdownContentHeight:ce},children:a.jsxs(Fe,{opened:K&&!E&&At,transitionProps:{duration:0},position:"bottom-start",withRoles:!1,...W,children:[a.jsx(Fe.Target,{children:a.jsxs(Gt,{component:"div",size:z,disabled:_,ref:t,onClick:q=>{d==null||d(q),G.focus("hours")},onMouseDown:q=>{q.preventDefault(),R==null||R(q)},onFocusCapture:q=>{Re(!0),A==null||A(q)},onBlurCapture:q=>{Re(!1),P==null||P(q)},rightSection:B||G.isClearable&&a.jsx(Nn,{...$,size:z,onClick:q=>{var re;G.clear(),(re=$==null?void 0:$.onClick)==null||re.call($,q)},onMouseDown:q=>{var re;q.preventDefault(),(re=$==null?void 0:$.onMouseDown)==null||re.call($,q)}}),labelProps:{htmlFor:st,...X},style:o,className:r,classNames:Ie,styles:Ee,__staticSelector:"TimePicker",...$e,children:[a.jsx("div",{...ye("fieldsRoot"),dir:"ltr",children:a.jsxs("div",{...ye("fieldsGroup"),onBlur:Pt,children:[a.jsx(lt,{id:st,...x,...ye("field",{className:x==null?void 0:x.className,style:x==null?void 0:x.style}),value:G.values.hours,onChange:G.setHours,onNextInput:()=>G.focus("minutes"),min:f==="12h"?1:0,max:f==="12h"?12:23,focusable:!0,step:m,ref:Oe,"aria-label":N,readOnly:E,disabled:_,onPaste:G.onPaste,onFocus:q=>{var re;be(q),(re=x==null?void 0:x.onFocus)==null||re.call(x,q)}}),a.jsx("span",{children:":"}),a.jsx(lt,{...F,...ye("field",{className:F==null?void 0:F.className,style:F==null?void 0:F.style}),value:G.values.minutes,onChange:G.setMinutes,min:0,max:59,focusable:!0,step:p,ref:He,onPreviousInput:()=>G.focus("hours"),onNextInput:()=>j?G.focus("seconds"):G.focus("amPm"),"aria-label":S,tabIndex:-1,readOnly:E,disabled:_,onPaste:G.onPaste,onFocus:q=>{var re;be(q),(re=F==null?void 0:F.onFocus)==null||re.call(F,q)}}),j&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:":"}),a.jsx(lt,{...v,...ye("field",{className:v==null?void 0:v.className,style:v==null?void 0:v.style}),value:G.values.seconds,onChange:G.setSeconds,min:0,max:59,focusable:!0,step:D,ref:We,onPreviousInput:()=>G.focus("minutes"),onNextInput:()=>G.focus("amPm"),"aria-label":Y,tabIndex:-1,readOnly:E,disabled:_,onPaste:G.onPaste,onFocus:q=>{var re;be(q),(re=v==null?void 0:v.onFocus)==null||re.call(v,q)}})]}),f==="12h"&&a.jsx(Ws,{...L,inputType:K?"input":"select",labels:T,value:G.values.amPm,onChange:G.setAmPm,ref:Rt,"aria-label":w,onPreviousInput:()=>j?G.focus("seconds"):G.focus("minutes"),readOnly:E,disabled:_,tabIndex:-1,onPaste:G.onPaste,onFocus:q=>{var re;be(q),(re=L==null?void 0:L.onFocus)==null||re.call(L,q)}})]})}),a.jsx("input",{type:"hidden",name:U,form:ee,value:G.hiddenInputValue,...Z})]})}),a.jsx(Fe.Dropdown,{...ye("dropdown"),onMouseDown:q=>q.preventDefault(),children:ne?a.jsx(Ks,{value:G.hiddenInputValue,onChange:G.setTimeString,format:f,presets:ne,amPmLabels:T,withSeconds:j||!1}):a.jsxs("div",{...ye("controlsListGroup"),children:[a.jsx(ct,{min:f==="12h"?1:0,max:f==="12h"?12:23,step:m,value:G.values.hours,onSelect:G.setHours}),a.jsx(ct,{min:0,max:59,step:p,value:G.values.minutes,onSelect:G.setMinutes}),j&&a.jsx(ct,{min:0,max:59,step:D,value:G.values.seconds,onSelect:G.setSeconds}),f==="12h"&&a.jsx(Vs,{labels:T,value:G.values.amPm,onSelect:G.setAmPm})]})})]})})});ss.displayName="@mantine/dates/TimePicker";ss.classes=Zs;var Xs={day:"m_396ce5cb"};const lr={},cr=De((e,{size:t})=>({day:{"--day-size":ze(t,"day-size")}})),ns=se((e,t)=>{const s=te("Day",lr,e),{classNames:n,className:r,style:o,styles:i,unstyled:u,vars:l,date:d,disabled:f,__staticSelector:c,weekend:h,outside:g,selected:m,renderDay:p,inRange:D,firstInRange:j,lastInRange:N,hidden:S,static:Y,highlightToday:w,...T}=s,y=he({name:c||"Day",classes:Xs,props:s,className:r,style:o,classNames:n,styles:i,unstyled:u,vars:l,varsResolver:cr,rootSelector:"day"});return a.jsx(_e,{...y("day",{style:S?{display:"none"}:void 0}),component:Y?"div":"button",ref:t,disabled:f,"data-today":b(d).isSame(new Date,"day")||void 0,"data-hidden":S||void 0,"data-highlight-today":w||void 0,"data-disabled":f||void 0,"data-weekend":!f&&!g&&h||void 0,"data-outside":!f&&g||void 0,"data-selected":!f&&m||void 0,"data-in-range":D&&!f||void 0,"data-first-in-range":j&&!f||void 0,"data-last-in-range":N&&!f||void 0,"data-static":Y||void 0,unstyled:u,...T,children:(p==null?void 0:p(d))||b(d).date()})});ns.classes=Xs;ns.displayName="@mantine/dates/Day";function dr({locale:e,format:t="dd",firstDayOfWeek:s=1}){const n=b().day(s),r=[];for(let o=0;o<7;o+=1)typeof t=="string"?r.push(b(n).add(o,"days").locale(e).format(t)):r.push(t(b(n).add(o,"days").format("YYYY-MM-DD")));return r}var Js={weekday:"m_18a3eca"};const ur={},mr=De((e,{size:t})=>({weekdaysRow:{"--wr-fz":Te(t),"--wr-spacing":Ln(t)}})),as=se((e,t)=>{const s=te("WeekdaysRow",ur,e),{classNames:n,className:r,style:o,styles:i,unstyled:u,vars:l,locale:d,firstDayOfWeek:f,weekdayFormat:c,cellComponent:h="th",__staticSelector:g,withWeekNumbers:m,...p}=s,D=he({name:g||"WeekdaysRow",classes:Js,props:s,className:r,style:o,classNames:n,styles:i,unstyled:u,vars:l,varsResolver:mr,rootSelector:"weekdaysRow"}),j=Ne(),N=dr({locale:j.getLocale(d),format:c,firstDayOfWeek:j.getFirstDayOfWeek(f)}).map((S,Y)=>a.jsx(h,{...D("weekday"),children:S},Y));return a.jsxs(le,{component:"tr",ref:t,...D("weekdaysRow"),...p,children:[m&&a.jsx(h,{...D("weekday"),children:"#"}),N]})});as.classes=Js;as.displayName="@mantine/dates/WeekdaysRow";function fr(e,t=1){let s=b(e);const n=t===0?6:t-1;for(;s.day()!==n;)s=s.add(1,"day");return s.format("YYYY-MM-DD")}function hr(e,t=1){let s=b(e);for(;s.day()!==t;)s=s.subtract(1,"day");return s.format("YYYY-MM-DD")}function pr({month:e,firstDayOfWeek:t=1,consistentWeeks:s}){const n=b(e).subtract(b(e).date()-1,"day"),r=b(n.format("YYYY-M-D")),o=r.format("YYYY-MM-DD"),i=r.add(+r.daysInMonth()-1,"day").format("YYYY-MM-DD"),u=fr(i,t),l=[];let d=b(hr(o,t));for(;b(d).isBefore(u,"day");){const f=[];for(let c=0;c<7;c+=1)f.push(d.format("YYYY-MM-DD")),d=d.add(1,"day");l.push(f)}if(s&&l.length<6){const f=l[l.length-1],c=f[f.length-1];let h=b(c).add(1,"day");for(;l.length<6;){const g=[];for(let m=0;m<7;m+=1)g.push(h.format("YYYY-MM-DD")),h=h.add(1,"day");l.push(g)}}return l}function Qs(e,t){return b(e).format("YYYY-MM")===b(t).format("YYYY-MM")}function en(e,t){return t?b(e).isAfter(b(t).subtract(1,"day"),"day"):!0}function tn(e,t){return t?b(e).isBefore(b(t).add(1,"day"),"day"):!0}function gr({dates:e,minDate:t,maxDate:s,getDayProps:n,excludeDate:r,hideOutsideDates:o,month:i}){const u=e.flat().filter(f=>{var c;return tn(f,s)&&en(f,t)&&!(r!=null&&r(f))&&!((c=n==null?void 0:n(f))!=null&&c.disabled)&&(!o||Qs(f,i))}),l=u.find(f=>{var c;return(c=n==null?void 0:n(f))==null?void 0:c.selected});if(l)return l;const d=u.find(f=>b().isSame(f,"date"));return d||u[0]}var dt={exports:{}},yr=dt.exports,ys;function vr(){return ys||(ys=1,function(e,t){(function(s,n){e.exports=n()})(yr,function(){var s="day";return function(n,r,o){var i=function(d){return d.add(4-d.isoWeekday(),s)},u=r.prototype;u.isoWeekYear=function(){return i(this).year()},u.isoWeek=function(d){if(!this.$utils().u(d))return this.add(7*(d-this.isoWeek()),s);var f,c,h,g,m=i(this),p=(f=this.isoWeekYear(),c=this.$u,h=(c?o.utc:o)().year(f).startOf("year"),g=4-h.isoWeekday(),h.isoWeekday()>4&&(g+=7),h.add(g,s));return m.diff(p,"week")+1},u.isoWeekday=function(d){return this.$utils().u(d)?this.day()||7:this.day(this.day()%7?d:d-7)};var l=u.startOf;u.startOf=function(d,f){var c=this.$utils(),h=!!c.u(f)||f;return c.p(d)==="isoweek"?h?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(d,f)}}})}(dt)),dt.exports}var xr=vr();const Dr=kn(xr);b.extend(Dr);function br(e){const t=e.find(s=>b(s).day()===1);return b(t).isoWeek()}var sn={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const wr={withCellSpacing:!0},jr=De((e,{size:t})=>({weekNumber:{"--wn-fz":Te(t),"--wn-size":ze(t,"wn-size")}})),bt=se((e,t)=>{const s=te("Month",wr,e),{classNames:n,className:r,style:o,styles:i,unstyled:u,vars:l,__staticSelector:d,locale:f,firstDayOfWeek:c,weekdayFormat:h,month:g,weekendDays:m,getDayProps:p,excludeDate:D,minDate:j,maxDate:N,renderDay:S,hideOutsideDates:Y,hideWeekdays:w,getDayAriaLabel:T,static:y,__getDayRef:R,__onDayKeyDown:A,__onDayClick:P,__onDayMouseEnter:k,__preventFocus:I,__stopPropagation:W,withCellSpacing:K,size:B,highlightToday:H,withWeekNumbers:M,...$}=s,x=he({name:d||"Month",classes:sn,props:s,className:r,style:o,classNames:n,styles:i,unstyled:u,vars:l,varsResolver:jr,rootSelector:"month"}),F=Ne(),v=pr({month:g,firstDayOfWeek:F.getFirstDayOfWeek(c),consistentWeeks:F.consistentWeeks}),L=gr({dates:v,minDate:ve(j),maxDate:ve(N),getDayProps:p,excludeDate:D,hideOutsideDates:Y,month:g}),{resolvedClassNames:E,resolvedStyles:_}=Ze({classNames:n,styles:i,props:s}),z=v.map((U,ee)=>{const Z=U.map((X,V)=>{const J=!Qs(X,g),Q=(T==null?void 0:T(X))||b(X).locale(f||F.locale).format("D MMMM YYYY"),O=p==null?void 0:p(X),fe=b(X).isSame(L,"date");return a.jsx("td",{...x("monthCell"),"data-with-spacing":K||void 0,children:a.jsx(ns,{__staticSelector:d||"Month",classNames:E,styles:_,unstyled:u,"data-mantine-stop-propagation":W||void 0,highlightToday:H,renderDay:S,date:X,size:B,weekend:F.getWeekendDays(m).includes(b(X).get("day")),outside:J,hidden:Y?J:!1,"aria-label":Q,static:y,disabled:(D==null?void 0:D(X))||!tn(X,ve(N))||!en(X,ve(j)),ref:ne=>R==null?void 0:R(ee,V,ne),...O,onKeyDown:ne=>{var ce;(ce=O==null?void 0:O.onKeyDown)==null||ce.call(O,ne),A==null||A(ne,{rowIndex:ee,cellIndex:V,date:X})},onMouseEnter:ne=>{var ce;(ce=O==null?void 0:O.onMouseEnter)==null||ce.call(O,ne),k==null||k(ne,X)},onClick:ne=>{var ce;(ce=O==null?void 0:O.onClick)==null||ce.call(O,ne),P==null||P(ne,X)},onMouseDown:ne=>{var ce;(ce=O==null?void 0:O.onMouseDown)==null||ce.call(O,ne),I&&ne.preventDefault()},tabIndex:I||!fe?-1:0})},X.toString())});return a.jsxs("tr",{...x("monthRow"),children:[M&&a.jsx("td",{...x("weekNumber"),children:br(U)}),Z]},ee)});return a.jsxs(le,{component:"table",...x("month"),size:B,ref:t,...$,children:[!w&&a.jsx("thead",{...x("monthThead"),children:a.jsx(as,{__staticSelector:d||"Month",locale:f,firstDayOfWeek:c,weekdayFormat:h,size:B,classNames:E,styles:_,unstyled:u,withWeekNumbers:M})}),a.jsx("tbody",{...x("monthTbody"),children:z})]})});bt.classes=sn;bt.displayName="@mantine/dates/Month";var nn={pickerControl:"m_dc6a3c71"};const Cr={},Sr=De((e,{size:t})=>({pickerControl:{"--dpc-fz":Te(t),"--dpc-size":ze(t,"dpc-size")}})),wt=se((e,t)=>{const s=te("PickerControl",Cr,e),{classNames:n,className:r,style:o,styles:i,unstyled:u,vars:l,firstInRange:d,lastInRange:f,inRange:c,__staticSelector:h,selected:g,disabled:m,...p}=s,D=he({name:h||"PickerControl",classes:nn,props:s,className:r,style:o,classNames:n,styles:i,unstyled:u,vars:l,varsResolver:Sr,rootSelector:"pickerControl"});return a.jsx(_e,{...D("pickerControl"),ref:t,unstyled:u,"data-picker-control":!0,"data-selected":g&&!m||void 0,"data-disabled":m||void 0,"data-in-range":c&&!m&&!g||void 0,"data-first-in-range":d&&!m||void 0,"data-last-in-range":f&&!m||void 0,disabled:m,...p})});wt.classes=nn;wt.displayName="@mantine/dates/PickerControl";function an({year:e,minDate:t,maxDate:s}){return!t&&!s?!1:!!(t&&b(e).isBefore(t,"year")||s&&b(e).isAfter(s,"year"))}function _r({years:e,minDate:t,maxDate:s,getYearControlProps:n}){const r=e.flat().filter(u=>{var l;return!an({year:u,minDate:t,maxDate:s})&&!((l=n==null?void 0:n(u))!=null&&l.disabled)}),o=r.find(u=>{var l;return(l=n==null?void 0:n(u))==null?void 0:l.selected});if(o)return o;const i=r.find(u=>b().isSame(u,"year"));return i||r[0]}function rn(e){const t=b(e).year(),s=t-t%10;let n=0;const r=[[],[],[],[]];for(let o=0;o<4;o+=1){const i=o===3?1:3;for(let u=0;u<i;u+=1)r[o].push(b(new Date(s+n,0)).format("YYYY-MM-DD")),n+=1}return r}var on={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const Nr={yearsListFormat:"YYYY",withCellSpacing:!0},jt=se((e,t)=>{const s=te("YearsList",Nr,e),{classNames:n,className:r,style:o,styles:i,unstyled:u,vars:l,decade:d,yearsListFormat:f,locale:c,minDate:h,maxDate:g,getYearControlProps:m,__staticSelector:p,__getControlRef:D,__onControlKeyDown:j,__onControlClick:N,__onControlMouseEnter:S,__preventFocus:Y,__stopPropagation:w,withCellSpacing:T,size:y,...R}=s,A=he({name:p||"YearsList",classes:on,props:s,className:r,style:o,classNames:n,styles:i,unstyled:u,vars:l,rootSelector:"yearsList"}),P=Ne(),k=rn(d),I=_r({years:k,minDate:h,maxDate:g,getYearControlProps:m}),W=k.map((K,B)=>{const H=K.map((M,$)=>{const x=m==null?void 0:m(M),F=b(M).isSame(I,"year");return a.jsx("td",{...A("yearsListCell"),"data-with-spacing":T||void 0,children:a.jsx(wt,{...A("yearsListControl"),size:y,unstyled:u,"data-mantine-stop-propagation":w||void 0,disabled:an({year:M,minDate:h,maxDate:g}),ref:v=>D==null?void 0:D(B,$,v),...x,onKeyDown:v=>{var L;(L=x==null?void 0:x.onKeyDown)==null||L.call(x,v),j==null||j(v,{rowIndex:B,cellIndex:$,date:M})},onClick:v=>{var L;(L=x==null?void 0:x.onClick)==null||L.call(x,v),N==null||N(v,M)},onMouseEnter:v=>{var L;(L=x==null?void 0:x.onMouseEnter)==null||L.call(x,v),S==null||S(v,M)},onMouseDown:v=>{var L;(L=x==null?void 0:x.onMouseDown)==null||L.call(x,v),Y&&v.preventDefault()},tabIndex:Y||!F?-1:0,children:b(M).locale(P.getLocale(c)).format(f)})},$)});return a.jsx("tr",{...A("yearsListRow"),children:H},B)});return a.jsx(le,{component:"table",ref:t,size:y,...A("yearsList"),...R,children:a.jsx("tbody",{children:W})})});jt.classes=on;jt.displayName="@mantine/dates/YearsList";function ln({month:e,minDate:t,maxDate:s}){return!t&&!s?!1:!!(t&&b(e).isBefore(t,"month")||s&&b(e).isAfter(s,"month"))}function Lr({months:e,minDate:t,maxDate:s,getMonthControlProps:n}){const r=e.flat().filter(u=>{var l;return!ln({month:u,minDate:t,maxDate:s})&&!((l=n==null?void 0:n(u))!=null&&l.disabled)}),o=r.find(u=>{var l;return(l=n==null?void 0:n(u))==null?void 0:l.selected});if(o)return o;const i=r.find(u=>b().isSame(u,"month"));return i||r[0]}function kr(e){const t=b(e).startOf("year").toDate(),s=[[],[],[],[]];let n=0;for(let r=0;r<4;r+=1)for(let o=0;o<3;o+=1)s[r].push(b(t).add(n,"months").format("YYYY-MM-DD")),n+=1;return s}var cn={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const Mr={monthsListFormat:"MMM",withCellSpacing:!0},Ct=se((e,t)=>{const s=te("MonthsList",Mr,e),{classNames:n,className:r,style:o,styles:i,unstyled:u,vars:l,__staticSelector:d,year:f,monthsListFormat:c,locale:h,minDate:g,maxDate:m,getMonthControlProps:p,__getControlRef:D,__onControlKeyDown:j,__onControlClick:N,__onControlMouseEnter:S,__preventFocus:Y,__stopPropagation:w,withCellSpacing:T,size:y,...R}=s,A=he({name:d||"MonthsList",classes:cn,props:s,className:r,style:o,classNames:n,styles:i,unstyled:u,vars:l,rootSelector:"monthsList"}),P=Ne(),k=kr(f),I=Lr({months:k,minDate:ve(g),maxDate:ve(m),getMonthControlProps:p}),W=k.map((K,B)=>{const H=K.map((M,$)=>{const x=p==null?void 0:p(M),F=b(M).isSame(I,"month");return a.jsx("td",{...A("monthsListCell"),"data-with-spacing":T||void 0,children:a.jsx(wt,{...A("monthsListControl"),size:y,unstyled:u,__staticSelector:d||"MonthsList","data-mantine-stop-propagation":w||void 0,disabled:ln({month:M,minDate:ve(g),maxDate:ve(m)}),ref:v=>D==null?void 0:D(B,$,v),...x,onKeyDown:v=>{var L;(L=x==null?void 0:x.onKeyDown)==null||L.call(x,v),j==null||j(v,{rowIndex:B,cellIndex:$,date:M})},onClick:v=>{var L;(L=x==null?void 0:x.onClick)==null||L.call(x,v),N==null||N(v,M)},onMouseEnter:v=>{var L;(L=x==null?void 0:x.onMouseEnter)==null||L.call(x,v),S==null||S(v,M)},onMouseDown:v=>{var L;(L=x==null?void 0:x.onMouseDown)==null||L.call(x,v),Y&&v.preventDefault()},tabIndex:Y||!F?-1:0,children:b(M).locale(P.getLocale(h)).format(c)})},$)});return a.jsx("tr",{...A("monthsListRow"),children:H},B)});return a.jsx(le,{component:"table",ref:t,size:y,...A("monthsList"),...R,children:a.jsx("tbody",{children:W})})});Ct.classes=cn;Ct.displayName="@mantine/dates/MonthsList";var dn={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const Tr={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},Yr=De((e,{size:t})=>({calendarHeader:{"--dch-control-size":ze(t,"dch-control-size"),"--dch-fz":Te(t)}})),Le=se((e,t)=>{const s=te("CalendarHeader",Tr,e),{classNames:n,className:r,style:o,styles:i,unstyled:u,vars:l,nextIcon:d,previousIcon:f,nextLabel:c,previousLabel:h,onNext:g,onPrevious:m,onLevelClick:p,label:D,nextDisabled:j,previousDisabled:N,hasNextLevel:S,levelControlAriaLabel:Y,withNext:w,withPrevious:T,__staticSelector:y,__preventFocus:R,__stopPropagation:A,...P}=s,k=he({name:y||"CalendarHeader",classes:dn,props:s,className:r,style:o,classNames:n,styles:i,unstyled:u,vars:l,varsResolver:Yr,rootSelector:"calendarHeader"}),I=R?W=>W.preventDefault():void 0;return a.jsxs(le,{...k("calendarHeader"),ref:t,...P,children:[T&&a.jsx(_e,{...k("calendarHeaderControl"),"data-direction":"previous","aria-label":h,onClick:m,unstyled:u,onMouseDown:I,disabled:N,"data-disabled":N||void 0,tabIndex:R||N?-1:0,"data-mantine-stop-propagation":A||void 0,children:f||a.jsx(ls,{...k("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})}),a.jsx(_e,{component:S?"button":"div",...k("calendarHeaderLevel"),onClick:S?p:void 0,unstyled:u,onMouseDown:S?I:void 0,disabled:!S,"data-static":!S||void 0,"aria-label":Y,tabIndex:R||!S?-1:0,"data-mantine-stop-propagation":A||void 0,children:D}),w&&a.jsx(_e,{...k("calendarHeaderControl"),"data-direction":"next","aria-label":c,onClick:g,unstyled:u,onMouseDown:I,disabled:j,"data-disabled":j||void 0,tabIndex:R||j?-1:0,"data-mantine-stop-propagation":A||void 0,children:d||a.jsx(ls,{...k("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})})]})});Le.classes=dn;Le.displayName="@mantine/dates/CalendarHeader";function Rr(e){const t=rn(e);return[t[0][0],t[3][0]]}const Ar={decadeLabelFormat:"YYYY"},St=se((e,t)=>{const s=te("DecadeLevel",Ar,e),{decade:n,locale:r,minDate:o,maxDate:i,yearsListFormat:u,getYearControlProps:l,__getControlRef:d,__onControlKeyDown:f,__onControlClick:c,__onControlMouseEnter:h,withCellSpacing:g,__preventFocus:m,nextIcon:p,previousIcon:D,nextLabel:j,previousLabel:N,onNext:S,onPrevious:Y,nextDisabled:w,previousDisabled:T,levelControlAriaLabel:y,withNext:R,withPrevious:A,decadeLabelFormat:P,classNames:k,styles:I,unstyled:W,__staticSelector:K,__stopPropagation:B,size:H,...M}=s,$=Ne(),[x,F]=Rr(n),v={__staticSelector:K||"DecadeLevel",classNames:k,styles:I,unstyled:W,size:H},L=typeof w=="boolean"?w:i?!b(F).endOf("year").isBefore(i):!1,E=typeof T=="boolean"?T:o?!b(x).startOf("year").isAfter(o):!1,_=(z,U)=>b(z).locale(r||$.locale).format(U);return a.jsxs(le,{"data-decade-level":!0,size:H,ref:t,...M,children:[a.jsx(Le,{label:typeof P=="function"?P(x,F):`${_(x,P)} – ${_(F,P)}`,__preventFocus:m,__stopPropagation:B,nextIcon:p,previousIcon:D,nextLabel:j,previousLabel:N,onNext:S,onPrevious:Y,nextDisabled:L,previousDisabled:E,hasNextLevel:!1,levelControlAriaLabel:y,withNext:R,withPrevious:A,...v}),a.jsx(jt,{decade:n,locale:r,minDate:o,maxDate:i,yearsListFormat:u,getYearControlProps:l,__getControlRef:d,__onControlKeyDown:f,__onControlClick:c,__onControlMouseEnter:h,__preventFocus:m,__stopPropagation:B,withCellSpacing:g,...v})]})});St.classes={...jt.classes,...Le.classes};St.displayName="@mantine/dates/DecadeLevel";const Pr={yearLabelFormat:"YYYY"},_t=se((e,t)=>{const s=te("YearLevel",Pr,e),{year:n,locale:r,minDate:o,maxDate:i,monthsListFormat:u,getMonthControlProps:l,__getControlRef:d,__onControlKeyDown:f,__onControlClick:c,__onControlMouseEnter:h,withCellSpacing:g,__preventFocus:m,nextIcon:p,previousIcon:D,nextLabel:j,previousLabel:N,onNext:S,onPrevious:Y,onLevelClick:w,nextDisabled:T,previousDisabled:y,hasNextLevel:R,levelControlAriaLabel:A,withNext:P,withPrevious:k,yearLabelFormat:I,__staticSelector:W,__stopPropagation:K,size:B,classNames:H,styles:M,unstyled:$,...x}=s,F=Ne(),v={__staticSelector:W||"YearLevel",classNames:H,styles:M,unstyled:$,size:B},L=typeof T=="boolean"?T:i?!b(n).endOf("year").isBefore(i):!1,E=typeof y=="boolean"?y:o?!b(n).startOf("year").isAfter(o):!1;return a.jsxs(le,{"data-year-level":!0,size:B,ref:t,...x,children:[a.jsx(Le,{label:typeof I=="function"?I(n):b(n).locale(r||F.locale).format(I),__preventFocus:m,__stopPropagation:K,nextIcon:p,previousIcon:D,nextLabel:j,previousLabel:N,onNext:S,onPrevious:Y,onLevelClick:w,nextDisabled:L,previousDisabled:E,hasNextLevel:R,levelControlAriaLabel:A,withNext:P,withPrevious:k,...v}),a.jsx(Ct,{year:n,locale:r,minDate:o,maxDate:i,monthsListFormat:u,getMonthControlProps:l,__getControlRef:d,__onControlKeyDown:f,__onControlClick:c,__onControlMouseEnter:h,__preventFocus:m,__stopPropagation:K,withCellSpacing:g,...v})]})});_t.classes={...Le.classes,...Ct.classes};_t.displayName="@mantine/dates/YearLevel";const Fr={monthLabelFormat:"MMMM YYYY"},Nt=se((e,t)=>{const s=te("MonthLevel",Fr,e),{month:n,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:u,getDayProps:l,excludeDate:d,minDate:f,maxDate:c,renderDay:h,hideOutsideDates:g,hideWeekdays:m,getDayAriaLabel:p,__getDayRef:D,__onDayKeyDown:j,__onDayClick:N,__onDayMouseEnter:S,withCellSpacing:Y,highlightToday:w,withWeekNumbers:T,__preventFocus:y,__stopPropagation:R,nextIcon:A,previousIcon:P,nextLabel:k,previousLabel:I,onNext:W,onPrevious:K,onLevelClick:B,nextDisabled:H,previousDisabled:M,hasNextLevel:$,levelControlAriaLabel:x,withNext:F,withPrevious:v,monthLabelFormat:L,classNames:E,styles:_,unstyled:z,__staticSelector:U,size:ee,static:Z,...X}=s,V=Ne(),J={__staticSelector:U||"MonthLevel",classNames:E,styles:_,unstyled:z,size:ee},Q=typeof H=="boolean"?H:c?!b(n).endOf("month").isBefore(c):!1,O=typeof M=="boolean"?M:f?!b(n).startOf("month").isAfter(f):!1;return a.jsxs(le,{"data-month-level":!0,size:ee,ref:t,...X,children:[a.jsx(Le,{label:typeof L=="function"?L(n):b(n).locale(r||V.locale).format(L),__preventFocus:y,__stopPropagation:R,nextIcon:A,previousIcon:P,nextLabel:k,previousLabel:I,onNext:W,onPrevious:K,onLevelClick:B,nextDisabled:Q,previousDisabled:O,hasNextLevel:$,levelControlAriaLabel:x,withNext:F,withPrevious:v,...J}),a.jsx(bt,{month:n,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:u,getDayProps:l,excludeDate:d,minDate:f,maxDate:c,renderDay:h,hideOutsideDates:g,hideWeekdays:m,getDayAriaLabel:p,__getDayRef:D,__onDayKeyDown:j,__onDayClick:N,__onDayMouseEnter:S,__preventFocus:y,__stopPropagation:R,static:Z,withCellSpacing:Y,highlightToday:w,withWeekNumbers:T,...J})]})});Nt.classes={...bt.classes,...Le.classes};Nt.displayName="@mantine/dates/MonthLevel";var un={levelsGroup:"m_30b26e33"};const zr={},ke=se((e,t)=>{const s=te("LevelsGroup",zr,e),{classNames:n,className:r,style:o,styles:i,unstyled:u,vars:l,__staticSelector:d,...f}=s,c=he({name:d||"LevelsGroup",classes:un,props:s,className:r,style:o,classNames:n,styles:i,unstyled:u,vars:l,rootSelector:"levelsGroup"});return a.jsx(le,{ref:t,...c("levelsGroup"),...f})});ke.classes=un;ke.displayName="@mantine/dates/LevelsGroup";const $r={numberOfColumns:1},Lt=se((e,t)=>{const s=te("DecadeLevelGroup",$r,e),{decade:n,locale:r,minDate:o,maxDate:i,yearsListFormat:u,getYearControlProps:l,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:c,__preventFocus:h,nextIcon:g,previousIcon:m,nextLabel:p,previousLabel:D,onNext:j,onPrevious:N,nextDisabled:S,previousDisabled:Y,classNames:w,styles:T,unstyled:y,__staticSelector:R,__stopPropagation:A,numberOfColumns:P,levelControlAriaLabel:k,decadeLabelFormat:I,size:W,vars:K,...B}=s,H=C.useRef([]),M=Array(P).fill(0).map(($,x)=>{const F=b(n).add(x*10,"years").format("YYYY-MM-DD");return a.jsx(St,{size:W,yearsListFormat:u,decade:F,withNext:x===P-1,withPrevious:x===0,decadeLabelFormat:I,__onControlClick:d,__onControlMouseEnter:f,__onControlKeyDown:(v,L)=>Qt({levelIndex:x,rowIndex:L.rowIndex,cellIndex:L.cellIndex,event:v,controlsRef:H}),__getControlRef:(v,L,E)=>{Array.isArray(H.current[x])||(H.current[x]=[]),Array.isArray(H.current[x][v])||(H.current[x][v]=[]),H.current[x][v][L]=E},levelControlAriaLabel:typeof k=="function"?k(F):k,locale:r,minDate:o,maxDate:i,__preventFocus:h,__stopPropagation:A,nextIcon:g,previousIcon:m,nextLabel:p,previousLabel:D,onNext:j,onPrevious:N,nextDisabled:S,previousDisabled:Y,getYearControlProps:l,__staticSelector:R||"DecadeLevelGroup",classNames:w,styles:T,unstyled:y,withCellSpacing:c},x)});return a.jsx(ke,{classNames:w,styles:T,__staticSelector:R||"DecadeLevelGroup",ref:t,size:W,unstyled:y,...B,children:M})});Lt.classes={...ke.classes,...St.classes};Lt.displayName="@mantine/dates/DecadeLevelGroup";const Ir={numberOfColumns:1},kt=se((e,t)=>{const s=te("YearLevelGroup",Ir,e),{year:n,locale:r,minDate:o,maxDate:i,monthsListFormat:u,getMonthControlProps:l,__onControlClick:d,__onControlMouseEnter:f,withCellSpacing:c,__preventFocus:h,nextIcon:g,previousIcon:m,nextLabel:p,previousLabel:D,onNext:j,onPrevious:N,onLevelClick:S,nextDisabled:Y,previousDisabled:w,hasNextLevel:T,classNames:y,styles:R,unstyled:A,__staticSelector:P,__stopPropagation:k,numberOfColumns:I,levelControlAriaLabel:W,yearLabelFormat:K,size:B,vars:H,...M}=s,$=C.useRef([]),x=Array(I).fill(0).map((F,v)=>{const L=b(n).add(v,"years").format("YYYY-MM-DD");return a.jsx(_t,{size:B,monthsListFormat:u,year:L,withNext:v===I-1,withPrevious:v===0,yearLabelFormat:K,__stopPropagation:k,__onControlClick:d,__onControlMouseEnter:f,__onControlKeyDown:(E,_)=>Qt({levelIndex:v,rowIndex:_.rowIndex,cellIndex:_.cellIndex,event:E,controlsRef:$}),__getControlRef:(E,_,z)=>{Array.isArray($.current[v])||($.current[v]=[]),Array.isArray($.current[v][E])||($.current[v][E]=[]),$.current[v][E][_]=z},levelControlAriaLabel:typeof W=="function"?W(L):W,locale:r,minDate:o,maxDate:i,__preventFocus:h,nextIcon:g,previousIcon:m,nextLabel:p,previousLabel:D,onNext:j,onPrevious:N,onLevelClick:S,nextDisabled:Y,previousDisabled:w,hasNextLevel:T,getMonthControlProps:l,classNames:y,styles:R,unstyled:A,__staticSelector:P||"YearLevelGroup",withCellSpacing:c},v)});return a.jsx(ke,{classNames:y,styles:R,__staticSelector:P||"YearLevelGroup",ref:t,size:B,unstyled:A,...M,children:x})});kt.classes={..._t.classes,...ke.classes};kt.displayName="@mantine/dates/YearLevelGroup";const Er={numberOfColumns:1},Mt=se((e,t)=>{const s=te("MonthLevelGroup",Er,e),{month:n,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:u,getDayProps:l,excludeDate:d,minDate:f,maxDate:c,renderDay:h,hideOutsideDates:g,hideWeekdays:m,getDayAriaLabel:p,__onDayClick:D,__onDayMouseEnter:j,withCellSpacing:N,highlightToday:S,withWeekNumbers:Y,__preventFocus:w,nextIcon:T,previousIcon:y,nextLabel:R,previousLabel:A,onNext:P,onPrevious:k,onLevelClick:I,nextDisabled:W,previousDisabled:K,hasNextLevel:B,classNames:H,styles:M,unstyled:$,numberOfColumns:x,levelControlAriaLabel:F,monthLabelFormat:v,__staticSelector:L,__stopPropagation:E,size:_,static:z,vars:U,...ee}=s,Z=C.useRef([]),X=Array(x).fill(0).map((V,J)=>{const Q=b(n).add(J,"months").format("YYYY-MM-DD");return a.jsx(Nt,{month:Q,withNext:J===x-1,withPrevious:J===0,monthLabelFormat:v,__stopPropagation:E,__onDayClick:D,__onDayMouseEnter:j,__onDayKeyDown:(O,fe)=>Qt({levelIndex:J,rowIndex:fe.rowIndex,cellIndex:fe.cellIndex,event:O,controlsRef:Z}),__getDayRef:(O,fe,ne)=>{Array.isArray(Z.current[J])||(Z.current[J]=[]),Array.isArray(Z.current[J][O])||(Z.current[J][O]=[]),Z.current[J][O][fe]=ne},levelControlAriaLabel:typeof F=="function"?F(Q):F,locale:r,firstDayOfWeek:o,weekdayFormat:i,weekendDays:u,getDayProps:l,excludeDate:d,minDate:f,maxDate:c,renderDay:h,hideOutsideDates:g,hideWeekdays:m,getDayAriaLabel:p,__preventFocus:w,nextIcon:T,previousIcon:y,nextLabel:R,previousLabel:A,onNext:P,onPrevious:k,onLevelClick:I,nextDisabled:W,previousDisabled:K,hasNextLevel:B,classNames:H,styles:M,unstyled:$,__staticSelector:L||"MonthLevelGroup",size:_,static:z,withCellSpacing:N,highlightToday:S,withWeekNumbers:Y},J)});return a.jsx(ke,{classNames:H,styles:M,__staticSelector:L||"MonthLevelGroup",ref:t,size:_,...ee,children:X})});Mt.classes={...ke.classes,...Nt.classes};Mt.displayName="@mantine/dates/MonthLevelGroup";var mn={input:"m_6fa5e2aa"};const Or={},Tt=se((e,t)=>{const{inputProps:s,wrapperProps:n,placeholder:r,classNames:o,styles:i,unstyled:u,popoverProps:l,modalProps:d,dropdownType:f,children:c,formattedValue:h,dropdownHandlers:g,dropdownOpened:m,onClick:p,clearable:D,onClear:j,clearButtonProps:N,rightSection:S,shouldClear:Y,readOnly:w,disabled:T,value:y,name:R,form:A,type:P,onDropdownClose:k,withTime:I,...W}=Mn("PickerInputBase",Or,e),K=a.jsx(rt.ClearButton,{onClick:j,unstyled:u,...N}),B=()=>{P==="range"&&Array.isArray(y)&&y[0]&&!y[1]&&j(),g.close(),k==null||k()};return a.jsxs(a.Fragment,{children:[f==="modal"&&!w&&a.jsx(Ht,{opened:m,onClose:B,withCloseButton:!1,size:"auto","data-dates-modal":!0,unstyled:u,...d,children:c}),a.jsx(rt.Wrapper,{...n,children:a.jsxs(Fe,{position:"bottom-start",opened:m,trapFocus:!0,returnFocus:!1,unstyled:u,...l,disabled:(l==null?void 0:l.disabled)||f==="modal"||w,onChange:H=>{var M;H||((M=l==null?void 0:l.onClose)==null||M.call(l),B())},children:[a.jsx(Fe.Target,{children:a.jsx(rt,{"data-dates-input":!0,"data-read-only":w||void 0,disabled:T,component:"button",type:"button",multiline:!0,onClick:H=>{p==null||p(H),g.toggle()},__clearSection:K,__clearable:D&&Y&&!w&&!T,rightSection:S,...s,ref:t,classNames:{...o,input:Tn(mn.input,o==null?void 0:o.input)},...W,children:h||a.jsx(rt.Placeholder,{error:s.error,unstyled:u,className:o==null?void 0:o.placeholder,style:i==null?void 0:i.placeholder,children:r})})}),a.jsx(Fe.Dropdown,{"data-dates-dropdown":!0,children:c})]})}),a.jsx(Hs,{value:y,name:R,form:A,type:P,withTime:I})]})});Tt.classes=mn;Tt.displayName="@mantine/dates/PickerInputBase";const vs=e=>e==="range"?[null,null]:e==="multiple"?[]:null,xs=(e,t)=>{const s=t?Pe:ve;return Array.isArray(e)?e.map(s):s(e)};function rs({type:e,value:t,defaultValue:s,onChange:n,withTime:r=!1}){const o=C.useRef(e),[i,u,l]=ht({value:xs(t,r),defaultValue:xs(s,r),finalValue:vs(e),onChange:n});let d=i;return o.current!==e&&(o.current=e,t===void 0&&(d=s!==void 0?s:vs(e),u(d))),[d,u,l]}function It(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function Hr(e){return e===0?"month":e===1?"year":"decade"}function qe(e,t,s){return Hr(it(It(e,0),It(t,0),It(s,2)))}const Wr={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},Yt=se((e,t)=>{const s=te("Calendar",Wr,e),{vars:n,maxLevel:r,minLevel:o,defaultLevel:i,level:u,onLevelChange:l,date:d,defaultDate:f,onDateChange:c,numberOfColumns:h,columnsToScroll:g,ariaLabels:m,nextLabel:p,previousLabel:D,onYearSelect:j,onMonthSelect:N,onYearMouseEnter:S,onMonthMouseEnter:Y,__updateDateOnYearSelect:w,__updateDateOnMonthSelect:T,firstDayOfWeek:y,weekdayFormat:R,weekendDays:A,getDayProps:P,excludeDate:k,renderDay:I,hideOutsideDates:W,hideWeekdays:K,getDayAriaLabel:B,monthLabelFormat:H,nextIcon:M,previousIcon:$,__onDayClick:x,__onDayMouseEnter:F,withCellSpacing:v,highlightToday:L,withWeekNumbers:E,monthsListFormat:_,getMonthControlProps:z,yearLabelFormat:U,yearsListFormat:ee,getYearControlProps:Z,decadeLabelFormat:X,classNames:V,styles:J,unstyled:Q,minDate:O,maxDate:fe,locale:ne,__staticSelector:ce,size:tt,__preventFocus:$e,__stopPropagation:Ie,onNextDecade:Ee,onPreviousDecade:ye,onNextYear:G,onPreviousYear:Oe,onNextMonth:He,onPreviousMonth:We,static:Rt,...st}=s,{resolvedClassNames:Ve,resolvedStyles:At}=Ze({classNames:V,styles:J,props:s}),[Re,be]=ht({value:u?qe(u,o,r):void 0,defaultValue:i?qe(i,o,r):void 0,finalValue:qe(void 0,o,r),onChange:l}),[Pt,q]=rs({type:"default",value:ve(d),defaultValue:ve(f),onChange:c}),re={__staticSelector:ce||"Calendar",styles:At,classNames:Ve,unstyled:Q,size:tt},Ae=g||h||1,os=new Date,pn=O&&b(os).isAfter(O)?O:b(os).format("YYYY-MM-DD"),we=Pt||pn,gn=()=>{const ie=b(we).add(Ae,"month").format("YYYY-MM-DD");He==null||He(ie),q(ie)},yn=()=>{const ie=b(we).subtract(Ae,"month").format("YYYY-MM-DD");We==null||We(ie),q(ie)},vn=()=>{const ie=b(we).add(Ae,"year").format("YYYY-MM-DD");G==null||G(ie),q(ie)},xn=()=>{const ie=b(we).subtract(Ae,"year").format("YYYY-MM-DD");Oe==null||Oe(ie),q(ie)},Dn=()=>{const ie=b(we).add(10*Ae,"year").format("YYYY-MM-DD");Ee==null||Ee(ie),q(ie)},bn=()=>{const ie=b(we).subtract(10*Ae,"year").format("YYYY-MM-DD");ye==null||ye(ie),q(ie)};return a.jsxs(le,{ref:t,size:tt,"data-calendar":!0,...st,children:[Re==="month"&&a.jsx(Mt,{month:we,minDate:O,maxDate:fe,firstDayOfWeek:y,weekdayFormat:R,weekendDays:A,getDayProps:P,excludeDate:k,renderDay:I,hideOutsideDates:W,hideWeekdays:K,getDayAriaLabel:B,onNext:gn,onPrevious:yn,hasNextLevel:r!=="month",onLevelClick:()=>be("year"),numberOfColumns:h,locale:ne,levelControlAriaLabel:m==null?void 0:m.monthLevelControl,nextLabel:(m==null?void 0:m.nextMonth)??p,nextIcon:M,previousLabel:(m==null?void 0:m.previousMonth)??D,previousIcon:$,monthLabelFormat:H,__onDayClick:x,__onDayMouseEnter:F,__preventFocus:$e,__stopPropagation:Ie,static:Rt,withCellSpacing:v,highlightToday:L,withWeekNumbers:E,...re}),Re==="year"&&a.jsx(kt,{year:we,numberOfColumns:h,minDate:O,maxDate:fe,monthsListFormat:_,getMonthControlProps:z,locale:ne,onNext:vn,onPrevious:xn,hasNextLevel:r!=="month"&&r!=="year",onLevelClick:()=>be("decade"),levelControlAriaLabel:m==null?void 0:m.yearLevelControl,nextLabel:(m==null?void 0:m.nextYear)??p,nextIcon:M,previousLabel:(m==null?void 0:m.previousYear)??D,previousIcon:$,yearLabelFormat:U,__onControlMouseEnter:Y,__onControlClick:(ie,Be)=>{T&&q(Be),be(qe("month",o,r)),N==null||N(Be)},__preventFocus:$e,__stopPropagation:Ie,withCellSpacing:v,...re}),Re==="decade"&&a.jsx(Lt,{decade:we,minDate:O,maxDate:fe,yearsListFormat:ee,getYearControlProps:Z,locale:ne,onNext:Dn,onPrevious:bn,numberOfColumns:h,nextLabel:(m==null?void 0:m.nextDecade)??p,nextIcon:M,previousLabel:(m==null?void 0:m.previousDecade)??D,previousIcon:$,decadeLabelFormat:X,__onControlMouseEnter:S,__onControlClick:(ie,Be)=>{w&&q(Be),be(qe("year",o,r)),j==null||j(Be)},__preventFocus:$e,__stopPropagation:Ie,withCellSpacing:v,...re})]})});Yt.classes={...Lt.classes,...kt.classes,...Mt.classes};Yt.displayName="@mantine/dates/Calendar";function Vr(e){const{maxLevel:t,minLevel:s,defaultLevel:n,level:r,onLevelChange:o,nextIcon:i,previousIcon:u,date:l,defaultDate:d,onDateChange:f,numberOfColumns:c,columnsToScroll:h,ariaLabels:g,nextLabel:m,previousLabel:p,onYearSelect:D,onMonthSelect:j,onYearMouseEnter:N,onMonthMouseEnter:S,onNextMonth:Y,onPreviousMonth:w,onNextYear:T,onPreviousYear:y,onNextDecade:R,onPreviousDecade:A,withCellSpacing:P,highlightToday:k,__updateDateOnYearSelect:I,__updateDateOnMonthSelect:W,withWeekNumbers:K,firstDayOfWeek:B,weekdayFormat:H,weekendDays:M,getDayProps:$,excludeDate:x,renderDay:F,hideOutsideDates:v,hideWeekdays:L,getDayAriaLabel:E,monthLabelFormat:_,monthsListFormat:z,getMonthControlProps:U,yearLabelFormat:ee,yearsListFormat:Z,getYearControlProps:X,decadeLabelFormat:V,allowSingleDateInRange:J,allowDeselect:Q,minDate:O,maxDate:fe,locale:ne,...ce}=e;return{calendarProps:{maxLevel:t,minLevel:s,defaultLevel:n,level:r,onLevelChange:o,nextIcon:i,previousIcon:u,date:l,defaultDate:d,onDateChange:f,numberOfColumns:c,columnsToScroll:h,ariaLabels:g,nextLabel:m,previousLabel:p,onYearSelect:D,onMonthSelect:j,onYearMouseEnter:N,onMonthMouseEnter:S,onNextMonth:Y,onPreviousMonth:w,onNextYear:T,onPreviousYear:y,onNextDecade:R,onPreviousDecade:A,withCellSpacing:P,highlightToday:k,__updateDateOnYearSelect:I,__updateDateOnMonthSelect:W,withWeekNumbers:K,firstDayOfWeek:B,weekdayFormat:H,weekendDays:M,getDayProps:$,excludeDate:x,renderDay:F,hideOutsideDates:v,hideWeekdays:L,getDayAriaLabel:E,monthLabelFormat:_,monthsListFormat:z,getMonthControlProps:U,yearLabelFormat:ee,yearsListFormat:Z,getYearControlProps:X,decadeLabelFormat:V,allowSingleDateInRange:J,allowDeselect:Q,minDate:O,maxDate:fe,locale:ne},others:ce}}function Ds(e,t){const s=[...t].sort((n,r)=>b(n).isAfter(b(r))?1:-1);return b(s[0]).startOf("day").subtract(1,"ms").isBefore(e)&&b(s[1]).endOf("day").add(1,"ms").isAfter(e)}function Br({type:e,level:t,value:s,defaultValue:n,onChange:r,allowSingleDateInRange:o,allowDeselect:i,onMouseLeave:u}){const[l,d]=rs({type:e,value:s,defaultValue:n,onChange:r}),[f,c]=C.useState(e==="range"&&l[0]&&!l[1]?l[0]:null),[h,g]=C.useState(null),m=w=>{if(e==="range"){if(f&&!l[1]){if(b(w).isSame(f,t)&&!o){c(null),g(null),d([null,null]);return}const T=[w,f];T.sort((y,R)=>b(y).isAfter(b(R))?1:-1),d(T),g(null),c(null);return}if(l[0]&&!l[1]&&b(w).isSame(l[0],t)&&!o){c(null),g(null),d([null,null]);return}d([w,null]),g(null),c(w);return}if(e==="multiple"){l.some(T=>b(T).isSame(w,t))?d(l.filter(T=>!b(T).isSame(w,t))):d([...l,w]);return}l&&i&&b(w).isSame(l,t)?d(null):d(w)},p=w=>f&&h?Ds(w,[h,f]):l[0]&&l[1]?Ds(w,l):!1,D=e==="range"?w=>{u==null||u(w),g(null)}:u,j=w=>l[0]&&b(w).isSame(l[0],t)?!(h&&b(h).isBefore(l[0])):!1,N=w=>l[1]?b(w).isSame(l[1],t):!l[0]||!h?!1:b(h).isBefore(l[0])&&b(w).isSame(l[0],t),S=w=>{if(e==="range")return{selected:l.some(y=>y&&b(y).isSame(w,t)),inRange:p(w),firstInRange:j(w),lastInRange:N(w),"data-autofocus":!!l[0]&&b(l[0]).isSame(w,t)||void 0};if(e==="multiple")return{selected:l.some(y=>y&&b(y).isSame(w,t)),"data-autofocus":!!l[0]&&b(l[0]).isSame(w,t)||void 0};const T=b(l).isSame(w,t);return{selected:T,"data-autofocus":T||void 0}},Y=e==="range"&&f?g:()=>{};return C.useEffect(()=>{if(e==="range")if(l[0]&&!l[1])c(l[0]);else{const w=l[0]==null&&l[1]==null,T=l[0]!=null&&l[1]!=null;(w||T)&&(c(null),g(null))}},[l]),{onDateChange:m,onRootMouseLeave:D,onHoveredDateChange:Y,getControlProps:S,_value:l,setValue:d}}const Gr={type:"default",defaultLevel:"month",numberOfColumns:1},et=se((e,t)=>{const s=te("DatePicker",Gr,e),{classNames:n,styles:r,vars:o,type:i,defaultValue:u,value:l,onChange:d,__staticSelector:f,getDayProps:c,allowSingleDateInRange:h,allowDeselect:g,onMouseLeave:m,numberOfColumns:p,hideOutsideDates:D,__onDayMouseEnter:j,__onDayClick:N,...S}=s,{onDateChange:Y,onRootMouseLeave:w,onHoveredDateChange:T,getControlProps:y}=Br({type:i,level:"day",allowDeselect:g,allowSingleDateInRange:h,value:l,defaultValue:u,onChange:d,onMouseLeave:m}),{resolvedClassNames:R,resolvedStyles:A}=Ze({classNames:n,styles:r,props:s});return a.jsx(Yt,{ref:t,minLevel:"month",classNames:R,styles:A,__staticSelector:f||"DatePicker",onMouseLeave:w,numberOfColumns:p,hideOutsideDates:D??p!==1,__onDayMouseEnter:(P,k)=>{T(k),j==null||j(P,k)},__onDayClick:(P,k)=>{Y(k),N==null||N(P,k)},getDayProps:P=>({...y(P),...c==null?void 0:c(P)}),...S})});et.classes=Yt.classes;et.displayName="@mantine/dates/DatePicker";function qr({minDate:e,value:t}){const s=e?b(e).format("HH:mm:ss"):null;return t&&e&&t===e?s??void 0:void 0}function Kr({maxDate:e,value:t}){const s=e?b(e).format("HH:mm:ss"):null;return t&&e&&t===e?s??void 0:void 0}var fn={timeWrapper:"m_208d2562",timeInput:"m_62ee059"};const Ur={dropdownType:"popover"},ft=se((e,t)=>{const s=te("DateTimePicker",Ur,e),{value:n,defaultValue:r,onChange:o,valueFormat:i,locale:u,classNames:l,styles:d,unstyled:f,timePickerProps:c,submitButtonProps:h,withSeconds:g,level:m,defaultLevel:p,size:D,variant:j,dropdownType:N,vars:S,minDate:Y,maxDate:w,...T}=s,y=he({name:"DateTimePicker",classes:fn,props:s,classNames:l,styles:d,unstyled:f,vars:S}),{resolvedClassNames:R,resolvedStyles:A}=Ze({classNames:l,styles:d,props:s}),P=i||(g?"DD/MM/YYYY HH:mm:ss":"DD/MM/YYYY HH:mm"),k=C.useRef(null),I=Me(k,c==null?void 0:c.hoursRef),{calendarProps:{allowSingleDateInRange:W,...K},others:B}=Vr(T),H=Ne(),[M,$]=rs({type:"default",value:n,defaultValue:r,onChange:o,withTime:!0}),x=Q=>Q?b(Q).format(g?"HH:mm:ss":"HH:mm"):"",[F,v]=C.useState(x(M)),[L,E]=C.useState(m||p||"month"),[_,z]=_s(!1),U=M?b(M).locale(H.getLocale(u)).format(P):"",ee=Q=>{var O;(O=c==null?void 0:c.onChange)==null||O.call(c,Q),v(Q),Q&&$(ps(M,Q))},Z=Q=>{var O;Q&&$(ps(Ft(Y,w,Q),F)),(O=k.current)==null||O.focus()},X=Q=>{Q.key==="Enter"&&(Q.preventDefault(),z.close())};cs(()=>{_||v(x(M))},[M,_]),cs(()=>{_&&E("month")},[_]);const V=N==="popover",J=()=>{const Q=Ft(Y,w,M);M&&M!==Q&&$(Ft(Y,w,M))};return a.jsxs(Tt,{formattedValue:U,dropdownOpened:T.disabled?!1:_,dropdownHandlers:z,classNames:R,styles:A,unstyled:f,ref:t,onClear:()=>$(null),shouldClear:!!M,value:M,size:D,variant:j,dropdownType:N,...B,type:"default",__staticSelector:"DateTimePicker",onDropdownClose:J,withTime:!0,children:[a.jsx(et,{...K,maxDate:w,minDate:Y,size:D,variant:j,type:"default",value:M,defaultDate:M,onChange:Z,locale:u,classNames:R,styles:A,unstyled:f,__staticSelector:"DateTimePicker",__stopPropagation:V,level:m,defaultLevel:p,onLevelChange:Q=>{var O;E(Q),(O=K.onLevelChange)==null||O.call(K,Q)}}),L==="month"&&a.jsxs("div",{...y("timeWrapper"),children:[a.jsx(ss,{value:F,withSeconds:g,unstyled:f,min:qr({minDate:Y,value:M}),max:Kr({maxDate:w,value:M}),...c,...y("timeInput",{className:c==null?void 0:c.className,style:c==null?void 0:c.style}),onChange:ee,onKeyDown:X,size:D,"data-mantine-stop-propagation":V||void 0,hoursRef:I}),a.jsx(Ue,{variant:"default",size:`input-${D||"sm"}`,...y("submitButton",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),unstyled:f,"data-mantine-stop-propagation":V||void 0,children:a.jsx(Yn,{size:"30%"}),...h,onClick:Q=>{var O;(O=h==null?void 0:h.onClick)==null||O.call(h,Q),z.close(),J()}})]})]})});ft.classes={...fn,...Tt.classes,...et.classes};ft.displayName="@mantine/dates/DateTimePicker";/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zr=pt("outline","chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xr=pt("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jr=pt("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qr=pt("outline","note","IconNote",[["path",{d:"M13 20l7 -7",key:"svg-0"}],["path",{d:"M13 20v-6a1 1 0 0 1 1 -1h6v-7a2 2 0 0 0 -2 -2h-12a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7",key:"svg-1"}]]);function hn({onSubmit:e,isLoading:t,initialValues:s=null}){const{doctors:n}=Ns(),{patients:r,isLoading:o}=Un(),[i,u]=C.useState("new"),l=Zn({initialValues:s||{doctorId:"",patientId:"",firstName:"",lastName:"",email:"",phoneNumber:"",address:"",startTime:null,endTime:null,notes:""},validate:{doctorId:c=>c?null:"Please select a doctor",patientId:c=>i==="existing"&&!c?"Please select a patient":null,firstName:c=>i==="new"&&!(c!=null&&c.trim())?"First name is required":null,lastName:c=>i==="new"&&!(c!=null&&c.trim())?"Last name is required":null,email:c=>i==="new"?c!=null&&c.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)?null:"Invalid email format":"Email is required":null,phoneNumber:c=>i==="new"&&!(c!=null&&c.trim())?"Phone number is required":null,address:c=>i==="new"&&!(c!=null&&c.trim())?"Address is required":null,startTime:c=>c?null:"Please select appointment start time",endTime:c=>c?null:"Please select appointment end time"}});C.useEffect(()=>{if(l.values.startTime){const c=new Date(l.values.startTime);c.setMinutes(c.getMinutes()+30),l.setFieldValue("endTime",c)}},[l.values.startTime]),C.useEffect(()=>{i==="existing"?l.setValues({...l.values,firstName:"",lastName:"",email:"",phoneNumber:"",address:"",patientId:""}):l.setValues({...l.values,patientId:""})},[i]);const d=c=>{if(!c)return null;const g=new Date(c).toISOString();return console.log("Converting date:",c,"to ISO:",g),g},f=c=>{console.log("Form values before processing:",{startTime:c.startTime,endTime:c.endTime,patientType:i,values:c});let h;i==="existing"?h={startDate:d(c.startTime),endDate:d(c.endTime),notes:c.notes?c.notes.trim():"",doctorId:parseInt(c.doctorId),userId:c.patientId}:h={firstName:c.firstName.trim(),lastName:c.lastName.trim(),email:c.email.trim(),phoneNumber:c.phoneNumber.trim(),address:c.address.trim(),startDate:d(c.startTime),endDate:d(c.endTime),notes:c.notes?c.notes.trim():"",doctorId:parseInt(c.doctorId)},h.patientType=i,console.log("Submitting appointment data:",h),e(h)};return a.jsx("form",{onSubmit:l.onSubmit(f),children:a.jsxs(ge,{pos:"relative",children:[a.jsx(Rn,{visible:t}),a.jsx(Wt,{radius:"md",label:"Doctor",placeholder:"Select a doctor",data:n.map(c=>({value:c.id.toString(),label:`${c.name} (${c.clinicName})`})),searchable:!0,required:!0,...l.getInputProps("doctorId")}),a.jsx(Vt,{label:"Patient Details",labelPosition:"center"}),a.jsx(le,{children:a.jsx(Dt,{radius:"md",value:i,onChange:u,data:[{label:"New Patient",value:"new"},{label:"Existing Patient",value:"existing"}],fullWidth:!0})}),i==="existing"?a.jsx(Wt,{radius:"md",label:"Select Patient",placeholder:"Choose an existing patient",data:r.map(c=>({value:c.id,label:c.fullName+" - "+c.email})),searchable:!0,required:!0,disabled:o,...l.getInputProps("patientId")}):a.jsxs(a.Fragment,{children:[a.jsxs(oe,{grow:!0,children:[a.jsx(Ge,{radius:"md",label:"First Name",placeholder:"Enter patient first name",required:!0,...l.getInputProps("firstName")}),a.jsx(Ge,{radius:"md",label:"Last Name",placeholder:"Enter patient last name",required:!0,...l.getInputProps("lastName")})]}),a.jsx(Ge,{radius:"md",label:"Email",placeholder:"Enter patient email",type:"email",required:!0,...l.getInputProps("email")}),a.jsx(Ge,{radius:"md",label:"Phone Number",placeholder:"Enter patient phone number",required:!0,...l.getInputProps("phoneNumber")}),a.jsx(Ge,{radius:"md",label:"Address",placeholder:"Enter patient address",required:!0,...l.getInputProps("address")})]}),a.jsx(Vt,{label:"Appointment Details",labelPosition:"center"}),a.jsxs(oe,{grow:!0,children:[a.jsx(ft,{radius:"md",timePickerProps:{withDropdown:!0,popoverProps:{withinPortal:!1},format:"12h",withSeconds:!1},label:"Start Time",placeholder:"Appointment start time",required:!0,clearable:!0,valueFormat:"DD MMM YYYY hh:mm A",minDate:new Date,...l.getInputProps("startTime")}),a.jsx(ft,{radius:"md",timePickerProps:{withDropdown:!0,popoverProps:{withinPortal:!1},format:"12h"},label:"End Time",placeholder:"Appointment end time",required:!0,clearable:!0,valueFormat:"DD MMM YYYY hh:mm A",minDate:l.values.startTime||new Date,...l.getInputProps("endTime")})]}),a.jsx(Xt,{radius:"md",label:"Notes",placeholder:"Add any notes about the appointment",...l.getInputProps("notes")}),a.jsx(oe,{justify:"flex-end",mt:"md",children:a.jsx(Se,{type:"submit",loading:t,radius:"md",children:s?"Update Appointment":"Create Appointment"})})]})})}function eo({opened:e,onClose:t,appointment:s,onEdit:n,onDelete:r}){const o=An();if(!s)return null;const i=s.status,u={0:"Scheduled",1:"Cancelled",2:"Completed",3:"No Show"},l={0:"blue",1:"red",2:"green",3:"orange"};return a.jsx(Ls,{offset:25,radius:"md",shadow:"xl",overlayProps:{opacity:.2},opened:e,onClose:t,styles:{header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid var(--mantine-color-gray-3)"},title:{display:"flex",justifyContent:"space-between",alignItems:"center",flexGrow:1}},title:a.jsxs(a.Fragment,{children:[a.jsx(ks,{size:"md",p:"sm",color:l[i],children:u[i]}),a.jsxs(oe,{gap:0,justify:"end",children:[a.jsx(Ue,{radius:"md",variant:"subtle",size:"lg",onClick:n,color:"dimmed",children:a.jsx(Ms,{size:20})}),a.jsx(Ue,{radius:"md",variant:"subtle",size:"lg",onClick:r,color:"dimmed",children:a.jsx(Ts,{size:20})})]})]}),position:"right",size:"md",scrollAreaComponent:ut.Autosize,children:a.jsxs(ge,{gap:"xs",mt:"md",children:[a.jsxs(oe,{justify:"space-between",gap:"md",onClick:()=>{o(`/patients/${s.patientId}`)},children:[a.jsxs(oe,{children:[a.jsx(Pn,{size:"md",radius:"xl",color:"dimmed",children:a.jsx(Fn,{size:20})}),a.jsxs(ge,{gap:"0",c:"dimmed",children:[a.jsx(pe,{size:"lg",fw:700,children:s.patientName}),a.jsxs(oe,{gap:"4",c:"dimmed",children:[a.jsx(zn,{size:16}),a.jsx(pe,{size:"sm",c:"dimmed",children:"00000fixMe000"})]})]})]}),a.jsx(Zr,{stroke:1.5,size:24})]}),a.jsx(Vt,{my:"8"}),a.jsxs(ge,{children:[a.jsxs(oe,{gap:"xs",c:"dimmed",align:"start",children:[a.jsx($n,{size:24,color:"black"}),a.jsxs(ge,{gap:"0",children:[a.jsx(pe,{fw:500,children:s.time}),a.jsx(pe,{fw:500,c:"dimmed",children:s.displayDate||s.date})]})]}),a.jsxs(oe,{gap:"xs",c:"dimmed",align:"start",children:[a.jsx(Kn,{size:24,color:"black"}),a.jsxs(ge,{gap:"0",children:[a.jsx(pe,{fz:"xl",children:s.clinicName}),a.jsxs(pe,{fw:500,c:"dimmed",children:["Dr. ",s.doctorName]})]})]}),a.jsxs(oe,{align:"start",gap:"xs",c:"dimmed",children:[a.jsx(Qr,{size:24,color:"black"}),a.jsxs(ge,{gap:"0",children:[a.jsx(pe,{fw:500,children:"Notes"}),a.jsx(pe,{fw:500,c:"dimmed",children:s.notes})]})]})]}),a.jsx(oe,{justify:"flex-end",mt:"md"})]})})}const to=e=>{const t=new Date,s=new Date(t.setHours(0,0,0,0));switch(e){case"today":return[s,new Date(t.setHours(23,59,59,999))];case"this-week":{const n=new Date(s);n.setDate(n.getDate()-n.getDay());const r=new Date(n);return r.setDate(r.getDate()+6),r.setHours(23,59,59,999),[n,r]}case"this-month":{const n=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()+1,0,23,59,59,999);return[n,r]}default:return[null,null]}},Et=e=>{if(!e)return null;const t=new Date(e);return t.setHours(0,0,0,0),t};function so({searchQuery:e,hasFilters:t}){const s=()=>e?"No appointments found matching your search":t?"No appointments found with the current filters":"No appointments found";return a.jsx(ae.Tr,{children:a.jsx(ae.Td,{colSpan:7,children:a.jsx(En,{h:100,children:a.jsx(ge,{align:"center",gap:"md",children:a.jsx(pe,{size:"lg",fw:500,c:"dimmed",children:s()})})})})})}function no({appointments:e=[],onAppointmentClick:t,searchQuery:s=""}){var L,E;const[n,r]=C.useState("all"),[o,i]=C.useState([null,null]),[u,l]=C.useState(!1),[d,f]=C.useState(null),[c,h]=C.useState(!1),[g,m]=C.useState(!1),[p,D]=C.useState(!1),[j,N]=C.useState(e),[S,Y]=C.useState(1),w=20,{updateAppointment:T,deleteAppointment:y,updateAppointmentStatus:R}=qt(),A={0:"Scheduled",1:"Cancelled",2:"Completed",3:"No Show"},P={0:"blue",1:"red",2:"green",3:"orange"};C.useEffect(()=>{N(e)},[e]);const k=_=>{const z=to(_);i(z)},I=()=>{if(!o[0]||!o[1])return"Date Range";const _=ee=>!ee||!(ee instanceof Date)?"":ee.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),z=_(o[0]),U=_(o[1]);return!z||!U?"Date Range":`${z} - ${U}`},W=_=>{f(_),h(!0)},K=async _=>{try{await y.mutateAsync(_),je.show({title:"Success",message:"Appointment deleted successfully",color:"green"})}catch(z){je.show({title:"Error",message:z.message||"Failed to delete appointment",color:"red"})}},B=async _=>{try{await T.mutateAsync({id:d.id,..._}),je.show({title:"Success",message:"Appointment updated successfully",color:"green"}),h(!1)}catch(z){je.show({title:"Error",message:z.message||"Failed to update appointment",color:"red"})}};C.useEffect(()=>{const _=e.filter(z=>{var ee;if(!(n==="all"||z.status===parseInt(n)))return!1;if(s){const Z=s.toLowerCase().trim();if(![z.patientName,(ee=z.id)==null?void 0:ee.toString()].some(J=>J==null?void 0:J.toLowerCase().includes(Z)))return!1}if(!o[0]||!o[1])return!0;try{const Z=Et(new Date(z.date)),X=Et(o[0]),V=Et(o[1]);return!Z||!X||!V?!0:Z>=X&&Z<=V}catch(Z){return console.error("Error filtering appointment date:",Z),!0}});N(_),Y(1)},[e,n,s,o]);const H=Math.ceil(j.length/w),M=(S-1)*w,$=M+w,x=j.slice(M,$),F=async(_,z)=>{try{const U=await R.mutateAsync({appointmentId:_,newStatus:z});je.show({title:"Success",message:U.message||"Appointment status updated successfully",color:"green"});const ee=j.map(Z=>Z.id===_?{...Z,status:U.newStatus}:Z);N(ee)}catch(U){je.show({title:"Error",message:U.message||"Failed to update appointment status",color:"red"})}},v=_=>{f(_),D(!0),t&&t(_)};return a.jsxs(ge,{children:[a.jsx(oe,{mt:"sm",justify:"start",w:"100%",mb:"md",children:a.jsxs(oe,{gap:"md",children:[a.jsx(Dt,{size:"md",radius:"md",value:n,onChange:r,data:[{label:"All",value:"all"},{label:"Scheduled",value:"0"},{label:"Completed",value:"2"},{label:"Cancelled",value:"1"},{label:"No Show",value:"3"}]}),a.jsxs(ue,{shadow:"md",radius:"lg",opened:u,onChange:l,position:"bottom-start",width:"targetWidth",children:[a.jsx(ue.Target,{children:a.jsx(Se,{size:"md",radius:"md",variant:"subtle",rightSection:a.jsx(In,{color:"black",size:18}),children:I()})}),a.jsx(ue.Dropdown,{p:"md",children:a.jsxs(ge,{gap:"xs",children:[a.jsxs(oe,{py:"sm",w:"100%",justify:"left",children:[a.jsx(Se,{size:"sm",radius:"md",variant:"subtle",onClick:()=>k("today"),children:"Today"}),a.jsx(Se,{size:"sm",radius:"md",variant:"subtle",onClick:()=>k("this-week"),children:"This Week"}),a.jsx(Se,{radius:"md",size:"sm",variant:"subtle",onClick:()=>k("this-month"),children:"This Month"})]}),a.jsx(et,{size:"sm",type:"range",value:o,onChange:_=>{const[z,U]=_;if(z&&U){const ee=new Date(U);ee.setHours(23,59,59,999),i([z,ee])}else i(_)},numberOfColumns:2})]})})]})]})}),a.jsxs(ae,{verticalSpacing:"sm",highlightOnHover:!0,children:[a.jsx(ae.Thead,{children:a.jsxs(ae.Tr,{children:[a.jsx(ae.Th,{children:"ID"}),a.jsx(ae.Th,{children:"Patient"}),a.jsx(ae.Th,{children:"Doctor"}),a.jsx(ae.Th,{children:"Clinic"}),a.jsx(ae.Th,{children:"Date"}),a.jsx(ae.Th,{children:"Time"}),a.jsx(ae.Th,{children:"Status"})]})}),a.jsx(ae.Tbody,{children:x.length===0?a.jsx(so,{searchQuery:s,hasFilters:n!=="all"||o[0]&&o[1]}):x.map(_=>{const z=_.status,U=A[z]||"Scheduled",ee=P[z]||"blue";return a.jsxs(ae.Tr,{style:{cursor:"pointer"},onClick:()=>v(_),children:[a.jsx(ae.Td,{children:_.id}),a.jsx(ae.Td,{children:_.patientName}),a.jsx(ae.Td,{children:_.doctorName}),a.jsx(ae.Td,{children:_.clinicName}),a.jsx(ae.Td,{children:_.displayDate||_.date}),a.jsx(ae.Td,{children:_.time}),a.jsx(ae.Td,{children:a.jsx(ks,{size:"md",color:ee,children:U})}),a.jsx(ae.Td,{children:a.jsx(oe,{gap:"xs",onClick:Z=>Z.stopPropagation(),children:a.jsxs(ue,{shadow:"md",width:200,children:[a.jsx(ue.Target,{children:a.jsx(Ue,{variant:"subtle",color:"gray",children:a.jsx(Jr,{size:16})})}),a.jsxs(ue.Dropdown,{children:[a.jsx(ue.Label,{children:"Update Status"}),a.jsx(ue.Item,{onClick:()=>F(_.id,0),color:"blue",children:"Mark as Scheduled"}),a.jsx(ue.Item,{onClick:()=>F(_.id,1),color:"red",children:"Mark as Cancelled"}),a.jsx(ue.Item,{onClick:()=>F(_.id,2),color:"green",children:"Mark as Completed"}),a.jsx(ue.Item,{onClick:()=>F(_.id,3),color:"orange",children:"Mark as No Show"}),a.jsx(ue.Divider,{}),a.jsx(ue.Label,{children:"Actions"}),a.jsx(ue.Item,{leftSection:a.jsx(Ms,{size:14}),onClick:()=>W(_),children:"Edit"}),a.jsx(ue.Item,{leftSection:a.jsx(Ts,{size:14}),color:"red",onClick:()=>{f(_),m(!0)},children:"Delete"})]})]})})})]},_.id)})})]}),j.length>0&&a.jsx(oe,{justify:"center",mt:"lg",children:a.jsx(xe,{value:S,onChange:Y,total:H,size:"sm",radius:"md"})}),a.jsx(Ht,{opened:c,onClose:()=>h(!1),title:"Edit Appointment",size:"lg",children:d&&a.jsx(hn,{initialValues:{doctorId:(E=(L=d.doctor)==null?void 0:L.id)==null?void 0:E.toString(),patientName:d.patientName,patientPhone:d.patientPhone||"",startTime:new Date(d.rawDate),notes:d.notes||""},onSubmit:B,isLoading:T.isPending})}),a.jsx(Ht,{opened:g,onClose:()=>m(!1),title:"Delete Appointment",size:"sm",children:a.jsxs(ge,{children:[a.jsxs(pe,{children:["Are you sure you want to delete this appointment for"," ",d==null?void 0:d.patientName,"?"]}),a.jsxs(oe,{justify:"flex-end",mt:"md",children:[a.jsx(Se,{variant:"light",onClick:()=>m(!1),children:"Cancel"}),a.jsx(Se,{color:"red",loading:y.isPending,onClick:()=>{K(d.id),m(!1)},children:"Delete"})]})]})}),a.jsx(eo,{opened:p,onClose:()=>D(!1),appointment:d,onEdit:()=>{D(!1),h(!0)},onDelete:()=>{D(!1),m(!0)}})]})}function ao({opened:e,onClose:t}){const{createAppointmentWithPatient:s,createAppointment:n}=qt(),r=async i=>{var u,l,d,f,c;try{let h;const g=i.patientType==="new";if(g){const{patientType:m,...p}=i;h=await s.mutateAsync(p)}else{const{patientType:m,...p}=i;h=await n.mutateAsync(p)}if(g&&h.userCreated&&h.temporaryPassword){const m=a.jsxs(ge,{gap:"xs",children:[a.jsx(pe,{size:"sm",children:"Appointment created successfully! A new patient account has been created."}),a.jsxs(oe,{gap:"xs",align:"center",children:[a.jsx(pe,{size:"sm",fw:500,children:"Temporary Password:"}),a.jsx(Ut,{children:h.temporaryPassword}),a.jsx(Ps,{value:h.temporaryPassword,children:({copied:p,copy:D})=>a.jsx(On,{label:p?"Copied":"Copy password",children:a.jsx(Ue,{color:p?"teal":"blue",onClick:D,size:"sm",variant:"light",children:p?a.jsx(Hn,{size:16}):a.jsx(Xr,{size:16})})})})]}),a.jsx(pe,{size:"xs",c:"dimmed",children:"Please share this password with the patient so they can log in."})]});je.show({title:"Success",message:m,color:"green",autoClose:!1})}else je.show({title:"Success",message:"Appointment created successfully",color:"green"});t()}catch(h){console.error("Full error object:",h);let g="Failed to create appointment";if((l=(u=h.response)==null?void 0:u.data)!=null&&l.message){if(g=h.response.data.message,h.response.data.errors&&Array.isArray(h.response.data.errors)){const m=h.response.data.errors.find(p=>p.code==="DuplicateUserName"||p.code==="DuplicateEmail");if(m)g=`${h.response.data.message}: ${m.description}. Please try with a different email address.`;else{const p=h.response.data.errors.map(D=>D.description);g=`${h.response.data.message}: ${p.join(", ")}`}}}else(f=(d=h.response)==null?void 0:d.data)!=null&&f.errors?g=Object.values(h.response.data.errors).flat().join(", "):(c=h.response)!=null&&c.data?g=JSON.stringify(h.response.data):h.message&&(g=h.message);je.show({title:"Error",message:g,color:"red",autoClose:!1})}},o=s.isPending||n.isPending;return a.jsx(Ls,{radius:"md",overlayProps:{opacity:.4},opened:e,onClose:t,title:"Create New Appointment",position:"right",size:"md",children:a.jsx(hn,{onSubmit:r,isLoading:o})})}b.extend(Xn);b.extend(Jn);function fo(){const[e,t]=C.useState(null),[s,n]=C.useState(null),{searchQuery:r}=Wn(),[o,{open:i,close:u}]=_s(!1),{clinics:l,doctors:d,isLoading:f,error:c}=Ns(),{appointments:h,isLoadingAppointments:g,appointmentsError:m,getAppointmentsByClinic:p,getAppointmentsByDoctor:D}=qt(),{data:j}=p(e),{data:N}=D(s),S=s?N:e?j:h;console.log("Displayed appointments source:",{selectedDoctorId:s,selectedClinicId:e,appointmentsCount:h==null?void 0:h.length,doctorAppointmentsCount:N==null?void 0:N.length,clinicAppointmentsCount:j==null?void 0:j.length,displayedCount:S==null?void 0:S.length});const Y=C.useCallback(y=>{if(!y||y==="all")t(null),n(null);else if(y.startsWith("clinic-")){const R=y.replace("clinic-","");t(R),n(null)}else if(y.startsWith("doctor-")){const R=y.replace("doctor-","");n(R),t(null)}},[]),w=[{group:"General",items:[{value:"all",label:"All Appointments"}]},{group:"Clinics",items:l.map(y=>({value:`clinic-${y.id}`,label:y.name}))},{group:"Doctors",items:d.map(y=>({value:`doctor-${y.id}`,label:`${y.name} (${y.clinicName})`}))}],T=(S||[]).map(y=>{var R,A,P;console.log("Before formatting - appointment:",{id:y.id,status:y.status,statusType:typeof y.status,patientName:y.patientName,doctor:y.doctor,clinicName:y.clinicName,doctorName:y.doctorName,rawAppointment:y});try{const k=y.startDate?b.utc(y.startDate).tz(b.tz.guess()):null;if(!k||!k.isValid())return{...y,id:y.id,patientName:y.patientName,doctorName:((R=y.doctor)==null?void 0:R.name)||"N/A",clinicName:y.clinicName||"N/A",date:"Invalid Date",time:"Invalid Time",status:y.status!==void 0?y.status:0,doctor:y.doctor};const I=k.format("YYYY-MM-DD"),W={id:y.id,patientName:y.patientName,doctorName:((A=y.doctor)==null?void 0:A.name)||"N/A",clinicName:y.clinicName||"N/A",rawDate:k.toDate(),date:I,displayDate:k.format("MMM D, YYYY"),time:k.format("hh:mm A"),status:y.status!==void 0?y.status:0,doctor:y.doctor,patientPhone:y.patientPhone,notes:y.notes};return console.log("After formatting - appointment:",{id:W.id,originalStatus:y.status,finalStatus:W.status,statusType:typeof W.status,patientName:W.patientName}),W}catch(k){return console.error("Error formatting appointment:",k),{...y,id:y.id,patientName:y.patientName,doctorName:((P=y.doctor)==null?void 0:P.name)||"N/A",clinicName:y.clinicName||"N/A",date:"Error",displayDate:"Error",time:"Error",status:y.status!==void 0?y.status:0,doctor:y.doctor}}});return a.jsx(Vn,{pt:12,fluid:!0,maw:1232,children:a.jsxs(ge,{children:[a.jsx(Bn,{fz:"24px",order:2,children:"Appointments"}),a.jsxs(oe,{mt:40,justify:"space-between",children:[a.jsx(Wt,{w:200,size:"lg",radius:"md",data:w,placeholder:"Select clinic or doctor",disabled:f,error:c==null?void 0:c.message,onChange:Y,value:s?`doctor-${s}`:e?`clinic-${e}`:"all",comboboxProps:{width:500,position:"bottom-start"},styles:{dropdown:{borderRadius:"var(--mantine-radius-md)",boxShadow:"var(--mantine-shadow-md)",minWidth:"200px"}}}),a.jsx(Se,{onClick:i,leftSection:a.jsx(Gn,{size:16}),variant:"outline",size:"lg",radius:"xl",children:"New Appointment"})]}),a.jsx(qn,{withBorder:!0,radius:"md",p:"md",children:g?a.jsx("div",{children:"Loading appointments..."}):m?a.jsxs("div",{children:["Error loading appointments: ",m.message]}):a.jsx(no,{appointments:T,searchQuery:r})}),a.jsx(ao,{opened:o,onClose:u})]})})}export{fo as default};
