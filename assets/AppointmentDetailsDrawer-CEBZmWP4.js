import{r as C,aI as Ke,l as Z,m as ee,n as ue,aJ as Se,j as r,B as le,o as ve,x as ss,aj as _t,aK as Vs,aL as Gs,V as kt,X as Bs,aM as Ht,p as jt,E as ns,y as Ks,a0 as Ne,z as Pe,q as qs,aN as Us,W as Qs,U as _e,al as Ze,f as as,Q as Ie,aO as Me,aP as Js,$ as Xs,aQ as Zs,aR as Pt,aS as en,s as qe,aE as tn,a4 as sn,at as nn,aT as It,ar as et,_ as an,c as Ve,aG as rn,b as be,N as on,aH as Vt,aU as Ct,G as pe,J as We,a as ln,aV as rs,d as fe,ae as cn,i as dn,K as bt,u as un,ac as mn,aW as fn,au as pn,ap as hn,aC as yn,aD as gn}from"./index-By0p5ZE8.js";import{u as vn}from"./useAppointmentQueries-DXWwAOAs.js";import{u as bn}from"./useUserQueries-DwoJx9bt.js";import{d as b,u as xn,a as Dn,t as wn}from"./useWorkingHoursQueries-DRYnv-v-.js";import{u as Sn}from"./use-form-BNB0R-SX.js";import{i as _n}from"./use-isomorphic-layout-effect.browser.esm-CHAbiy-L.js";function Ue(e,t,s){return t===void 0&&s===void 0?e:t!==void 0&&s===void 0?Math.max(e,t):Math.min(t===void 0&&s!==void 0?e:Math.max(e,t),s)}function Cn(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;const s=Object.keys(e),{length:n}=s;if(n!==Object.keys(t).length)return!1;for(let a=0;a<n;a+=1){const o=s[a];if(!(o in t)||e[o]!==t[o])return!1}return!0}function kn({timeout:e=2e3}={}){const[t,s]=C.useState(null),[n,a]=C.useState(!1),[o,c]=C.useState(null),u=f=>{window.clearTimeout(o),c(window.setTimeout(()=>a(!1),e)),a(f)};return{copy:f=>{"clipboard"in navigator?navigator.clipboard.writeText(f).then(()=>u(!0)).catch(h=>s(h)):s(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{a(!1),s(null),window.clearTimeout(o)},error:t,copied:n}}function jn(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(let s=0;s<e.length;s+=1)if(!Cn(e[s],t[s]))return!1;return!0}function Ln(e){const t=C.useRef([]),s=C.useRef(0);return jn(t.current,e)||(t.current=e,s.current+=1),[s.current]}function Mn(e,t){C.useEffect(e,Ln(t))}function Nn(e,t,s={autoInvoke:!1}){const n=C.useRef(null),a=C.useCallback((...c)=>{n.current||(n.current=window.setTimeout(()=>{e(c),n.current=null},t))},[t]),o=C.useCallback(()=>{n.current&&(window.clearTimeout(n.current),n.current=null)},[]);return C.useEffect(()=>(s.autoInvoke&&a(),o),[o,a]),{start:a,clear:o}}function Yn(e,t,s){const n=C.useRef(null),a=C.useRef(null);return C.useEffect(()=>{const o=typeof s=="function"?s():s;return(o||a.current)&&(n.current=new MutationObserver(e),n.current.observe(o||a.current,t)),()=>{var c;(c=n.current)==null||c.disconnect()}},[e,t]),a}function Tn(){const[e,t]=C.useState(!1);return C.useEffect(()=>t(!0),[]),e}var Rn={};function os(){return typeof process<"u"&&Rn?"production":"development"}function An(e,t){if(!t||!e)return!1;let s=t.parentNode;for(;s!=null;){if(s===e)return!0;s=s.parentNode}return!1}function $n({target:e,parent:t,ref:s,displayAfterTransitionEnd:n}){const a=C.useRef(-1),[o,c]=C.useState(!1),[u,d]=C.useState(typeof n=="boolean"?n:!1),m=()=>{if(!e||!t||!s.current)return;const l=e.getBoundingClientRect(),i=t.getBoundingClientRect(),p=window.getComputedStyle(e),x=window.getComputedStyle(t),D=Ke(p.borderTopWidth)+Ke(x.borderTopWidth),k=Ke(p.borderLeftWidth)+Ke(x.borderLeftWidth),S={top:l.top-i.top-D,left:l.left-i.left-k,width:l.width,height:l.height};s.current.style.transform=`translateY(${S.top}px) translateX(${S.left}px)`,s.current.style.width=`${S.width}px`,s.current.style.height=`${S.height}px`},f=()=>{window.clearTimeout(a.current),s.current&&(s.current.style.transitionDuration="0ms"),m(),a.current=window.setTimeout(()=>{s.current&&(s.current.style.transitionDuration="")},30)},h=C.useRef(null),g=C.useRef(null);return C.useEffect(()=>{if(m(),e)return h.current=new ResizeObserver(f),h.current.observe(e),t&&(g.current=new ResizeObserver(f),g.current.observe(t)),()=>{var l,i;(l=h.current)==null||l.disconnect(),(i=g.current)==null||i.disconnect()}},[t,e]),C.useEffect(()=>{if(t){const l=i=>{An(i.target,t)&&(f(),d(!1))};return t.addEventListener("transitionend",l),()=>{t.removeEventListener("transitionend",l)}}},[t]),Nn(()=>{os()!=="test"&&c(!0)},20,{autoInvoke:!0}),Yn(l=>{l.forEach(i=>{i.type==="attributes"&&i.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:o,hidden:u}}var is={root:"m_96b553a6"};const Fn={},On=ve((e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}})),Lt=Z((e,t)=>{const s=ee("FloatingIndicator",Fn,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:d,target:m,parent:f,transitionDuration:h,mod:g,displayAfterTransitionEnd:l,...i}=s,p=ue({name:"FloatingIndicator",classes:is,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:On}),x=C.useRef(null),{initialized:D,hidden:k}=$n({target:m,parent:f,ref:x,displayAfterTransitionEnd:l}),S=Se(t,x);return!m||!f?null:r.jsx(le,{ref:S,mod:[{initialized:D,hidden:k},g],...p("root"),...i})});Lt.displayName="@mantine/core/FloatingIndicator";Lt.classes=is;var ls={root:"m_b183c0a2"};const zn={},Wn=ve((e,{color:t})=>({root:{"--code-bg":t?ss(t,e):void 0}})),Mt=Z((e,t)=>{const s=ee("Code",zn,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:d,color:m,block:f,variant:h,mod:g,...l}=s,i=ue({name:"Code",props:s,classes:ls,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:Wn});return r.jsx(le,{component:f?"pre":"code",variant:h,ref:t,mod:[{block:f},g],...i("root"),...l,dir:"ltr"})});Mt.classes=ls;Mt.displayName="@mantine/core/Code";const En={timeout:1e3};function cs(e){const{children:t,timeout:s,value:n,...a}=ee("CopyButton",En,e),o=kn({timeout:s}),c=()=>o.copy(n);return r.jsx(r.Fragment,{children:t({copy:c,copied:o.copied,...a})})}cs.displayName="@mantine/core/CopyButton";var Hn=function(t){var s=_t.useRef(t);return _n(function(){s.current=t}),s},Gt=function(t,s){if(typeof t=="function"){t(s);return}t.current=s},Pn=function(t,s){var n=_t.useRef();return _t.useCallback(function(a){t.current=a,n.current&&Gt(n.current,null),n.current=s,s&&Gt(s,a)},[s])},Bt={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},In=function(t){Object.keys(Bt).forEach(function(s){t.style.setProperty(s,Bt[s],"important")})},Kt=In,ce=null,qt=function(t,s){var n=t.scrollHeight;return s.sizingStyle.boxSizing==="border-box"?n+s.borderSize:n-s.paddingSize};function Vn(e,t,s,n){s===void 0&&(s=1),n===void 0&&(n=1/0),ce||(ce=document.createElement("textarea"),ce.setAttribute("tabindex","-1"),ce.setAttribute("aria-hidden","true"),Kt(ce)),ce.parentNode===null&&document.body.appendChild(ce);var a=e.paddingSize,o=e.borderSize,c=e.sizingStyle,u=c.boxSizing;Object.keys(c).forEach(function(g){var l=g;ce.style[l]=c[l]}),Kt(ce),ce.value=t;var d=qt(ce,e);ce.value=t,d=qt(ce,e),ce.value="x";var m=ce.scrollHeight-a,f=m*s;u==="border-box"&&(f=f+a+o),d=Math.max(f,d);var h=m*n;return u==="border-box"&&(h=h+a+o),d=Math.min(h,d),[d,m]}var Ut=function(){},Gn=function(t,s){return t.reduce(function(n,a){return n[a]=s[a],n},{})},Bn=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Kn=!!document.documentElement.currentStyle,qn=function(t){var s=window.getComputedStyle(t);if(s===null)return null;var n=Gn(Bn,s),a=n.boxSizing;if(a==="")return null;Kn&&a==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var o=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),c=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:o,borderSize:c}},Un=qn;function Nt(e,t,s){var n=Hn(s);C.useLayoutEffect(function(){var a=function(c){return n.current(c)};if(e)return e.addEventListener(t,a),function(){return e.removeEventListener(t,a)}},[])}var Qn=function(t,s){Nt(document.body,"reset",function(n){t.current.form===n.target&&s(n)})},Jn=function(t){Nt(window,"resize",t)},Xn=function(t){Nt(document.fonts,"loadingdone",t)},Zn=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],ea=function(t,s){var n=t.cacheMeasurements,a=t.maxRows,o=t.minRows,c=t.onChange,u=c===void 0?Ut:c,d=t.onHeightChange,m=d===void 0?Ut:d,f=Vs(t,Zn),h=f.value!==void 0,g=C.useRef(null),l=Pn(g,s),i=C.useRef(0),p=C.useRef(),x=function(){var S=g.current,Y=n&&p.current?p.current:Un(S);if(Y){p.current=Y;var w=Vn(Y,S.value||S.placeholder||"x",o,a),L=w[0],M=w[1];i.current!==L&&(i.current=L,S.style.setProperty("height",L+"px","important"),m(L,{rowHeight:M}))}},D=function(S){h||x(),u(S)};return C.useLayoutEffect(x),Qn(g,function(){if(!h){var k=g.current.value;requestAnimationFrame(function(){var S=g.current;S&&k!==S.value&&x()})}}),Jn(x),Xn(x),C.createElement("textarea",Gs({},f,{onChange:D,ref:l}))},ta=C.forwardRef(ea);const sa={},Yt=Z((e,t)=>{const{autosize:s,maxRows:n,minRows:a,__staticSelector:o,resize:c,...u}=ee("Textarea",sa,e),d=s&&os()!=="test",m=d?{maxRows:n,minRows:a}:{};return r.jsx(kt,{component:d?ta:"textarea",ref:t,...u,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":s&&n===void 0||void 0,__vars:{"--input-resize":c},...m})});Yt.classes=kt.classes;Yt.displayName="@mantine/core/Textarea";var ds={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const na={withItemsBorders:!0},aa=ve((e,{radius:t,color:s,transitionDuration:n,size:a,transitionTimingFunction:o})=>({root:{"--sc-radius":t===void 0?void 0:qs(t),"--sc-color":s?ss(s,e):void 0,"--sc-shadow":s?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":n===void 0?void 0:`${n}ms`,"--sc-transition-timing-function":o,"--sc-padding":Pe(a,"sc-padding"),"--sc-font-size":Ne(a)}})),Tt=Z((e,t)=>{var se,Q;const s=ee("SegmentedControl",na,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:d,data:m,value:f,defaultValue:h,onChange:g,size:l,name:i,disabled:p,readOnly:x,fullWidth:D,orientation:k,radius:S,color:Y,transitionDuration:w,transitionTimingFunction:L,variant:M,autoContrast:O,withItemsBorders:$,mod:A,...N}=s,W=ue({name:"SegmentedControl",props:s,classes:ds,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:aa}),B=Bs(),K=m.map(P=>typeof P=="string"?{label:P,value:P}:P),G=Tn(),[E,j]=C.useState(Ht()),[T,v]=C.useState(null),[F,y]=C.useState({}),_=(P,J)=>{F[J]=P,y(F)},[z,H]=jt({value:f,defaultValue:h,finalValue:Array.isArray(m)?((se=K.find(P=>!P.disabled))==null?void 0:se.value)??((Q=m[0])==null?void 0:Q.value)??null:null,onChange:g}),q=ns(i),te=K.map(P=>C.createElement(le,{...W("control"),mod:{active:z===P.value,orientation:k},key:P.value},C.createElement("input",{...W("input"),disabled:p||P.disabled,type:"radio",name:q,value:P.value,id:`${q}-${P.value}`,checked:z===P.value,onChange:()=>!x&&H(P.value),"data-focus-ring":B.focusRing,key:`${P.value}-input`}),C.createElement(le,{component:"label",...W("label"),mod:{active:z===P.value&&!(p||P.disabled),disabled:p||P.disabled,"read-only":x},htmlFor:`${q}-${P.value}`,ref:J=>_(J,P.value),__vars:{"--sc-label-color":Y!==void 0?Ks({color:Y,theme:B,autoContrast:O}):void 0},key:`${P.value}-label`},r.jsx("span",{...W("innerLabel"),children:P.label})))),re=Se(t,P=>v(P));return Mn(()=>{j(Ht())},[m.length]),m.length===0?null:r.jsxs(le,{...W("root"),variant:M,size:l,ref:re,mod:[{"full-width":D,orientation:k,initialized:G,"with-items-borders":$},A],...N,role:"radiogroup","data-disabled":p,children:[typeof z=="string"&&r.jsx(Lt,{target:F[z],parent:T,component:"span",transitionDuration:"var(--sc-transition-duration)",...W("indicator")},E),te]})});Tt.classes=ds;Tt.displayName="@mantine/core/SegmentedControl";function ra({direction:e,levelIndex:t,rowIndex:s,cellIndex:n,size:a}){switch(e){case"up":return t===0&&s===0?null:s===0?{levelIndex:t-1,rowIndex:n<=a[t-1][a[t-1].length-1]-1?a[t-1].length-1:a[t-1].length-2,cellIndex:n}:{levelIndex:t,rowIndex:s-1,cellIndex:n};case"down":return s===a[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:n}:s===a[t].length-2&&n>=a[t][a[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:n}:{levelIndex:t,rowIndex:s+1,cellIndex:n};case"left":return t===0&&s===0&&n===0?null:s===0&&n===0?{levelIndex:t-1,rowIndex:a[t-1].length-1,cellIndex:a[t-1][a[t-1].length-1]-1}:n===0?{levelIndex:t,rowIndex:s-1,cellIndex:a[t][s-1]-1}:{levelIndex:t,rowIndex:s,cellIndex:n-1};case"right":return s===a[t].length-1&&n===a[t][s]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:n===a[t][s]-1?{levelIndex:t,rowIndex:s+1,cellIndex:0}:{levelIndex:t,rowIndex:s,cellIndex:n+1};default:return{levelIndex:t,rowIndex:s,cellIndex:n}}}function us({controlsRef:e,direction:t,levelIndex:s,rowIndex:n,cellIndex:a,size:o}){var d,m,f;const c=ra({direction:t,size:o,rowIndex:n,cellIndex:a,levelIndex:s});if(!c)return;const u=(f=(m=(d=e.current)==null?void 0:d[c.levelIndex])==null?void 0:m[c.rowIndex])==null?void 0:f[c.cellIndex];u&&(u.disabled||u.getAttribute("data-hidden")||u.getAttribute("data-outside")?us({controlsRef:e,direction:t,levelIndex:c.levelIndex,cellIndex:c.cellIndex,rowIndex:c.rowIndex,size:o}):u.focus())}function oa(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function ia(e){var t;return(t=e.current)==null?void 0:t.map(s=>s.map(n=>n.length))}function Rt({controlsRef:e,levelIndex:t,rowIndex:s,cellIndex:n,event:a}){const o=oa(a.key);if(o){a.preventDefault();const c=ia(e);us({controlsRef:e,direction:o,levelIndex:t,rowIndex:s,cellIndex:n,size:c})}}function Qt(e,t){let s=e?b(e):b();if(t==="")return s.format("YYYY-MM-DD HH:mm:ss");const[n,a,o=0]=t.split(":").map(Number);return s=s.set("hour",n),s=s.set("minute",a),s=s.set("second",o),s=s.set("millisecond",0),s.format("YYYY-MM-DD HH:mm:ss")}function he(e){return e==null?e:b(e).format("YYYY-MM-DD")}function Le(e){return e==null?e:b(e).format("YYYY-MM-DD HH:mm:ss")}function xt(e,t,s){return!e&&!t?Le(s):e&&b(s).isBefore(e)?Le(e):t&&b(s).isAfter(t)?Le(t):Le(s)}function xe(){const e=C.useContext(Us),t=C.useCallback(o=>o||e.locale,[e.locale]),s=C.useCallback(o=>typeof o=="number"?o:e.firstDayOfWeek,[e.firstDayOfWeek]),n=C.useCallback(o=>Array.isArray(o)?o:e.weekendDays,[e.weekendDays]),a=C.useCallback(o=>typeof o=="string"?o:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getFirstDayOfWeek:s,getWeekendDays:n,getLabelSeparator:a}}function la({value:e,type:t,withTime:s}){const n=s?Le:he;if(t==="range"&&Array.isArray(e)){const a=n(e[0]),o=n(e[1]);return a?o?`${a} – ${o}`:`${a} –`:""}return t==="multiple"&&Array.isArray(e)?e.filter(Boolean).join(", "):!Array.isArray(e)&&e?n(e):""}function ms({value:e,type:t,name:s,form:n,withTime:a=!1}){return r.jsx("input",{type:"hidden",value:la({value:e,type:t,withTime:a}),name:s,form:n})}ms.displayName="@mantine/dates/HiddenDatesInput";function ie(e){return e<10?`0${e}`:`${e}`}const ca=e=>Number(e.toFixed(0)[0]),Qe=C.forwardRef(({value:e,min:t,max:s,onChange:n,focusable:a,step:o,onNextInput:c,onPreviousInput:u,onFocus:d,readOnly:m,...f},h)=>{const g=ca(s),l=p=>{if(m)return;const x=p.replace(/\D/g,"");if(x!==""){const D=Ue(parseInt(x,10),t,s);n(D),D>g&&(c==null||c())}},i=p=>{if(!m){if((p.key==="0"||p.key==="Num0")&&e===0&&(p.preventDefault(),c==null||c()),p.key==="Home"&&(p.preventDefault(),n(t)),p.key==="End"&&(p.preventDefault(),n(s)),(p.key==="Backspace"||p.key==="Delete")&&(p.preventDefault(),e!==null?n(null):u==null||u()),p.key==="ArrowRight"&&(p.preventDefault(),c==null||c()),p.key==="ArrowLeft"&&(p.preventDefault(),u==null||u()),p.key==="ArrowUp"){p.preventDefault();const x=e===null?t:Ue(e+o,t,s);n(x)}if(p.key==="ArrowDown"){p.preventDefault();const x=e===null?s:Ue(e-o,t,s);n(x)}}};return r.jsx("input",{ref:h,type:"text",role:"spinbutton","aria-valuemin":t,"aria-valuemax":s,"aria-valuenow":e===null?0:e,"data-empty":e===null||void 0,inputMode:"numeric",placeholder:"--",value:e===null?"":ie(e),onChange:p=>l(p.currentTarget.value),onKeyDown:i,onFocus:p=>{p.currentTarget.select(),d==null||d(p)},onClick:p=>{p.stopPropagation(),p.currentTarget.select()},onMouseDown:p=>p.stopPropagation(),...f})});Qe.displayName="@mantine/dates/SpinInput";const[da,Ce]=Qs("TimeInput component was not found in the component tree"),fs=C.forwardRef(({labels:e,value:t,onChange:s,className:n,style:a,onPreviousInput:o,readOnly:c,onMouseDown:u,onTouchStart:d,inputType:m,...f},h)=>{const g=Ce(),l=i=>{c||(i.key==="Home"&&(i.preventDefault(),s(e.am)),i.key==="End"&&(i.preventDefault(),s(e.pm)),(i.key==="Backspace"||i.key==="Delete")&&(i.preventDefault(),t===null?o==null||o():s(null)),i.key==="ArrowLeft"&&(i.preventDefault(),o==null||o()),(i.key==="ArrowUp"||i.key==="ArrowDown")&&(i.preventDefault(),s(t===e.am?e.pm:e.am)),i.code==="KeyA"&&(i.preventDefault(),s(e.am)),i.code==="KeyP"&&(i.preventDefault(),s(e.pm)))};return m==="input"?r.jsx("input",{...g.getStyles("field",{className:n,style:a}),ref:h,value:t||"--",onChange:i=>!c&&s(i.target.value||null),onClick:i=>i.stopPropagation(),onKeyDown:l,onMouseDown:i=>{i.stopPropagation(),u==null||u(i)},"data-am-pm":!0,...f}):r.jsxs("select",{...g.getStyles("field",{className:n,style:a}),ref:h,value:t||"",onChange:i=>!c&&s(i.target.value||null),onClick:i=>i.stopPropagation(),onKeyDown:l,onMouseDown:i=>{i.stopPropagation(),u==null||u(i)},"data-am-pm":!0,...f,children:[r.jsx("option",{value:"",children:"--"}),r.jsx("option",{value:e.am,children:e.am}),r.jsx("option",{value:e.pm,children:e.pm})]})});fs.displayName="@mantine/dates/AmPmInput";function At({value:e,active:t,onSelect:s}){const n=Ce();return r.jsx(_e,{mod:{active:t},onClick:()=>s(e),onMouseDown:a=>a.preventDefault(),"data-value":e,tabIndex:-1,...n.getStyles("control"),children:typeof e=="number"?ie(e):e})}At.displayName="@mantine/dates/TimeControl";function ps({labels:e,value:t,onSelect:s}){const n=Ce(),a=[e.am,e.pm].map(o=>r.jsx(At,{value:o,active:t===o,onSelect:s},o));return r.jsx("div",{...n.getStyles("controlsList"),children:a})}ps.displayName="@mantine/dates/AmPmControlsList";function ua(e,t){if(!e||!t)return!1;const s=e.getBoundingClientRect(),n=t.getBoundingClientRect();return s.top>=n.top&&s.bottom<=n.bottom&&s.left>=n.left&&s.right<=n.right}function ma(e,t,s){const n=[];for(let a=e;a<=t;a+=s)n.push(a);return n}function Je({min:e,max:t,step:s,value:n,onSelect:a}){const o=Ce(),c=C.useRef(null),d=ma(e,t,s).map(m=>r.jsx(At,{value:m,active:n===m,onSelect:a},m));return C.useEffect(()=>{var m;if(n){const f=(m=c.current)==null?void 0:m.querySelector(`[data-value="${n}"]`);ua(f,c.current)||f==null||f.scrollIntoView({block:"nearest"})}},[n]),r.jsx(Ze,{h:o.maxDropdownContentHeight,type:"never",viewportRef:c,...o.getStyles("scrollarea"),...o.scrollAreaProps,children:r.jsx("div",{...o.getStyles("controlsList"),children:d})})}Je.displayName="@mantine/dates/TimeControlsList";function tt(e){const[t=null,s=null,n=null]=e.split(":").map(Number);return{hours:t,minutes:s,seconds:n}}function hs({time:e,compare:t,withSeconds:s}){const n=tt(e),a=tt(t);return s?n.hours===a.hours&&n.minutes===a.minutes&&n.seconds===a.seconds:n.hours===a.hours&&n.minutes===a.minutes}function fa(e,t){return`${e.getHours()}:${e.getMinutes()}${t?`:${e.getSeconds()}`:""}`}function pa({value:e,format:t,amPmLabels:s,withSeconds:n}){const a=tt(typeof e=="string"?e:fa(e,n));if(a.hours===null||a.minutes===null)return null;if(t==="24h")return`${ie(a.hours)}:${ie(a.minutes)}${n?`:${ie(a.seconds||0)}`:""}`;const o=a.hours>=12;return`${a.hours%12===0?12:a.hours%12}:${ie(a.minutes)}${n?`:${ie(a.seconds||0)}`:""} ${o?s.pm:s.am}`}function ys({value:e,format:t="24h",amPmLabels:s={am:"AM",pm:"PM"},withSeconds:n=!1}){return r.jsx(r.Fragment,{children:pa({value:e,format:t,amPmLabels:s,withSeconds:n})})}ys.displayName="@mantine/dates/TimeValue";function $t({value:e,active:t,onChange:s,format:n,amPmLabels:a,withSeconds:o}){const c=Ce();return r.jsx(_e,{mod:{active:t},onClick:()=>s(e),...c.getStyles("presetControl"),children:r.jsx(ys,{withSeconds:o,value:e,format:n,amPmLabels:a})})}$t.displayName="@mantine/dates/TimePresetControl";function gs({value:e,data:t,onChange:s,format:n,amPmLabels:a,withSeconds:o}){const c=Ce(),u=t.values.map(d=>r.jsx($t,{value:d,format:n,amPmLabels:a,withSeconds:o,active:hs({time:d,compare:e,withSeconds:o}),onChange:s},d));return r.jsxs("div",{...c.getStyles("presetsGroup"),children:[r.jsx("div",{...c.getStyles("presetsGroupLabel"),children:t.label}),r.jsx(as,{cols:o?2:3,spacing:4,children:u})]})}gs.displayName="@mantine/dates/TimePresetGroup";function vs({presets:e,format:t,amPmLabels:s,withSeconds:n,value:a,onChange:o}){const c=Ce();if(e.length===0)return null;if(typeof e[0]=="string"){const d=e.map(m=>r.jsx($t,{value:m,format:t,amPmLabels:s,withSeconds:n,active:hs({time:m,compare:a,withSeconds:n}),onChange:o},m));return r.jsx(Ze.Autosize,{mah:c.maxDropdownContentHeight,type:"never",...c.getStyles("scrollarea"),...c.scrollAreaProps,children:r.jsx("div",{...c.getStyles("presetsRoot"),children:r.jsx(as,{cols:n?2:3,spacing:4,children:d})})})}const u=e.map((d,m)=>r.jsx(gs,{data:d,value:a,format:t,amPmLabels:s,withSeconds:n,onChange:o},m));return r.jsx(Ze.Autosize,{mah:c.maxDropdownContentHeight,type:"never",...c.getStyles("scrollarea"),...c.scrollAreaProps,children:r.jsx("div",{...c.getStyles("presetsRoot"),children:u})})}vs.displayName="@mantine/dates/TimePresets";function Dt(e){const[t=0,s=0,n=0]=e.split(":").map(Number);return t*3600+s*60+n}function ha(e){const t=Math.floor(e/3600),s=Math.floor(e%3600/60),n=e%60;return{timeString:`${ie(t)}:${ie(s)}:${ie(n)}`,hours:t,minutes:s,seconds:n}}function Jt(e,t,s){const n=Dt(e),a=Dt(t),o=Dt(s),c=Math.max(a,Math.min(n,o));return ha(c)}function bs({hours:e,minutes:t,seconds:s,amPmLabels:n}){if(e===null)return{hours:null,minutes:null,seconds:null,amPm:null};const a=e>=12?n.pm:n.am;return{hours:e%12===0?12:e%12,minutes:typeof t=="number"?t:null,seconds:typeof s=="number"?s:null,amPm:a}}function He({time:e,format:t,amPmLabels:s}){if(e==="")return{hours:null,minutes:null,seconds:null,amPm:null};const{hours:n,minutes:a,seconds:o}=tt(e),c={hours:n,minutes:a,seconds:o};return t==="12h"?bs({...c,amPmLabels:s}):{...c,amPm:null}}function ya({hours:e,minutes:t,seconds:s,amPm:n,amPmLabels:a,withSeconds:o}){let c=e;return n===a.pm&&e!==12?c+=12:n===a.am&&e===12&&(c=0),`${ie(c)}:${ie(t)}${o?`:${ie(s||0)}`:""}`}function wt({hours:e,minutes:t,seconds:s,format:n,withSeconds:a,amPm:o,amPmLabels:c}){return e===null||t===null?{valid:!1,value:""}:a&&s===null?{valid:!1,value:""}:n==="24h"?{valid:!0,value:`${ie(e)}:${ie(t)}${a?`:${ie(s)}`:""}`}:o===null?{valid:!1,value:""}:{valid:!0,value:ya({hours:e,minutes:t,seconds:s,amPm:o,amPmLabels:c,withSeconds:a})}}function ga({value:e,defaultValue:t,onChange:s,format:n,amPmLabels:a,withSeconds:o=!1,min:c,max:u,clearable:d,readOnly:m,disabled:f,pasteSplit:h}){const g=He({time:e||t||"",amPmLabels:a,format:n}),l=C.useRef(!0),[i,p]=C.useState(g.hours),[x,D]=C.useState(g.minutes),[k,S]=C.useState(g.seconds),[Y,w]=C.useState(g.amPm),L=d&&!m&&!f&&(i!==null||x!==null||k!==null||Y!==null),M=C.useRef(null),O=C.useRef(null),$=C.useRef(null),A=C.useRef(null),N=y=>{var _,z,H,q;y==="hours"&&((_=M.current)==null||_.focus()),y==="minutes"&&((z=O.current)==null||z.focus()),y==="seconds"&&((H=$.current)==null||H.focus()),y==="amPm"&&((q=A.current)==null||q.focus())},W=(y,_)=>{const z={hours:i,minutes:x,seconds:k,amPm:Y,[y]:_},H=wt({...z,format:n,withSeconds:o,amPmLabels:a});if(H.valid){l.current=!1;const q=Jt(H.value,c||"00:00:00",u||"23:59:59"),te=n==="12h"?bs({hours:q.hours,minutes:q.minutes,seconds:q.seconds,amPmLabels:a}):q;p(te.hours),D(te.minutes),S(te.seconds),s==null||s(q.timeString)}else l.current=!1,typeof e=="string"&&e!==""&&(s==null||s(""))},B=y=>{l.current=!1;const _=He({time:y,amPmLabels:a,format:n});p(_.hours),D(_.minutes),S(_.seconds),w(_.amPm),s==null||s(y)},K=y=>{p(y),W("hours",y),N("hours")},G=y=>{D(y),W("minutes",y),N("minutes")},E=y=>{S(y),W("seconds",y),N("seconds")},j=y=>{w(y),W("amPm",y),N("amPm")},T=()=>{l.current=!1,p(null),D(null),S(null),w(null),s==null||s(""),N("hours")},v=y=>{y.preventDefault();const _=y.clipboardData.getData("text"),z=(h||He)({time:_,format:n,amPmLabels:a}),H=wt({...z,format:n,withSeconds:o,amPmLabels:a});if(H.valid){l.current=!1;const q=Jt(H.value,c||"00:00:00",u||"23:59:59");s==null||s(q.timeString),p(z.hours),D(z.minutes),S(z.seconds),w(z.amPm)}},F=wt({hours:i,minutes:x,seconds:k,format:n,withSeconds:o,amPm:Y,amPmLabels:a});return C.useEffect(()=>{if(l.current&&typeof e=="string"){const y=He({time:e||"",amPmLabels:a,format:n});p(y.hours),D(y.minutes),S(y.seconds),w(y.amPm)}l.current=!0},[e]),{refs:{hours:M,minutes:O,seconds:$,amPm:A},values:{hours:i,minutes:x,seconds:k,amPm:Y},setHours:K,setMinutes:G,setSeconds:E,setAmPm:j,focus:N,clear:T,onPaste:v,setTimeString:B,isClearable:L,hiddenInputValue:F.value}}var xs={fieldsRoot:"m_7a8f1e6d",fieldsGroup:"m_d6bb0a54",controlsList:"m_b97ecb26",controlsListGroup:"m_31fe42f9",dropdown:"m_9c4817c3",control:"m_154c536b",presetControl:"m_7be09d0c",presetsGroup:"m_7d00001d",presetsGroupLabel:"m_d8d918d7",field:"m_6b43ba88"};const va={hoursStep:1,minutesStep:1,secondsStep:1,format:"24h",amPmLabels:{am:"AM",pm:"PM"},withDropdown:!1,pasteSplit:He,maxDropdownContentHeight:200},ba=ve((e,{size:t})=>({dropdown:{"--control-font-size":Ne(t)}})),Ft=Z((e,t)=>{const s=ee("TimePicker",va,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:d,onClick:m,format:f,value:h,defaultValue:g,onChange:l,hoursStep:i,minutesStep:p,secondsStep:x,withSeconds:D,hoursInputLabel:k,minutesInputLabel:S,secondsInputLabel:Y,amPmInputLabel:w,amPmLabels:L,clearable:M,onMouseDown:O,onFocusCapture:$,onBlurCapture:A,min:N,max:W,popoverProps:B,withDropdown:K,rightSection:G,onFocus:E,onBlur:j,clearButtonProps:T,hoursInputProps:v,minutesInputProps:F,secondsInputProps:y,amPmSelectProps:_,readOnly:z,disabled:H,size:q,name:te,form:re,hiddenInputProps:se,labelProps:Q,pasteSplit:P,hoursRef:J,minutesRef:U,secondsRef:R,amPmRef:de,presets:X,maxDropdownContentHeight:oe,scrollAreaProps:Ge,...Ye}=s,{resolvedClassNames:Te,resolvedStyles:Re}=Ie({classNames:n,styles:c,props:s}),me=ue({name:"TimePicker",classes:xs,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:ba}),I=ga({value:h,defaultValue:g,onChange:l,format:f,amPmLabels:L,withSeconds:D,min:N,max:W,clearable:M,disabled:H,readOnly:z,pasteSplit:P}),Ae=Se(I.refs.hours,J),$e=Se(I.refs.minutes,U),Fe=Se(I.refs.seconds,R),yt=Se(I.refs.amPm,de),Be=ns(),Oe=C.useRef(!1),[gt,ke]=C.useState(!1),ye=V=>{Oe.current||(Oe.current=!0,E==null||E(V))},vt=V=>{V.currentTarget.contains(V.relatedTarget)||(Oe.current=!1,j==null||j(V))};return r.jsx(da,{value:{getStyles:me,scrollAreaProps:Ge,maxDropdownContentHeight:oe},children:r.jsxs(Me,{opened:K&&!z&&gt,transitionProps:{duration:0},position:"bottom-start",withRoles:!1,...B,children:[r.jsx(Me.Target,{children:r.jsxs(kt,{component:"div",size:q,disabled:H,ref:t,onClick:V=>{m==null||m(V),I.focus("hours")},onMouseDown:V=>{V.preventDefault(),O==null||O(V)},onFocusCapture:V=>{ke(!0),$==null||$(V)},onBlurCapture:V=>{ke(!1),A==null||A(V)},rightSection:G||I.isClearable&&r.jsx(Js,{...T,size:q,onClick:V=>{var ne;I.clear(),(ne=T==null?void 0:T.onClick)==null||ne.call(T,V)},onMouseDown:V=>{var ne;V.preventDefault(),(ne=T==null?void 0:T.onMouseDown)==null||ne.call(T,V)}}),labelProps:{htmlFor:Be,...Q},style:o,className:a,classNames:Te,styles:Re,__staticSelector:"TimePicker",...Ye,children:[r.jsx("div",{...me("fieldsRoot"),dir:"ltr",children:r.jsxs("div",{...me("fieldsGroup"),onBlur:vt,children:[r.jsx(Qe,{id:Be,...v,...me("field",{className:v==null?void 0:v.className,style:v==null?void 0:v.style}),value:I.values.hours,onChange:I.setHours,onNextInput:()=>I.focus("minutes"),min:f==="12h"?1:0,max:f==="12h"?12:23,focusable:!0,step:i,ref:Ae,"aria-label":k,readOnly:z,disabled:H,onPaste:I.onPaste,onFocus:V=>{var ne;ye(V),(ne=v==null?void 0:v.onFocus)==null||ne.call(v,V)}}),r.jsx("span",{children:":"}),r.jsx(Qe,{...F,...me("field",{className:F==null?void 0:F.className,style:F==null?void 0:F.style}),value:I.values.minutes,onChange:I.setMinutes,min:0,max:59,focusable:!0,step:p,ref:$e,onPreviousInput:()=>I.focus("hours"),onNextInput:()=>D?I.focus("seconds"):I.focus("amPm"),"aria-label":S,tabIndex:-1,readOnly:z,disabled:H,onPaste:I.onPaste,onFocus:V=>{var ne;ye(V),(ne=F==null?void 0:F.onFocus)==null||ne.call(F,V)}}),D&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:":"}),r.jsx(Qe,{...y,...me("field",{className:y==null?void 0:y.className,style:y==null?void 0:y.style}),value:I.values.seconds,onChange:I.setSeconds,min:0,max:59,focusable:!0,step:x,ref:Fe,onPreviousInput:()=>I.focus("minutes"),onNextInput:()=>I.focus("amPm"),"aria-label":Y,tabIndex:-1,readOnly:z,disabled:H,onPaste:I.onPaste,onFocus:V=>{var ne;ye(V),(ne=y==null?void 0:y.onFocus)==null||ne.call(y,V)}})]}),f==="12h"&&r.jsx(fs,{..._,inputType:K?"input":"select",labels:L,value:I.values.amPm,onChange:I.setAmPm,ref:yt,"aria-label":w,onPreviousInput:()=>D?I.focus("seconds"):I.focus("minutes"),readOnly:z,disabled:H,tabIndex:-1,onPaste:I.onPaste,onFocus:V=>{var ne;ye(V),(ne=_==null?void 0:_.onFocus)==null||ne.call(_,V)}})]})}),r.jsx("input",{type:"hidden",name:te,form:re,value:I.hiddenInputValue,...se})]})}),r.jsx(Me.Dropdown,{...me("dropdown"),onMouseDown:V=>V.preventDefault(),children:X?r.jsx(vs,{value:I.hiddenInputValue,onChange:I.setTimeString,format:f,presets:X,amPmLabels:L,withSeconds:D||!1}):r.jsxs("div",{...me("controlsListGroup"),children:[r.jsx(Je,{min:f==="12h"?1:0,max:f==="12h"?12:23,step:i,value:I.values.hours,onSelect:I.setHours}),r.jsx(Je,{min:0,max:59,step:p,value:I.values.minutes,onSelect:I.setMinutes}),D&&r.jsx(Je,{min:0,max:59,step:x,value:I.values.seconds,onSelect:I.setSeconds}),f==="12h"&&r.jsx(ps,{labels:L,value:I.values.amPm,onSelect:I.setAmPm})]})})]})})});Ft.displayName="@mantine/dates/TimePicker";Ft.classes=xs;var Ds={day:"m_396ce5cb"};const xa={},Da=ve((e,{size:t})=>({day:{"--day-size":Pe(t,"day-size")}})),Ot=Z((e,t)=>{const s=ee("Day",xa,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:d,date:m,disabled:f,__staticSelector:h,weekend:g,outside:l,selected:i,renderDay:p,inRange:x,firstInRange:D,lastInRange:k,hidden:S,static:Y,highlightToday:w,...L}=s,M=ue({name:h||"Day",classes:Ds,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:Da,rootSelector:"day"});return r.jsx(_e,{...M("day",{style:S?{display:"none"}:void 0}),component:Y?"div":"button",ref:t,disabled:f,"data-today":b(m).isSame(new Date,"day")||void 0,"data-hidden":S||void 0,"data-highlight-today":w||void 0,"data-disabled":f||void 0,"data-weekend":!f&&!l&&g||void 0,"data-outside":!f&&l||void 0,"data-selected":!f&&i||void 0,"data-in-range":x&&!f||void 0,"data-first-in-range":D&&!f||void 0,"data-last-in-range":k&&!f||void 0,"data-static":Y||void 0,unstyled:u,...L,children:(p==null?void 0:p(m))||b(m).date()})});Ot.classes=Ds;Ot.displayName="@mantine/dates/Day";function wa({locale:e,format:t="dd",firstDayOfWeek:s=1}){const n=b().day(s),a=[];for(let o=0;o<7;o+=1)typeof t=="string"?a.push(b(n).add(o,"days").locale(e).format(t)):a.push(t(b(n).add(o,"days").format("YYYY-MM-DD")));return a}var ws={weekday:"m_18a3eca"};const Sa={},_a=ve((e,{size:t})=>({weekdaysRow:{"--wr-fz":Ne(t),"--wr-spacing":Xs(t)}})),zt=Z((e,t)=>{const s=ee("WeekdaysRow",Sa,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:d,locale:m,firstDayOfWeek:f,weekdayFormat:h,cellComponent:g="th",__staticSelector:l,withWeekNumbers:i,...p}=s,x=ue({name:l||"WeekdaysRow",classes:ws,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:_a,rootSelector:"weekdaysRow"}),D=xe(),k=wa({locale:D.getLocale(m),format:h,firstDayOfWeek:D.getFirstDayOfWeek(f)}).map((S,Y)=>r.jsx(g,{...x("weekday"),children:S},Y));return r.jsxs(le,{component:"tr",ref:t,...x("weekdaysRow"),...p,children:[i&&r.jsx(g,{...x("weekday"),children:"#"}),k]})});zt.classes=ws;zt.displayName="@mantine/dates/WeekdaysRow";function Ca(e,t=1){let s=b(e);const n=t===0?6:t-1;for(;s.day()!==n;)s=s.add(1,"day");return s.format("YYYY-MM-DD")}function ka(e,t=1){let s=b(e);for(;s.day()!==t;)s=s.subtract(1,"day");return s.format("YYYY-MM-DD")}function ja({month:e,firstDayOfWeek:t=1,consistentWeeks:s}){const n=b(e).subtract(b(e).date()-1,"day"),a=b(n.format("YYYY-M-D")),o=a.format("YYYY-MM-DD"),c=a.add(+a.daysInMonth()-1,"day").format("YYYY-MM-DD"),u=Ca(c,t),d=[];let m=b(ka(o,t));for(;b(m).isBefore(u,"day");){const f=[];for(let h=0;h<7;h+=1)f.push(m.format("YYYY-MM-DD")),m=m.add(1,"day");d.push(f)}if(s&&d.length<6){const f=d[d.length-1],h=f[f.length-1];let g=b(h).add(1,"day");for(;d.length<6;){const l=[];for(let i=0;i<7;i+=1)l.push(g.format("YYYY-MM-DD")),g=g.add(1,"day");d.push(l)}}return d}function Ss(e,t){return b(e).format("YYYY-MM")===b(t).format("YYYY-MM")}function _s(e,t){return t?b(e).isAfter(b(t).subtract(1,"day"),"day"):!0}function Cs(e,t){return t?b(e).isBefore(b(t).add(1,"day"),"day"):!0}function La({dates:e,minDate:t,maxDate:s,getDayProps:n,excludeDate:a,hideOutsideDates:o,month:c}){const u=e.flat().filter(f=>{var h;return Cs(f,s)&&_s(f,t)&&!(a!=null&&a(f))&&!((h=n==null?void 0:n(f))!=null&&h.disabled)&&(!o||Ss(f,c))}),d=u.find(f=>{var h;return(h=n==null?void 0:n(f))==null?void 0:h.selected});if(d)return d;const m=u.find(f=>b().isSame(f,"date"));return m||u[0]}var Xe={exports:{}},Ma=Xe.exports,Xt;function Na(){return Xt||(Xt=1,function(e,t){(function(s,n){e.exports=n()})(Ma,function(){var s="day";return function(n,a,o){var c=function(m){return m.add(4-m.isoWeekday(),s)},u=a.prototype;u.isoWeekYear=function(){return c(this).year()},u.isoWeek=function(m){if(!this.$utils().u(m))return this.add(7*(m-this.isoWeek()),s);var f,h,g,l,i=c(this),p=(f=this.isoWeekYear(),h=this.$u,g=(h?o.utc:o)().year(f).startOf("year"),l=4-g.isoWeekday(),g.isoWeekday()>4&&(l+=7),g.add(l,s));return i.diff(p,"week")+1},u.isoWeekday=function(m){return this.$utils().u(m)?this.day()||7:this.day(this.day()%7?m:m-7)};var d=u.startOf;u.startOf=function(m,f){var h=this.$utils(),g=!!h.u(f)||f;return h.p(m)==="isoweek"?g?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):d.bind(this)(m,f)}}})}(Xe)),Xe.exports}var Ya=Na();const Ta=Zs(Ya);b.extend(Ta);function Ra(e){const t=e.find(s=>b(s).day()===1);return b(t).isoWeek()}var ks={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const Aa={withCellSpacing:!0},$a=ve((e,{size:t})=>({weekNumber:{"--wn-fz":Ne(t),"--wn-size":Pe(t,"wn-size")}})),nt=Z((e,t)=>{const s=ee("Month",Aa,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:d,__staticSelector:m,locale:f,firstDayOfWeek:h,weekdayFormat:g,month:l,weekendDays:i,getDayProps:p,excludeDate:x,minDate:D,maxDate:k,renderDay:S,hideOutsideDates:Y,hideWeekdays:w,getDayAriaLabel:L,static:M,__getDayRef:O,__onDayKeyDown:$,__onDayClick:A,__onDayMouseEnter:N,__preventFocus:W,__stopPropagation:B,withCellSpacing:K,size:G,highlightToday:E,withWeekNumbers:j,...T}=s,v=ue({name:m||"Month",classes:ks,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:$a,rootSelector:"month"}),F=xe(),y=ja({month:l,firstDayOfWeek:F.getFirstDayOfWeek(h),consistentWeeks:F.consistentWeeks}),_=La({dates:y,minDate:he(D),maxDate:he(k),getDayProps:p,excludeDate:x,hideOutsideDates:Y,month:l}),{resolvedClassNames:z,resolvedStyles:H}=Ie({classNames:n,styles:c,props:s}),q=y.map((te,re)=>{const se=te.map((Q,P)=>{const J=!Ss(Q,l),U=(L==null?void 0:L(Q))||b(Q).locale(f||F.locale).format("D MMMM YYYY"),R=p==null?void 0:p(Q),de=b(Q).isSame(_,"date");return r.jsx("td",{...v("monthCell"),"data-with-spacing":K||void 0,children:r.jsx(Ot,{__staticSelector:m||"Month",classNames:z,styles:H,unstyled:u,"data-mantine-stop-propagation":B||void 0,highlightToday:E,renderDay:S,date:Q,size:G,weekend:F.getWeekendDays(i).includes(b(Q).get("day")),outside:J,hidden:Y?J:!1,"aria-label":U,static:M,disabled:(x==null?void 0:x(Q))||!Cs(Q,he(k))||!_s(Q,he(D)),ref:X=>O==null?void 0:O(re,P,X),...R,onKeyDown:X=>{var oe;(oe=R==null?void 0:R.onKeyDown)==null||oe.call(R,X),$==null||$(X,{rowIndex:re,cellIndex:P,date:Q})},onMouseEnter:X=>{var oe;(oe=R==null?void 0:R.onMouseEnter)==null||oe.call(R,X),N==null||N(X,Q)},onClick:X=>{var oe;(oe=R==null?void 0:R.onClick)==null||oe.call(R,X),A==null||A(X,Q)},onMouseDown:X=>{var oe;(oe=R==null?void 0:R.onMouseDown)==null||oe.call(R,X),W&&X.preventDefault()},tabIndex:W||!de?-1:0})},Q.toString())});return r.jsxs("tr",{...v("monthRow"),children:[j&&r.jsx("td",{...v("weekNumber"),children:Ra(te)}),se]},re)});return r.jsxs(le,{component:"table",...v("month"),size:G,ref:t,...T,children:[!w&&r.jsx("thead",{...v("monthThead"),children:r.jsx(zt,{__staticSelector:m||"Month",locale:f,firstDayOfWeek:h,weekdayFormat:g,size:G,classNames:z,styles:H,unstyled:u,withWeekNumbers:j})}),r.jsx("tbody",{...v("monthTbody"),children:q})]})});nt.classes=ks;nt.displayName="@mantine/dates/Month";var js={pickerControl:"m_dc6a3c71"};const Fa={},Oa=ve((e,{size:t})=>({pickerControl:{"--dpc-fz":Ne(t),"--dpc-size":Pe(t,"dpc-size")}})),at=Z((e,t)=>{const s=ee("PickerControl",Fa,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:d,firstInRange:m,lastInRange:f,inRange:h,__staticSelector:g,selected:l,disabled:i,...p}=s,x=ue({name:g||"PickerControl",classes:js,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:Oa,rootSelector:"pickerControl"});return r.jsx(_e,{...x("pickerControl"),ref:t,unstyled:u,"data-picker-control":!0,"data-selected":l&&!i||void 0,"data-disabled":i||void 0,"data-in-range":h&&!i&&!l||void 0,"data-first-in-range":m&&!i||void 0,"data-last-in-range":f&&!i||void 0,disabled:i,...p})});at.classes=js;at.displayName="@mantine/dates/PickerControl";function Ls({year:e,minDate:t,maxDate:s}){return!t&&!s?!1:!!(t&&b(e).isBefore(t,"year")||s&&b(e).isAfter(s,"year"))}function za({years:e,minDate:t,maxDate:s,getYearControlProps:n}){const a=e.flat().filter(u=>{var d;return!Ls({year:u,minDate:t,maxDate:s})&&!((d=n==null?void 0:n(u))!=null&&d.disabled)}),o=a.find(u=>{var d;return(d=n==null?void 0:n(u))==null?void 0:d.selected});if(o)return o;const c=a.find(u=>b().isSame(u,"year"));return c||a[0]}function Ms(e){const t=b(e).year(),s=t-t%10;let n=0;const a=[[],[],[],[]];for(let o=0;o<4;o+=1){const c=o===3?1:3;for(let u=0;u<c;u+=1)a[o].push(b(new Date(s+n,0)).format("YYYY-MM-DD")),n+=1}return a}var Ns={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const Wa={yearsListFormat:"YYYY",withCellSpacing:!0},rt=Z((e,t)=>{const s=ee("YearsList",Wa,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:d,decade:m,yearsListFormat:f,locale:h,minDate:g,maxDate:l,getYearControlProps:i,__staticSelector:p,__getControlRef:x,__onControlKeyDown:D,__onControlClick:k,__onControlMouseEnter:S,__preventFocus:Y,__stopPropagation:w,withCellSpacing:L,size:M,...O}=s,$=ue({name:p||"YearsList",classes:Ns,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:d,rootSelector:"yearsList"}),A=xe(),N=Ms(m),W=za({years:N,minDate:g,maxDate:l,getYearControlProps:i}),B=N.map((K,G)=>{const E=K.map((j,T)=>{const v=i==null?void 0:i(j),F=b(j).isSame(W,"year");return r.jsx("td",{...$("yearsListCell"),"data-with-spacing":L||void 0,children:r.jsx(at,{...$("yearsListControl"),size:M,unstyled:u,"data-mantine-stop-propagation":w||void 0,disabled:Ls({year:j,minDate:g,maxDate:l}),ref:y=>x==null?void 0:x(G,T,y),...v,onKeyDown:y=>{var _;(_=v==null?void 0:v.onKeyDown)==null||_.call(v,y),D==null||D(y,{rowIndex:G,cellIndex:T,date:j})},onClick:y=>{var _;(_=v==null?void 0:v.onClick)==null||_.call(v,y),k==null||k(y,j)},onMouseEnter:y=>{var _;(_=v==null?void 0:v.onMouseEnter)==null||_.call(v,y),S==null||S(y,j)},onMouseDown:y=>{var _;(_=v==null?void 0:v.onMouseDown)==null||_.call(v,y),Y&&y.preventDefault()},tabIndex:Y||!F?-1:0,children:b(j).locale(A.getLocale(h)).format(f)})},T)});return r.jsx("tr",{...$("yearsListRow"),children:E},G)});return r.jsx(le,{component:"table",ref:t,size:M,...$("yearsList"),...O,children:r.jsx("tbody",{children:B})})});rt.classes=Ns;rt.displayName="@mantine/dates/YearsList";function Ys({month:e,minDate:t,maxDate:s}){return!t&&!s?!1:!!(t&&b(e).isBefore(t,"month")||s&&b(e).isAfter(s,"month"))}function Ea({months:e,minDate:t,maxDate:s,getMonthControlProps:n}){const a=e.flat().filter(u=>{var d;return!Ys({month:u,minDate:t,maxDate:s})&&!((d=n==null?void 0:n(u))!=null&&d.disabled)}),o=a.find(u=>{var d;return(d=n==null?void 0:n(u))==null?void 0:d.selected});if(o)return o;const c=a.find(u=>b().isSame(u,"month"));return c||a[0]}function Ha(e){const t=b(e).startOf("year").toDate(),s=[[],[],[],[]];let n=0;for(let a=0;a<4;a+=1)for(let o=0;o<3;o+=1)s[a].push(b(t).add(n,"months").format("YYYY-MM-DD")),n+=1;return s}var Ts={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const Pa={monthsListFormat:"MMM",withCellSpacing:!0},ot=Z((e,t)=>{const s=ee("MonthsList",Pa,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:d,__staticSelector:m,year:f,monthsListFormat:h,locale:g,minDate:l,maxDate:i,getMonthControlProps:p,__getControlRef:x,__onControlKeyDown:D,__onControlClick:k,__onControlMouseEnter:S,__preventFocus:Y,__stopPropagation:w,withCellSpacing:L,size:M,...O}=s,$=ue({name:m||"MonthsList",classes:Ts,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:d,rootSelector:"monthsList"}),A=xe(),N=Ha(f),W=Ea({months:N,minDate:he(l),maxDate:he(i),getMonthControlProps:p}),B=N.map((K,G)=>{const E=K.map((j,T)=>{const v=p==null?void 0:p(j),F=b(j).isSame(W,"month");return r.jsx("td",{...$("monthsListCell"),"data-with-spacing":L||void 0,children:r.jsx(at,{...$("monthsListControl"),size:M,unstyled:u,__staticSelector:m||"MonthsList","data-mantine-stop-propagation":w||void 0,disabled:Ys({month:j,minDate:he(l),maxDate:he(i)}),ref:y=>x==null?void 0:x(G,T,y),...v,onKeyDown:y=>{var _;(_=v==null?void 0:v.onKeyDown)==null||_.call(v,y),D==null||D(y,{rowIndex:G,cellIndex:T,date:j})},onClick:y=>{var _;(_=v==null?void 0:v.onClick)==null||_.call(v,y),k==null||k(y,j)},onMouseEnter:y=>{var _;(_=v==null?void 0:v.onMouseEnter)==null||_.call(v,y),S==null||S(y,j)},onMouseDown:y=>{var _;(_=v==null?void 0:v.onMouseDown)==null||_.call(v,y),Y&&y.preventDefault()},tabIndex:Y||!F?-1:0,children:b(j).locale(A.getLocale(g)).format(h)})},T)});return r.jsx("tr",{...$("monthsListRow"),children:E},G)});return r.jsx(le,{component:"table",ref:t,size:M,...$("monthsList"),...O,children:r.jsx("tbody",{children:B})})});ot.classes=Ts;ot.displayName="@mantine/dates/MonthsList";var Rs={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const Ia={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},Va=ve((e,{size:t})=>({calendarHeader:{"--dch-control-size":Pe(t,"dch-control-size"),"--dch-fz":Ne(t)}})),De=Z((e,t)=>{const s=ee("CalendarHeader",Ia,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:d,nextIcon:m,previousIcon:f,nextLabel:h,previousLabel:g,onNext:l,onPrevious:i,onLevelClick:p,label:x,nextDisabled:D,previousDisabled:k,hasNextLevel:S,levelControlAriaLabel:Y,withNext:w,withPrevious:L,__staticSelector:M,__preventFocus:O,__stopPropagation:$,...A}=s,N=ue({name:M||"CalendarHeader",classes:Rs,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:d,varsResolver:Va,rootSelector:"calendarHeader"}),W=O?B=>B.preventDefault():void 0;return r.jsxs(le,{...N("calendarHeader"),ref:t,...A,children:[L&&r.jsx(_e,{...N("calendarHeaderControl"),"data-direction":"previous","aria-label":g,onClick:i,unstyled:u,onMouseDown:W,disabled:k,"data-disabled":k||void 0,tabIndex:O||k?-1:0,"data-mantine-stop-propagation":$||void 0,children:f||r.jsx(Pt,{...N("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})}),r.jsx(_e,{component:S?"button":"div",...N("calendarHeaderLevel"),onClick:S?p:void 0,unstyled:u,onMouseDown:S?W:void 0,disabled:!S,"data-static":!S||void 0,"aria-label":Y,tabIndex:O||!S?-1:0,"data-mantine-stop-propagation":$||void 0,children:x}),w&&r.jsx(_e,{...N("calendarHeaderControl"),"data-direction":"next","aria-label":h,onClick:l,unstyled:u,onMouseDown:W,disabled:D,"data-disabled":D||void 0,tabIndex:O||D?-1:0,"data-mantine-stop-propagation":$||void 0,children:m||r.jsx(Pt,{...N("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})})]})});De.classes=Rs;De.displayName="@mantine/dates/CalendarHeader";function Ga(e){const t=Ms(e);return[t[0][0],t[3][0]]}const Ba={decadeLabelFormat:"YYYY"},it=Z((e,t)=>{const s=ee("DecadeLevel",Ba,e),{decade:n,locale:a,minDate:o,maxDate:c,yearsListFormat:u,getYearControlProps:d,__getControlRef:m,__onControlKeyDown:f,__onControlClick:h,__onControlMouseEnter:g,withCellSpacing:l,__preventFocus:i,nextIcon:p,previousIcon:x,nextLabel:D,previousLabel:k,onNext:S,onPrevious:Y,nextDisabled:w,previousDisabled:L,levelControlAriaLabel:M,withNext:O,withPrevious:$,decadeLabelFormat:A,classNames:N,styles:W,unstyled:B,__staticSelector:K,__stopPropagation:G,size:E,...j}=s,T=xe(),[v,F]=Ga(n),y={__staticSelector:K||"DecadeLevel",classNames:N,styles:W,unstyled:B,size:E},_=typeof w=="boolean"?w:c?!b(F).endOf("year").isBefore(c):!1,z=typeof L=="boolean"?L:o?!b(v).startOf("year").isAfter(o):!1,H=(q,te)=>b(q).locale(a||T.locale).format(te);return r.jsxs(le,{"data-decade-level":!0,size:E,ref:t,...j,children:[r.jsx(De,{label:typeof A=="function"?A(v,F):`${H(v,A)} – ${H(F,A)}`,__preventFocus:i,__stopPropagation:G,nextIcon:p,previousIcon:x,nextLabel:D,previousLabel:k,onNext:S,onPrevious:Y,nextDisabled:_,previousDisabled:z,hasNextLevel:!1,levelControlAriaLabel:M,withNext:O,withPrevious:$,...y}),r.jsx(rt,{decade:n,locale:a,minDate:o,maxDate:c,yearsListFormat:u,getYearControlProps:d,__getControlRef:m,__onControlKeyDown:f,__onControlClick:h,__onControlMouseEnter:g,__preventFocus:i,__stopPropagation:G,withCellSpacing:l,...y})]})});it.classes={...rt.classes,...De.classes};it.displayName="@mantine/dates/DecadeLevel";const Ka={yearLabelFormat:"YYYY"},lt=Z((e,t)=>{const s=ee("YearLevel",Ka,e),{year:n,locale:a,minDate:o,maxDate:c,monthsListFormat:u,getMonthControlProps:d,__getControlRef:m,__onControlKeyDown:f,__onControlClick:h,__onControlMouseEnter:g,withCellSpacing:l,__preventFocus:i,nextIcon:p,previousIcon:x,nextLabel:D,previousLabel:k,onNext:S,onPrevious:Y,onLevelClick:w,nextDisabled:L,previousDisabled:M,hasNextLevel:O,levelControlAriaLabel:$,withNext:A,withPrevious:N,yearLabelFormat:W,__staticSelector:B,__stopPropagation:K,size:G,classNames:E,styles:j,unstyled:T,...v}=s,F=xe(),y={__staticSelector:B||"YearLevel",classNames:E,styles:j,unstyled:T,size:G},_=typeof L=="boolean"?L:c?!b(n).endOf("year").isBefore(c):!1,z=typeof M=="boolean"?M:o?!b(n).startOf("year").isAfter(o):!1;return r.jsxs(le,{"data-year-level":!0,size:G,ref:t,...v,children:[r.jsx(De,{label:typeof W=="function"?W(n):b(n).locale(a||F.locale).format(W),__preventFocus:i,__stopPropagation:K,nextIcon:p,previousIcon:x,nextLabel:D,previousLabel:k,onNext:S,onPrevious:Y,onLevelClick:w,nextDisabled:_,previousDisabled:z,hasNextLevel:O,levelControlAriaLabel:$,withNext:A,withPrevious:N,...y}),r.jsx(ot,{year:n,locale:a,minDate:o,maxDate:c,monthsListFormat:u,getMonthControlProps:d,__getControlRef:m,__onControlKeyDown:f,__onControlClick:h,__onControlMouseEnter:g,__preventFocus:i,__stopPropagation:K,withCellSpacing:l,...y})]})});lt.classes={...De.classes,...ot.classes};lt.displayName="@mantine/dates/YearLevel";const qa={monthLabelFormat:"MMMM YYYY"},ct=Z((e,t)=>{const s=ee("MonthLevel",qa,e),{month:n,locale:a,firstDayOfWeek:o,weekdayFormat:c,weekendDays:u,getDayProps:d,excludeDate:m,minDate:f,maxDate:h,renderDay:g,hideOutsideDates:l,hideWeekdays:i,getDayAriaLabel:p,__getDayRef:x,__onDayKeyDown:D,__onDayClick:k,__onDayMouseEnter:S,withCellSpacing:Y,highlightToday:w,withWeekNumbers:L,__preventFocus:M,__stopPropagation:O,nextIcon:$,previousIcon:A,nextLabel:N,previousLabel:W,onNext:B,onPrevious:K,onLevelClick:G,nextDisabled:E,previousDisabled:j,hasNextLevel:T,levelControlAriaLabel:v,withNext:F,withPrevious:y,monthLabelFormat:_,classNames:z,styles:H,unstyled:q,__staticSelector:te,size:re,static:se,...Q}=s,P=xe(),J={__staticSelector:te||"MonthLevel",classNames:z,styles:H,unstyled:q,size:re},U=typeof E=="boolean"?E:h?!b(n).endOf("month").isBefore(h):!1,R=typeof j=="boolean"?j:f?!b(n).startOf("month").isAfter(f):!1;return r.jsxs(le,{"data-month-level":!0,size:re,ref:t,...Q,children:[r.jsx(De,{label:typeof _=="function"?_(n):b(n).locale(a||P.locale).format(_),__preventFocus:M,__stopPropagation:O,nextIcon:$,previousIcon:A,nextLabel:N,previousLabel:W,onNext:B,onPrevious:K,onLevelClick:G,nextDisabled:U,previousDisabled:R,hasNextLevel:T,levelControlAriaLabel:v,withNext:F,withPrevious:y,...J}),r.jsx(nt,{month:n,locale:a,firstDayOfWeek:o,weekdayFormat:c,weekendDays:u,getDayProps:d,excludeDate:m,minDate:f,maxDate:h,renderDay:g,hideOutsideDates:l,hideWeekdays:i,getDayAriaLabel:p,__getDayRef:x,__onDayKeyDown:D,__onDayClick:k,__onDayMouseEnter:S,__preventFocus:M,__stopPropagation:O,static:se,withCellSpacing:Y,highlightToday:w,withWeekNumbers:L,...J})]})});ct.classes={...nt.classes,...De.classes};ct.displayName="@mantine/dates/MonthLevel";var As={levelsGroup:"m_30b26e33"};const Ua={},we=Z((e,t)=>{const s=ee("LevelsGroup",Ua,e),{classNames:n,className:a,style:o,styles:c,unstyled:u,vars:d,__staticSelector:m,...f}=s,h=ue({name:m||"LevelsGroup",classes:As,props:s,className:a,style:o,classNames:n,styles:c,unstyled:u,vars:d,rootSelector:"levelsGroup"});return r.jsx(le,{ref:t,...h("levelsGroup"),...f})});we.classes=As;we.displayName="@mantine/dates/LevelsGroup";const Qa={numberOfColumns:1},dt=Z((e,t)=>{const s=ee("DecadeLevelGroup",Qa,e),{decade:n,locale:a,minDate:o,maxDate:c,yearsListFormat:u,getYearControlProps:d,__onControlClick:m,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:g,nextIcon:l,previousIcon:i,nextLabel:p,previousLabel:x,onNext:D,onPrevious:k,nextDisabled:S,previousDisabled:Y,classNames:w,styles:L,unstyled:M,__staticSelector:O,__stopPropagation:$,numberOfColumns:A,levelControlAriaLabel:N,decadeLabelFormat:W,size:B,vars:K,...G}=s,E=C.useRef([]),j=Array(A).fill(0).map((T,v)=>{const F=b(n).add(v*10,"years").format("YYYY-MM-DD");return r.jsx(it,{size:B,yearsListFormat:u,decade:F,withNext:v===A-1,withPrevious:v===0,decadeLabelFormat:W,__onControlClick:m,__onControlMouseEnter:f,__onControlKeyDown:(y,_)=>Rt({levelIndex:v,rowIndex:_.rowIndex,cellIndex:_.cellIndex,event:y,controlsRef:E}),__getControlRef:(y,_,z)=>{Array.isArray(E.current[v])||(E.current[v]=[]),Array.isArray(E.current[v][y])||(E.current[v][y]=[]),E.current[v][y][_]=z},levelControlAriaLabel:typeof N=="function"?N(F):N,locale:a,minDate:o,maxDate:c,__preventFocus:g,__stopPropagation:$,nextIcon:l,previousIcon:i,nextLabel:p,previousLabel:x,onNext:D,onPrevious:k,nextDisabled:S,previousDisabled:Y,getYearControlProps:d,__staticSelector:O||"DecadeLevelGroup",classNames:w,styles:L,unstyled:M,withCellSpacing:h},v)});return r.jsx(we,{classNames:w,styles:L,__staticSelector:O||"DecadeLevelGroup",ref:t,size:B,unstyled:M,...G,children:j})});dt.classes={...we.classes,...it.classes};dt.displayName="@mantine/dates/DecadeLevelGroup";const Ja={numberOfColumns:1},ut=Z((e,t)=>{const s=ee("YearLevelGroup",Ja,e),{year:n,locale:a,minDate:o,maxDate:c,monthsListFormat:u,getMonthControlProps:d,__onControlClick:m,__onControlMouseEnter:f,withCellSpacing:h,__preventFocus:g,nextIcon:l,previousIcon:i,nextLabel:p,previousLabel:x,onNext:D,onPrevious:k,onLevelClick:S,nextDisabled:Y,previousDisabled:w,hasNextLevel:L,classNames:M,styles:O,unstyled:$,__staticSelector:A,__stopPropagation:N,numberOfColumns:W,levelControlAriaLabel:B,yearLabelFormat:K,size:G,vars:E,...j}=s,T=C.useRef([]),v=Array(W).fill(0).map((F,y)=>{const _=b(n).add(y,"years").format("YYYY-MM-DD");return r.jsx(lt,{size:G,monthsListFormat:u,year:_,withNext:y===W-1,withPrevious:y===0,yearLabelFormat:K,__stopPropagation:N,__onControlClick:m,__onControlMouseEnter:f,__onControlKeyDown:(z,H)=>Rt({levelIndex:y,rowIndex:H.rowIndex,cellIndex:H.cellIndex,event:z,controlsRef:T}),__getControlRef:(z,H,q)=>{Array.isArray(T.current[y])||(T.current[y]=[]),Array.isArray(T.current[y][z])||(T.current[y][z]=[]),T.current[y][z][H]=q},levelControlAriaLabel:typeof B=="function"?B(_):B,locale:a,minDate:o,maxDate:c,__preventFocus:g,nextIcon:l,previousIcon:i,nextLabel:p,previousLabel:x,onNext:D,onPrevious:k,onLevelClick:S,nextDisabled:Y,previousDisabled:w,hasNextLevel:L,getMonthControlProps:d,classNames:M,styles:O,unstyled:$,__staticSelector:A||"YearLevelGroup",withCellSpacing:h},y)});return r.jsx(we,{classNames:M,styles:O,__staticSelector:A||"YearLevelGroup",ref:t,size:G,unstyled:$,...j,children:v})});ut.classes={...lt.classes,...we.classes};ut.displayName="@mantine/dates/YearLevelGroup";const Xa={numberOfColumns:1},mt=Z((e,t)=>{const s=ee("MonthLevelGroup",Xa,e),{month:n,locale:a,firstDayOfWeek:o,weekdayFormat:c,weekendDays:u,getDayProps:d,excludeDate:m,minDate:f,maxDate:h,renderDay:g,hideOutsideDates:l,hideWeekdays:i,getDayAriaLabel:p,__onDayClick:x,__onDayMouseEnter:D,withCellSpacing:k,highlightToday:S,withWeekNumbers:Y,__preventFocus:w,nextIcon:L,previousIcon:M,nextLabel:O,previousLabel:$,onNext:A,onPrevious:N,onLevelClick:W,nextDisabled:B,previousDisabled:K,hasNextLevel:G,classNames:E,styles:j,unstyled:T,numberOfColumns:v,levelControlAriaLabel:F,monthLabelFormat:y,__staticSelector:_,__stopPropagation:z,size:H,static:q,vars:te,...re}=s,se=C.useRef([]),Q=Array(v).fill(0).map((P,J)=>{const U=b(n).add(J,"months").format("YYYY-MM-DD");return r.jsx(ct,{month:U,withNext:J===v-1,withPrevious:J===0,monthLabelFormat:y,__stopPropagation:z,__onDayClick:x,__onDayMouseEnter:D,__onDayKeyDown:(R,de)=>Rt({levelIndex:J,rowIndex:de.rowIndex,cellIndex:de.cellIndex,event:R,controlsRef:se}),__getDayRef:(R,de,X)=>{Array.isArray(se.current[J])||(se.current[J]=[]),Array.isArray(se.current[J][R])||(se.current[J][R]=[]),se.current[J][R][de]=X},levelControlAriaLabel:typeof F=="function"?F(U):F,locale:a,firstDayOfWeek:o,weekdayFormat:c,weekendDays:u,getDayProps:d,excludeDate:m,minDate:f,maxDate:h,renderDay:g,hideOutsideDates:l,hideWeekdays:i,getDayAriaLabel:p,__preventFocus:w,nextIcon:L,previousIcon:M,nextLabel:O,previousLabel:$,onNext:A,onPrevious:N,onLevelClick:W,nextDisabled:B,previousDisabled:K,hasNextLevel:G,classNames:E,styles:j,unstyled:T,__staticSelector:_||"MonthLevelGroup",size:H,static:q,withCellSpacing:k,highlightToday:S,withWeekNumbers:Y},J)});return r.jsx(we,{classNames:E,styles:j,__staticSelector:_||"MonthLevelGroup",ref:t,size:H,...re,children:Q})});mt.classes={...we.classes,...ct.classes};mt.displayName="@mantine/dates/MonthLevelGroup";var $s={input:"m_6fa5e2aa"};const Za={},ft=Z((e,t)=>{const{inputProps:s,wrapperProps:n,placeholder:a,classNames:o,styles:c,unstyled:u,popoverProps:d,modalProps:m,dropdownType:f,children:h,formattedValue:g,dropdownHandlers:l,dropdownOpened:i,onClick:p,clearable:x,onClear:D,clearButtonProps:k,rightSection:S,shouldClear:Y,readOnly:w,disabled:L,value:M,name:O,form:$,type:A,onDropdownClose:N,withTime:W,...B}=en("PickerInputBase",Za,e),K=r.jsx(qe.ClearButton,{onClick:D,unstyled:u,...k}),G=()=>{A==="range"&&Array.isArray(M)&&M[0]&&!M[1]&&D(),l.close(),N==null||N()};return r.jsxs(r.Fragment,{children:[f==="modal"&&!w&&r.jsx(tn,{opened:i,onClose:G,withCloseButton:!1,size:"auto","data-dates-modal":!0,unstyled:u,...m,children:h}),r.jsx(qe.Wrapper,{...n,children:r.jsxs(Me,{position:"bottom-start",opened:i,trapFocus:!0,returnFocus:!1,unstyled:u,...d,disabled:(d==null?void 0:d.disabled)||f==="modal"||w,onChange:E=>{var j;E||((j=d==null?void 0:d.onClose)==null||j.call(d),G())},children:[r.jsx(Me.Target,{children:r.jsx(qe,{"data-dates-input":!0,"data-read-only":w||void 0,disabled:L,component:"button",type:"button",multiline:!0,onClick:E=>{p==null||p(E),l.toggle()},__clearSection:K,__clearable:x&&Y&&!w&&!L,rightSection:S,...s,ref:t,classNames:{...o,input:sn($s.input,o==null?void 0:o.input)},...B,children:g||r.jsx(qe.Placeholder,{error:s.error,unstyled:u,className:o==null?void 0:o.placeholder,style:c==null?void 0:c.placeholder,children:a})})}),r.jsx(Me.Dropdown,{"data-dates-dropdown":!0,children:h})]})}),r.jsx(ms,{value:M,name:O,form:$,type:A,withTime:W})]})});ft.classes=$s;ft.displayName="@mantine/dates/PickerInputBase";const Zt=e=>e==="range"?[null,null]:e==="multiple"?[]:null,es=(e,t)=>{const s=t?Le:he;return Array.isArray(e)?e.map(s):s(e)};function Wt({type:e,value:t,defaultValue:s,onChange:n,withTime:a=!1}){const o=C.useRef(e),[c,u,d]=jt({value:es(t,a),defaultValue:es(s,a),finalValue:Zt(e),onChange:n});let m=c;return o.current!==e&&(o.current=e,t===void 0&&(m=s!==void 0?s:Zt(e),u(m))),[m,u,d]}function St(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function er(e){return e===0?"month":e===1?"year":"decade"}function Ee(e,t,s){return er(Ue(St(e,0),St(t,0),St(s,2)))}const tr={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},pt=Z((e,t)=>{const s=ee("Calendar",tr,e),{vars:n,maxLevel:a,minLevel:o,defaultLevel:c,level:u,onLevelChange:d,date:m,defaultDate:f,onDateChange:h,numberOfColumns:g,columnsToScroll:l,ariaLabels:i,nextLabel:p,previousLabel:x,onYearSelect:D,onMonthSelect:k,onYearMouseEnter:S,onMonthMouseEnter:Y,__updateDateOnYearSelect:w,__updateDateOnMonthSelect:L,firstDayOfWeek:M,weekdayFormat:O,weekendDays:$,getDayProps:A,excludeDate:N,renderDay:W,hideOutsideDates:B,hideWeekdays:K,getDayAriaLabel:G,monthLabelFormat:E,nextIcon:j,previousIcon:T,__onDayClick:v,__onDayMouseEnter:F,withCellSpacing:y,highlightToday:_,withWeekNumbers:z,monthsListFormat:H,getMonthControlProps:q,yearLabelFormat:te,yearsListFormat:re,getYearControlProps:se,decadeLabelFormat:Q,classNames:P,styles:J,unstyled:U,minDate:R,maxDate:de,locale:X,__staticSelector:oe,size:Ge,__preventFocus:Ye,__stopPropagation:Te,onNextDecade:Re,onPreviousDecade:me,onNextYear:I,onPreviousYear:Ae,onNextMonth:$e,onPreviousMonth:Fe,static:yt,...Be}=s,{resolvedClassNames:Oe,resolvedStyles:gt}=Ie({classNames:P,styles:J,props:s}),[ke,ye]=jt({value:u?Ee(u,o,a):void 0,defaultValue:c?Ee(c,o,a):void 0,finalValue:Ee(void 0,o,a),onChange:d}),[vt,V]=Wt({type:"default",value:he(m),defaultValue:he(f),onChange:h}),ne={__staticSelector:oe||"Calendar",styles:gt,classNames:Oe,unstyled:U,size:Ge},je=l||g||1,Et=new Date,Os=R&&b(Et).isAfter(R)?R:b(Et).format("YYYY-MM-DD"),ge=vt||Os,zs=()=>{const ae=b(ge).add(je,"month").format("YYYY-MM-DD");$e==null||$e(ae),V(ae)},Ws=()=>{const ae=b(ge).subtract(je,"month").format("YYYY-MM-DD");Fe==null||Fe(ae),V(ae)},Es=()=>{const ae=b(ge).add(je,"year").format("YYYY-MM-DD");I==null||I(ae),V(ae)},Hs=()=>{const ae=b(ge).subtract(je,"year").format("YYYY-MM-DD");Ae==null||Ae(ae),V(ae)},Ps=()=>{const ae=b(ge).add(10*je,"year").format("YYYY-MM-DD");Re==null||Re(ae),V(ae)},Is=()=>{const ae=b(ge).subtract(10*je,"year").format("YYYY-MM-DD");me==null||me(ae),V(ae)};return r.jsxs(le,{ref:t,size:Ge,"data-calendar":!0,...Be,children:[ke==="month"&&r.jsx(mt,{month:ge,minDate:R,maxDate:de,firstDayOfWeek:M,weekdayFormat:O,weekendDays:$,getDayProps:A,excludeDate:N,renderDay:W,hideOutsideDates:B,hideWeekdays:K,getDayAriaLabel:G,onNext:zs,onPrevious:Ws,hasNextLevel:a!=="month",onLevelClick:()=>ye("year"),numberOfColumns:g,locale:X,levelControlAriaLabel:i==null?void 0:i.monthLevelControl,nextLabel:(i==null?void 0:i.nextMonth)??p,nextIcon:j,previousLabel:(i==null?void 0:i.previousMonth)??x,previousIcon:T,monthLabelFormat:E,__onDayClick:v,__onDayMouseEnter:F,__preventFocus:Ye,__stopPropagation:Te,static:yt,withCellSpacing:y,highlightToday:_,withWeekNumbers:z,...ne}),ke==="year"&&r.jsx(ut,{year:ge,numberOfColumns:g,minDate:R,maxDate:de,monthsListFormat:H,getMonthControlProps:q,locale:X,onNext:Es,onPrevious:Hs,hasNextLevel:a!=="month"&&a!=="year",onLevelClick:()=>ye("decade"),levelControlAriaLabel:i==null?void 0:i.yearLevelControl,nextLabel:(i==null?void 0:i.nextYear)??p,nextIcon:j,previousLabel:(i==null?void 0:i.previousYear)??x,previousIcon:T,yearLabelFormat:te,__onControlMouseEnter:Y,__onControlClick:(ae,ze)=>{L&&V(ze),ye(Ee("month",o,a)),k==null||k(ze)},__preventFocus:Ye,__stopPropagation:Te,withCellSpacing:y,...ne}),ke==="decade"&&r.jsx(dt,{decade:ge,minDate:R,maxDate:de,yearsListFormat:re,getYearControlProps:se,locale:X,onNext:Ps,onPrevious:Is,numberOfColumns:g,nextLabel:(i==null?void 0:i.nextDecade)??p,nextIcon:j,previousLabel:(i==null?void 0:i.previousDecade)??x,previousIcon:T,decadeLabelFormat:Q,__onControlMouseEnter:S,__onControlClick:(ae,ze)=>{w&&V(ze),ye(Ee("year",o,a)),D==null||D(ze)},__preventFocus:Ye,__stopPropagation:Te,withCellSpacing:y,...ne})]})});pt.classes={...dt.classes,...ut.classes,...mt.classes};pt.displayName="@mantine/dates/Calendar";function sr(e){const{maxLevel:t,minLevel:s,defaultLevel:n,level:a,onLevelChange:o,nextIcon:c,previousIcon:u,date:d,defaultDate:m,onDateChange:f,numberOfColumns:h,columnsToScroll:g,ariaLabels:l,nextLabel:i,previousLabel:p,onYearSelect:x,onMonthSelect:D,onYearMouseEnter:k,onMonthMouseEnter:S,onNextMonth:Y,onPreviousMonth:w,onNextYear:L,onPreviousYear:M,onNextDecade:O,onPreviousDecade:$,withCellSpacing:A,highlightToday:N,__updateDateOnYearSelect:W,__updateDateOnMonthSelect:B,withWeekNumbers:K,firstDayOfWeek:G,weekdayFormat:E,weekendDays:j,getDayProps:T,excludeDate:v,renderDay:F,hideOutsideDates:y,hideWeekdays:_,getDayAriaLabel:z,monthLabelFormat:H,monthsListFormat:q,getMonthControlProps:te,yearLabelFormat:re,yearsListFormat:se,getYearControlProps:Q,decadeLabelFormat:P,allowSingleDateInRange:J,allowDeselect:U,minDate:R,maxDate:de,locale:X,...oe}=e;return{calendarProps:{maxLevel:t,minLevel:s,defaultLevel:n,level:a,onLevelChange:o,nextIcon:c,previousIcon:u,date:d,defaultDate:m,onDateChange:f,numberOfColumns:h,columnsToScroll:g,ariaLabels:l,nextLabel:i,previousLabel:p,onYearSelect:x,onMonthSelect:D,onYearMouseEnter:k,onMonthMouseEnter:S,onNextMonth:Y,onPreviousMonth:w,onNextYear:L,onPreviousYear:M,onNextDecade:O,onPreviousDecade:$,withCellSpacing:A,highlightToday:N,__updateDateOnYearSelect:W,__updateDateOnMonthSelect:B,withWeekNumbers:K,firstDayOfWeek:G,weekdayFormat:E,weekendDays:j,getDayProps:T,excludeDate:v,renderDay:F,hideOutsideDates:y,hideWeekdays:_,getDayAriaLabel:z,monthLabelFormat:H,monthsListFormat:q,getMonthControlProps:te,yearLabelFormat:re,yearsListFormat:se,getYearControlProps:Q,decadeLabelFormat:P,allowSingleDateInRange:J,allowDeselect:U,minDate:R,maxDate:de,locale:X},others:oe}}function ts(e,t){const s=[...t].sort((n,a)=>b(n).isAfter(b(a))?1:-1);return b(s[0]).startOf("day").subtract(1,"ms").isBefore(e)&&b(s[1]).endOf("day").add(1,"ms").isAfter(e)}function nr({type:e,level:t,value:s,defaultValue:n,onChange:a,allowSingleDateInRange:o,allowDeselect:c,onMouseLeave:u}){const[d,m]=Wt({type:e,value:s,defaultValue:n,onChange:a}),[f,h]=C.useState(e==="range"&&d[0]&&!d[1]?d[0]:null),[g,l]=C.useState(null),i=w=>{if(e==="range"){if(f&&!d[1]){if(b(w).isSame(f,t)&&!o){h(null),l(null),m([null,null]);return}const L=[w,f];L.sort((M,O)=>b(M).isAfter(b(O))?1:-1),m(L),l(null),h(null);return}if(d[0]&&!d[1]&&b(w).isSame(d[0],t)&&!o){h(null),l(null),m([null,null]);return}m([w,null]),l(null),h(w);return}if(e==="multiple"){d.some(L=>b(L).isSame(w,t))?m(d.filter(L=>!b(L).isSame(w,t))):m([...d,w]);return}d&&c&&b(w).isSame(d,t)?m(null):m(w)},p=w=>f&&g?ts(w,[g,f]):d[0]&&d[1]?ts(w,d):!1,x=e==="range"?w=>{u==null||u(w),l(null)}:u,D=w=>d[0]&&b(w).isSame(d[0],t)?!(g&&b(g).isBefore(d[0])):!1,k=w=>d[1]?b(w).isSame(d[1],t):!d[0]||!g?!1:b(g).isBefore(d[0])&&b(w).isSame(d[0],t),S=w=>{if(e==="range")return{selected:d.some(M=>M&&b(M).isSame(w,t)),inRange:p(w),firstInRange:D(w),lastInRange:k(w),"data-autofocus":!!d[0]&&b(d[0]).isSame(w,t)||void 0};if(e==="multiple")return{selected:d.some(M=>M&&b(M).isSame(w,t)),"data-autofocus":!!d[0]&&b(d[0]).isSame(w,t)||void 0};const L=b(d).isSame(w,t);return{selected:L,"data-autofocus":L||void 0}},Y=e==="range"&&f?l:()=>{};return C.useEffect(()=>{if(e==="range")if(d[0]&&!d[1])h(d[0]);else{const w=d[0]==null&&d[1]==null,L=d[0]!=null&&d[1]!=null;(w||L)&&(h(null),l(null))}},[d]),{onDateChange:i,onRootMouseLeave:x,onHoveredDateChange:Y,getControlProps:S,_value:d,setValue:m}}const ar={type:"default",defaultLevel:"month",numberOfColumns:1},ht=Z((e,t)=>{const s=ee("DatePicker",ar,e),{classNames:n,styles:a,vars:o,type:c,defaultValue:u,value:d,onChange:m,__staticSelector:f,getDayProps:h,allowSingleDateInRange:g,allowDeselect:l,onMouseLeave:i,numberOfColumns:p,hideOutsideDates:x,__onDayMouseEnter:D,__onDayClick:k,...S}=s,{onDateChange:Y,onRootMouseLeave:w,onHoveredDateChange:L,getControlProps:M}=nr({type:c,level:"day",allowDeselect:l,allowSingleDateInRange:g,value:d,defaultValue:u,onChange:m,onMouseLeave:i}),{resolvedClassNames:O,resolvedStyles:$}=Ie({classNames:n,styles:a,props:s});return r.jsx(pt,{ref:t,minLevel:"month",classNames:O,styles:$,__staticSelector:f||"DatePicker",onMouseLeave:w,numberOfColumns:p,hideOutsideDates:x??p!==1,__onDayMouseEnter:(A,N)=>{L(N),D==null||D(A,N)},__onDayClick:(A,N)=>{Y(N),k==null||k(A,N)},getDayProps:A=>({...M(A),...h==null?void 0:h(A)}),...S})});ht.classes=pt.classes;ht.displayName="@mantine/dates/DatePicker";function rr({minDate:e,value:t}){const s=e?b(e).format("HH:mm:ss"):null;return t&&e&&t===e?s??void 0:void 0}function or({maxDate:e,value:t}){const s=e?b(e).format("HH:mm:ss"):null;return t&&e&&t===e?s??void 0:void 0}var Fs={timeWrapper:"m_208d2562",timeInput:"m_62ee059"};const ir={dropdownType:"popover"},st=Z((e,t)=>{const s=ee("DateTimePicker",ir,e),{value:n,defaultValue:a,onChange:o,valueFormat:c,locale:u,classNames:d,styles:m,unstyled:f,timePickerProps:h,submitButtonProps:g,withSeconds:l,level:i,defaultLevel:p,size:x,variant:D,dropdownType:k,vars:S,minDate:Y,maxDate:w,...L}=s,M=ue({name:"DateTimePicker",classes:Fs,props:s,classNames:d,styles:m,unstyled:f,vars:S}),{resolvedClassNames:O,resolvedStyles:$}=Ie({classNames:d,styles:m,props:s}),A=c||(l?"DD/MM/YYYY HH:mm:ss":"DD/MM/YYYY HH:mm"),N=C.useRef(null),W=Se(N,h==null?void 0:h.hoursRef),{calendarProps:{allowSingleDateInRange:B,...K},others:G}=sr(L),E=xe(),[j,T]=Wt({type:"default",value:n,defaultValue:a,onChange:o,withTime:!0}),v=U=>U?b(U).format(l?"HH:mm:ss":"HH:mm"):"",[F,y]=C.useState(v(j)),[_,z]=C.useState(i||p||"month"),[H,q]=nn(!1),te=j?b(j).locale(E.getLocale(u)).format(A):"",re=U=>{var R;(R=h==null?void 0:h.onChange)==null||R.call(h,U),y(U),U&&T(Qt(j,U))},se=U=>{var R;U&&T(Qt(xt(Y,w,U),F)),(R=N.current)==null||R.focus()},Q=U=>{U.key==="Enter"&&(U.preventDefault(),q.close())};It(()=>{H||y(v(j))},[j,H]),It(()=>{H&&z("month")},[H]);const P=k==="popover",J=()=>{const U=xt(Y,w,j);j&&j!==U&&T(xt(Y,w,j))};return r.jsxs(ft,{formattedValue:te,dropdownOpened:L.disabled?!1:H,dropdownHandlers:q,classNames:O,styles:$,unstyled:f,ref:t,onClear:()=>T(null),shouldClear:!!j,value:j,size:x,variant:D,dropdownType:k,...G,type:"default",__staticSelector:"DateTimePicker",onDropdownClose:J,withTime:!0,children:[r.jsx(ht,{...K,maxDate:w,minDate:Y,size:x,variant:D,type:"default",value:j,defaultDate:j,onChange:se,locale:u,classNames:O,styles:$,unstyled:f,__staticSelector:"DateTimePicker",__stopPropagation:P,level:i,defaultLevel:p,onLevelChange:U=>{var R;z(U),(R=K.onLevelChange)==null||R.call(K,U)}}),_==="month"&&r.jsxs("div",{...M("timeWrapper"),children:[r.jsx(Ft,{value:F,withSeconds:l,unstyled:f,min:rr({minDate:Y,value:j}),max:or({maxDate:w,value:j}),...h,...M("timeInput",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),onChange:re,onKeyDown:Q,size:x,"data-mantine-stop-propagation":P||void 0,hoursRef:W}),r.jsx(et,{variant:"default",size:`input-${x||"sm"}`,...M("submitButton",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),unstyled:f,"data-mantine-stop-propagation":P||void 0,children:r.jsx(an,{size:"30%"}),...g,onClick:U=>{var R;(R=g==null?void 0:g.onClick)==null||R.call(g,U),q.close(),J()}})]})]})});st.classes={...Fs,...ft.classes,...ht.classes};st.displayName="@mantine/dates/DateTimePicker";/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lr=Ve("outline","building","IconBuilding",[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M9 8l1 0",key:"svg-1"}],["path",{d:"M9 12l1 0",key:"svg-2"}],["path",{d:"M9 16l1 0",key:"svg-3"}],["path",{d:"M14 8l1 0",key:"svg-4"}],["path",{d:"M14 12l1 0",key:"svg-5"}],["path",{d:"M14 16l1 0",key:"svg-6"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cr=Ve("outline","chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dr=Ve("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var br=Ve("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ur=Ve("outline","note","IconNote",[["path",{d:"M13 20l7 -7",key:"svg-0"}],["path",{d:"M13 20v-6a1 1 0 0 1 1 -1h6v-7a2 2 0 0 0 -2 -2h-12a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7",key:"svg-1"}]]);b.extend(Dn);b.extend(wn);function mr({onSubmit:e,isLoading:t,initialValues:s=null}){const{doctors:n}=rn(),{patients:a,isLoading:o}=bn(),{doctorsWorkingDays:c}=xn(),[u,d]=C.useState("new"),m=Sn({initialValues:s||{doctorId:"",patientId:"",firstName:"",lastName:"",email:"",phoneNumber:"",address:"",startTime:null,endTime:null,notes:""},validate:{doctorId:l=>l?null:"Please select a doctor",patientId:l=>u==="existing"&&!l?"Please select a patient":null,firstName:l=>u==="new"&&!(l!=null&&l.trim())?"First name is required":null,lastName:l=>u==="new"&&!(l!=null&&l.trim())?"Last name is required":null,email:l=>u==="new"?l!=null&&l.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)?null:"Invalid email format":"Email is required":null,phoneNumber:l=>u==="new"&&!(l!=null&&l.trim())?"Phone number is required":null,address:l=>u==="new"&&!(l!=null&&l.trim())?"Address is required":null,startTime:l=>l?null:"Please select appointment start time",endTime:l=>l?null:"Please select appointment end time"}});C.useEffect(()=>{if(m.values.startTime){const l=new Date(m.values.startTime);l.setMinutes(l.getMinutes()+30),m.setFieldValue("endTime",l)}},[m.values.startTime]),C.useEffect(()=>{u==="existing"?m.setValues({...m.values,firstName:"",lastName:"",email:"",phoneNumber:"",address:"",patientId:""}):m.setValues({...m.values,patientId:""})},[u]);const f=l=>{if(!m.values.doctorId||!c)return!1;const i=parseInt(m.values.doctorId),p=c[i]||[];if(p.length===0)return!1;const x=b(l).day();return!p.includes(x)},h=l=>{if(!l)return null;const p=new Date(l).toISOString();return console.log("Converting date:",l,"to ISO:",p),p},g=l=>{console.log("Form values before processing:",{startTime:l.startTime,endTime:l.endTime,patientType:u,values:l});let i;u==="existing"?i={startDate:h(l.startTime),endDate:h(l.endTime),notes:l.notes?l.notes.trim():"",doctorId:parseInt(l.doctorId),userId:l.patientId}:i={firstName:l.firstName.trim(),lastName:l.lastName.trim(),email:l.email.trim(),phoneNumber:l.phoneNumber.trim(),address:l.address.trim(),startDate:h(l.startTime),endDate:h(l.endTime),notes:l.notes?l.notes.trim():"",doctorId:parseInt(l.doctorId)},i.patientType=u,console.log("Submitting appointment data:",i),e(i)};return r.jsx("form",{onSubmit:m.onSubmit(g),children:r.jsxs(be,{pos:"relative",children:[r.jsx(on,{visible:t}),r.jsx(Vt,{radius:"md",label:"Doctor",placeholder:"Select a doctor",data:n.map(l=>({value:l.id.toString(),label:`${l.name} (${l.clinicName})`})),searchable:!0,required:!0,...m.getInputProps("doctorId")}),r.jsx(Ct,{label:"Patient Details",labelPosition:"center"}),r.jsx(le,{children:r.jsx(Tt,{radius:"md",value:u,onChange:d,data:[{label:"New Patient",value:"new"},{label:"Existing Patient",value:"existing"}],fullWidth:!0})}),u==="existing"?r.jsx(Vt,{radius:"md",label:"Select Patient",placeholder:"Choose an existing patient",data:a.map(l=>({value:l.id,label:l.fullName+" - "+l.email})),searchable:!0,required:!0,disabled:o,...m.getInputProps("patientId")}):r.jsxs(r.Fragment,{children:[r.jsxs(pe,{grow:!0,children:[r.jsx(We,{radius:"md",label:"First Name",placeholder:"Enter patient first name",required:!0,...m.getInputProps("firstName")}),r.jsx(We,{radius:"md",label:"Last Name",placeholder:"Enter patient last name",required:!0,...m.getInputProps("lastName")})]}),r.jsx(We,{radius:"md",label:"Email",placeholder:"Enter patient email",type:"email",required:!0,...m.getInputProps("email")}),r.jsx(We,{radius:"md",label:"Phone Number",placeholder:"Enter patient phone number",required:!0,...m.getInputProps("phoneNumber")}),r.jsx(We,{radius:"md",label:"Address",placeholder:"Enter patient address",required:!0,...m.getInputProps("address")})]}),r.jsx(Ct,{label:"Appointment Details",labelPosition:"center"}),r.jsxs(pe,{grow:!0,children:[r.jsx(st,{firstDayOfWeek:0,radius:"md",timePickerProps:{withDropdown:!0,popoverProps:{withinPortal:!1},format:"12h",withSeconds:!1},label:"Start Time",placeholder:"Appointment start time",required:!0,clearable:!0,valueFormat:"DD MMM YYYY hh:mm A",minDate:new Date,excludeDate:f,weekendDays:[5],...m.getInputProps("startTime")}),r.jsx(st,{firstDayOfWeek:0,radius:"md",timePickerProps:{withDropdown:!0,popoverProps:{withinPortal:!1},format:"12h"},label:"End Time",placeholder:"Appointment end time",required:!0,clearable:!0,valueFormat:"DD MMM YYYY hh:mm A",minDate:m.values.startTime||new Date,excludeDate:f,weekendDays:[],...m.getInputProps("endTime")})]}),r.jsx(Yt,{radius:"md",label:"Notes",placeholder:"Add any notes about the appointment",...m.getInputProps("notes")}),r.jsx(pe,{justify:"flex-end",mt:"md",children:r.jsx(ln,{type:"submit",loading:t,radius:"md",children:s?"Update Appointment":"Create Appointment"})})]})})}function xr({opened:e,onClose:t}){const{createAppointmentWithPatient:s,createAppointment:n}=vn(),a=async c=>{var u,d,m,f,h,g,l;try{let i;const p=c.patientType==="new";if(p){const{patientType:x,...D}=c;i=await s.mutateAsync(D)}else{const{patientType:x,...D}=c;i=await n.mutateAsync(D)}if(p&&i.userCreated&&i.temporaryPassword){const x=r.jsxs(be,{gap:"xs",children:[r.jsx(fe,{size:"sm",children:"Appointment created successfully! A new patient account has been created."}),r.jsxs(pe,{gap:"xs",align:"center",children:[r.jsx(fe,{size:"sm",fw:500,children:"Temporary Password:"}),r.jsx(Mt,{children:i.temporaryPassword}),r.jsx(cs,{value:i.temporaryPassword,children:({copied:D,copy:k})=>r.jsx(cn,{label:D?"Copied":"Copy password",children:r.jsx(et,{color:D?"teal":"blue",onClick:k,size:"sm",variant:"light",children:D?r.jsx(dn,{size:16}):r.jsx(dr,{size:16})})})})]}),r.jsx(fe,{size:"xs",c:"dimmed",children:"Please share this password with the patient so they can log in."})]});bt.show({title:"Success",message:x,color:"green",autoClose:!1})}else bt.show({title:"Success",message:"Appointment created successfully",color:"green"});t()}catch(i){console.error("Full error object:",i);let p="Failed to create appointment";if((d=(u=i.response)==null?void 0:u.data)!=null&&d.error)p=i.response.data.error;else if((f=(m=i.response)==null?void 0:m.data)!=null&&f.message){if(p=i.response.data.message,i.response.data.errors&&Array.isArray(i.response.data.errors)){const x=i.response.data.errors.find(D=>D.code==="DuplicateUserName"||D.code==="DuplicateEmail");if(x)p=`${i.response.data.message}: ${x.description}. Please try with a different email address.`;else{const D=i.response.data.errors.map(k=>k.description);p=`${i.response.data.message}: ${D.join(", ")}`}}}else(g=(h=i.response)==null?void 0:h.data)!=null&&g.errors?p=Object.values(i.response.data.errors).flat().join(", "):(l=i.response)!=null&&l.data?p=JSON.stringify(i.response.data):i.message&&(p=i.message);bt.show({title:"Error",message:p,color:"red",autoClose:!1})}},o=s.isPending||n.isPending;return r.jsx(rs,{radius:"md",overlayProps:{opacity:.4},opened:e,onClose:t,title:"Create New Appointment",position:"right",size:"md",children:r.jsx(mr,{onSubmit:a,isLoading:o})})}function Dr({opened:e,onClose:t,appointment:s,onEdit:n,onDelete:a}){const o=un();if(!s)return null;const c=s.status,u={0:"Scheduled",1:"Cancelled",2:"Completed",3:"No Show"},d={0:"blue",1:"red",2:"green",3:"orange"};return r.jsx(rs,{offset:25,radius:"md",shadow:"xl",overlayProps:{opacity:.2},opened:e,onClose:t,styles:{header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid var(--mantine-color-gray-3)"},title:{display:"flex",justifyContent:"space-between",alignItems:"center",flexGrow:1}},title:r.jsxs(r.Fragment,{children:[r.jsx(hn,{size:"md",p:"sm",color:d[c],children:u[c]}),r.jsxs(pe,{gap:0,justify:"end",children:[r.jsx(et,{radius:"md",variant:"subtle",size:"lg",onClick:n,color:"dimmed",children:r.jsx(yn,{size:20})}),r.jsx(et,{radius:"md",variant:"subtle",size:"lg",onClick:a,color:"dimmed",children:r.jsx(gn,{size:20})})]})]}),position:"right",size:"md",scrollAreaComponent:Ze.Autosize,children:r.jsxs(be,{gap:"xs",mt:"md",children:[r.jsxs(pe,{justify:"space-between",gap:"md",style:{cursor:"pointer"},onClick:()=>{s.patientId?o(`/patients/${s.patientId}`):console.error("No patient ID available for navigation")},children:[r.jsxs(pe,{children:[r.jsx(mn,{color:"#e7edf6",style:{cursor:"pointer"},onClick:()=>{s.patientId?o(`/patients/${s.patientId}`):console.error("No patient ID available for navigation")},size:"md",radius:"xl",variant:"filled",children:r.jsx(fe,{fz:"sm",children:s.patientName.split(" ").map(m=>m[0]).join("").toUpperCase()})}),r.jsxs(be,{gap:"0",c:"dimmed",children:[r.jsx(fe,{size:"lg",fw:700,children:s.patientName}),r.jsxs(pe,{gap:"4",c:"dimmed",children:[r.jsx(fn,{size:16}),r.jsx(fe,{size:"sm",c:"dimmed",children:"00000fixMe000"})]})]})]}),r.jsx(cr,{stroke:1.5,size:24})]}),r.jsx(Ct,{my:"8"}),r.jsxs(be,{children:[r.jsxs(pe,{gap:"xs",c:"dimmed",align:"start",children:[r.jsx(pn,{size:24,color:"black"}),r.jsxs(be,{gap:"0",children:[r.jsx(fe,{fw:500,children:s.time}),r.jsx(fe,{fw:500,c:"dimmed",children:s.displayDate||s.date})]})]}),r.jsxs(pe,{gap:"xs",c:"dimmed",align:"start",children:[r.jsx(lr,{size:24,color:"black"}),r.jsxs(be,{gap:"0",children:[r.jsx(fe,{fw:500,children:s.clinicName}),r.jsxs(fe,{fw:500,c:"dimmed",children:["Dr. ",s.doctorName]})]})]}),r.jsxs(pe,{align:"start",gap:"xs",c:"dimmed",children:[r.jsx(ur,{size:24,color:"black"}),r.jsxs(be,{gap:"0",children:[r.jsx(fe,{fw:500,children:"Notes"}),r.jsx(fe,{fw:500,c:"dimmed",children:s.notes})]})]})]}),r.jsx(pe,{justify:"flex-end",mt:"md"})]})})}export{Dr as A,xr as C,ht as D,br as I,Tt as S,mr as a};
