import{j as e,C as c,L as N,G as n,A as p,Y as a,P as o,t as h,T as i,m as C,S as l,K as g,D,U as s}from"./ui-60GCj8Dw.js";import{f as S,d as A}from"./appointments-B_6-NBdq.js";import{r as f,s as L,h as I,t as P,j as B,I as U,J as k}from"./icons-BQympANv.js";import{e as M,u as E}from"./router-DP3ythCP.js";import"./vendor-DJG_os-6.js";import"./query-D3UiA-xa.js";import"./chat-CG0hw1Kq.js";const G={0:"Scheduled",1:"Cancelled",2:"Completed",3:"No Show"},O={0:"blue",1:"red",2:"green",3:"orange"};function V(){const{id:m}=M(),x=E(),{patients:z,isLoading:T}=S(),{getAppointmentsByUser:w}=A(),d=z.find(r=>r.id===m),{data:t=[],isLoading:b,error:j}=w(m);return T||b?e.jsx(c,{pt:20,maw:1232,fluid:!0,children:e.jsx(N,{visible:!0})}):d?e.jsxs(c,{pt:20,maw:1232,fluid:!0,children:[e.jsxs(n,{mb:"xl",children:[e.jsx(p,{variant:"subtle",onClick:()=>x("/patients"),size:"lg",children:e.jsx(f,{size:20})}),e.jsx(a,{order:2,children:"Patient Details"})]}),e.jsx(o,{radius:"md",p:"xl",withBorder:!0,maw:800,mb:"xl",children:e.jsxs(n,{gap:"xl",children:[e.jsx(C,{size:80,radius:80,variant:"filled",color:"#e7edf6",children:e.jsx(i,{fz:"lg",fw:600,children:d.fullName.split(" ").map(r=>r[0]).join("").toUpperCase()})}),e.jsxs(l,{gap:"md",flex:1,children:[e.jsxs(n,{justify:"space-between",children:[e.jsx(a,{order:3,children:d.fullName}),e.jsx(g,{color:d.isBanned?"red":"green",variant:"light",size:"lg",children:d.isBanned?"Banned":"Active"})]}),e.jsxs(l,{gap:"sm",children:[e.jsxs(n,{children:[e.jsx(L,{size:18,stroke:1.5,color:"gray"}),e.jsx(i,{size:"sm",children:d.email})]}),e.jsxs(n,{children:[e.jsx(I,{size:18,stroke:1.5,color:"gray"}),e.jsx(i,{size:"sm",children:d.phoneNumber||"N/A"})]}),e.jsxs(n,{children:[e.jsx(P,{size:18,stroke:1.5,color:"gray"}),e.jsx(i,{size:"sm",children:d.address||"No address provided"})]})]})]})]})}),e.jsxs(o,{radius:"md",p:"xl",withBorder:!0,children:[e.jsxs(n,{justify:"space-between",align:"center",mb:"md",children:[e.jsx(a,{order:3,children:"Appointments"}),e.jsxs(n,{children:[e.jsx(B,{size:20}),e.jsxs(i,{size:"sm",c:"dimmed",children:[t.length," appointment",t.length!==1?"s":""]})]})]}),e.jsx(D,{mb:"md"}),j?e.jsx(h,{py:"xl",children:e.jsxs(i,{c:"red",children:["Error loading appointments: ",j.message]})}):t.length===0?e.jsx(h,{py:"xl",children:e.jsxs(l,{align:"center",gap:"md",children:[e.jsx(U,{size:40,opacity:.4}),e.jsx(i,{size:"lg",c:"dimmed",children:"No appointments found"}),e.jsx(i,{size:"sm",c:"dimmed",children:"This patient has no scheduled appointments."})]})}):e.jsxs(s,{highlightOnHover:!0,verticalSpacing:"sm",children:[e.jsx(s.Thead,{children:e.jsxs(s.Tr,{children:[e.jsx(s.Th,{c:"dimmed",children:"Date & Time"}),e.jsx(s.Th,{c:"dimmed",children:"Doctor"}),e.jsx(s.Th,{c:"dimmed",children:"Clinic"}),e.jsx(s.Th,{c:"dimmed",children:"Status"}),e.jsx(s.Th,{c:"dimmed",children:"Notes"})]})}),e.jsx(s.Tbody,{children:t.map(r=>{var u;const v=G[r.status]||"Scheduled",y=O[r.status]||"blue";return e.jsxs(s.Tr,{children:[e.jsx(s.Td,{children:e.jsxs(n,{gap:"xs",children:[e.jsx(k,{size:16,opacity:.6}),e.jsxs(l,{gap:"0",children:[e.jsx(i,{size:"sm",fw:500,children:new Date(r.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),e.jsxs(i,{size:"xs",c:"dimmed",children:[new Date(r.startDate).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," ","-"," ",new Date(r.endDate).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})]})}),e.jsx(s.Td,{children:e.jsx(i,{size:"sm",fw:500,children:((u=r.doctor)==null?void 0:u.name)||"N/A"})}),e.jsx(s.Td,{children:e.jsx(i,{size:"sm",c:"dimmed",children:r.clinicName||"N/A"})}),e.jsx(s.Td,{children:e.jsx(g,{color:y,variant:"light",size:"sm",children:v})}),e.jsx(s.Td,{children:e.jsx(i,{size:"sm",c:"dimmed",children:r.notes||"No notes"})})]},r.id)})})]})]})]}):e.jsxs(c,{pt:20,maw:1232,fluid:!0,children:[e.jsxs(n,{mb:"xl",children:[e.jsx(p,{variant:"subtle",onClick:()=>x("/patients"),size:"lg",children:e.jsx(f,{size:20})}),e.jsx(a,{order:2,children:"Patient Not Found"})]}),e.jsx(o,{radius:"md",p:"xl",withBorder:!0,children:e.jsx(h,{children:e.jsx(i,{c:"dimmed",children:"The requested patient could not be found."})})})]})}export{V as default};
