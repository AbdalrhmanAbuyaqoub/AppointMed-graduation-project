import{b5 as v,b6 as i,ah as a}from"./index-By0p5ZE8.js";import{a as e}from"./appointmentService-WUQtnvNT.js";function Q(){const n=v(),{data:r=[],isLoading:u,error:s}=i({queryKey:["appointments"],queryFn:e.getAllAppointments,refetchInterval:3e4,refetchOnWindowFocus:!0,staleTime:0}),m=t=>i({queryKey:["appointment",t],queryFn:()=>e.getAppointmentById(t),enabled:!!t}),c=t=>i({queryKey:["appointments","clinic",t],queryFn:()=>e.getAppointmentsByClinic(t),enabled:!!t,refetchInterval:3e4,refetchOnWindowFocus:!0,staleTime:0}),y=t=>i({queryKey:["appointments","doctor",t],queryFn:()=>e.getAppointmentsByDoctor(t),enabled:!!t,refetchInterval:3e4,refetchOnWindowFocus:!0,staleTime:0}),l=t=>i({queryKey:["appointments","user",t],queryFn:()=>e.getAppointmentsByUser(t),enabled:!!t,refetchInterval:3e4,refetchOnWindowFocus:!0,staleTime:0}),d=t=>i({queryKey:["appointment-status",t],queryFn:()=>e.getAppointmentStatus(t),enabled:!!t,refetchInterval:3e4,refetchOnWindowFocus:!0}),A=a({mutationFn:e.createAppointment,onSuccess:()=>{n.invalidateQueries({queryKey:["appointments"]})}}),q=a({mutationFn:e.createAppointmentWithPatient,onSuccess:t=>{var o,p;n.invalidateQueries({predicate:h=>h.queryKey[0]==="appointments"}),(o=t==null?void 0:t.appointment)!=null&&o.doctorId&&n.invalidateQueries({queryKey:["appointments","doctor",t.appointment.doctorId]}),(p=t==null?void 0:t.appointment)!=null&&p.userId&&localStorage.setItem("lastPatientUserId",t.appointment.userId)}}),F=a({mutationFn:e.updateAppointment,onSuccess:()=>{n.invalidateQueries({predicate:t=>t.queryKey[0]==="appointments"})}}),f=a({mutationFn:e.deleteAppointment,onSuccess:()=>{n.invalidateQueries({predicate:t=>t.queryKey[0]==="appointments"})}}),g=a({mutationFn:({appointmentId:t,newStatus:o})=>e.updateAppointmentStatus(t,o),onSuccess:()=>{n.invalidateQueries({predicate:t=>t.queryKey[0]==="appointments"})}});return{appointments:r,isLoadingAppointments:u,appointmentsError:s,getAppointmentById:m,getAppointmentsByClinic:c,getAppointmentsByDoctor:y,getAppointmentsByUser:l,getAppointmentStatus:d,createAppointment:A,createAppointmentWithPatient:q,updateAppointment:F,deleteAppointment:f,updateAppointmentStatus:g}}export{Q as u};
