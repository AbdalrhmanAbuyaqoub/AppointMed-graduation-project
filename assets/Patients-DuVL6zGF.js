import{o as u,j as e,q as d,s as x,r as l,G as m,$ as j,C as p,T as f,H as g,aJ as T,p as C,aK as w,P as z}from"./index-BMuruI52.js";import{u as S}from"./useUserQueries-BZoAcZbb.js";import{S as h,I as y}from"./IconUserOff-C6rBggNB.js";import{T as i}from"./Table-CuW-9yNq.js";import{A as P}from"./Avatar-BK-tLZH8.js";function k({searchQuery:t=""}){const{patients:n,isLoading:c}=S();u();const r=s=>{console.log("Navigate to patient:",s)},o=n.filter(s=>{const a=t.toLowerCase();return s.fullName.toLowerCase().includes(a)||s.email.toLowerCase().includes(a)||s.username.toLowerCase().includes(a)});return c?e.jsxs(d,{children:[e.jsx(h,{height:40,radius:"sm"}),[1,2,3].map(s=>e.jsx(h,{height:50,radius:"sm",mt:"sm"},s))]}):e.jsxs(i,{highlightOnHover:!0,verticalSpacing:"sm",horizontalSpacing:"lg",children:[e.jsx(i.Thead,{children:e.jsxs(i.Tr,{children:[e.jsx(i.Th,{c:"dimmed",children:"Name"}),e.jsx(i.Th,{c:"dimmed",children:"Email"})]})}),e.jsx(i.Tbody,{children:o.length===0?e.jsx(i.Tr,{children:e.jsx(i.Td,{colSpan:4,children:e.jsx(x,{py:"xl",children:e.jsxs(d,{align:"center",gap:"md",children:[e.jsx(y,{size:30,opacity:.4}),e.jsx(l,{size:"sm",c:"dimmed",children:n.length===0?"No patients found":"No patients match your search"})]})})})}):o.map(s=>e.jsxs(i.Tr,{style:{cursor:"pointer"},onClick:()=>r(s.id),children:[e.jsx(i.Td,{children:e.jsxs(m,{gap:"sm",children:[e.jsx(P,{style:{cursor:"pointer"},onClick:()=>r(s.id),size:"md",radius:"xl",variant:"filled",children:e.jsx(l,{fz:"sm",fw:600,c:"white",children:s.fullName.split(" ").map(a=>a[0]).join("").toUpperCase()})}),e.jsx(l,{size:"sm",fw:600,style:{cursor:"pointer"},onClick:()=>r(s.id),children:s.fullName})]})}),e.jsx(i.Td,{children:e.jsx(l,{size:"sm",c:"dimmed",children:s.email})})]},s.id))})]})}function b(){const[t,n]=j.useState(""),c=()=>{console.log("Add patient clicked")};return e.jsx(p,{pt:12,maw:1232,fluid:!0,children:e.jsxs(d,{children:[e.jsx(f,{fz:"24px",order:2,children:"Patients"}),e.jsxs(m,{mt:40,justify:"space-between",children:[e.jsx(g,{size:"lg",placeholder:"Search patients...",value:t,onChange:r=>n(r.target.value),leftSection:e.jsx(T,{size:16}),style:{flex:1,maxWidth:300},radius:"md"}),e.jsx(C,{size:"lg",variant:"outline",leftSection:e.jsx(w,{size:20}),onClick:c,radius:"xl",children:"Add New Patient"})]}),e.jsx(z,{radius:"md",withBorder:!0,children:e.jsx(k,{searchQuery:t})})]})})}export{b as default};
