import{X as A,w as $,j as e,B as k,F as w,ar as le,D as N,b0 as oe,r as H,o as M,v as X,y as ce,s as de,E as he,ak as ue,a6 as me,u as pe,b as B,e as xe,d as g,G as V,V as be,aM as je,C as fe,T as ge,a as we,aN as ve,P as ye}from"./index-CqLWFTqN.js";import{u as Se}from"./useUserQueries-C1HQwihX.js";import{S as Q,I as Ce}from"./IconUserOff-6dotMk-s.js";import{T as i}from"./Table-ByKnmm85.js";var q={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const ke=q,J=A.forwardRef(({__staticSelector:n,__stylesApiProps:a,className:r,classNames:l,styles:b,unstyled:o,children:u,label:c,description:s,id:t,disabled:h,error:m,size:d,labelPosition:v="left",bodyElement:p="div",labelElement:y="label",variant:I,style:T,vars:_,mod:G,...S},P)=>{const x=$({name:n,props:a,className:r,style:T,classes:q,classNames:l,styles:b,unstyled:o});return e.jsx(k,{...x("root"),ref:P,__vars:{"--label-fz":le(d),"--label-lh":w(d,"label-lh")},mod:[{"label-position":v},G],variant:I,size:d,...S,children:e.jsxs(k,{component:p,htmlFor:p==="label"?t:void 0,...x("body"),children:[u,e.jsxs("div",{...x("labelWrapper"),"data-disabled":h||void 0,children:[c&&e.jsx(k,{component:y,htmlFor:y==="label"?t:void 0,...x("label"),"data-disabled":h||void 0,children:c}),s&&e.jsx(N.Description,{size:d,__inheritStyles:!1,...x("description"),children:s}),m&&typeof m!="boolean"&&e.jsx(N.Error,{size:d,__inheritStyles:!1,...x("error"),children:m})]})]})})});J.displayName="@mantine/core/InlineInput";function Te({children:n,role:a}){const r=oe();return r?e.jsx("div",{role:a,"aria-labelledby":r.labelId,"aria-describedby":r.describedBy,children:n}):e.jsx(e.Fragment,{children:n})}const K=A.createContext(null),_e=K.Provider,Pe=()=>A.useContext(K),Ne={},E=H((n,a)=>{const{value:r,defaultValue:l,onChange:b,size:o,wrapperProps:u,children:c,readOnly:s,...t}=M("SwitchGroup",Ne,n),[h,m]=X({value:r,defaultValue:l,finalValue:[],onChange:b}),d=v=>{const p=v.currentTarget.value;!s&&m(h.includes(p)?h.filter(y=>y!==p):[...h,p])};return e.jsx(_e,{value:{value:h,onChange:d,size:o},children:e.jsx(N.Wrapper,{size:o,ref:a,...u,...t,labelElement:"div",__staticSelector:"SwitchGroup",children:e.jsx(Te,{role:"group",children:c})})})});E.classes=N.Wrapper.classes;E.displayName="@mantine/core/SwitchGroup";var Y={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const ze={labelPosition:"right",withThumbIndicator:!0},Ie=he((n,{radius:a,color:r,size:l})=>({root:{"--switch-radius":a===void 0?void 0:me(a),"--switch-height":w(l,"switch-height"),"--switch-width":w(l,"switch-width"),"--switch-thumb-size":w(l,"switch-thumb-size"),"--switch-label-font-size":w(l,"switch-label-font-size"),"--switch-track-label-padding":w(l,"switch-track-label-padding"),"--switch-color":r?ue(r,n):void 0}})),z=H((n,a)=>{const r=M("Switch",ze,n),{classNames:l,className:b,style:o,styles:u,unstyled:c,vars:s,color:t,label:h,offLabel:m,onLabel:d,id:v,size:p,radius:y,wrapperProps:I,thumbIcon:T,checked:_,defaultChecked:G,onChange:S,labelPosition:P,description:x,error:F,disabled:R,variant:Z,rootRef:ee,mod:se,withThumbIndicator:re,...te}=r,j=Pe(),ae=p||(j==null?void 0:j.size),C=$({name:"Switch",props:r,classes:Y,className:b,style:o,classNames:l,styles:u,unstyled:c,vars:s,varsResolver:Ie}),{styleProps:ie,rest:W}=ce(te),U=de(v),f=j?{checked:j.value.includes(W.value),onChange:j.onChange}:{},[O,ne]=X({value:f.checked??_,defaultValue:G,finalValue:!1});return e.jsxs(J,{...C("root"),__staticSelector:"Switch",__stylesApiProps:r,id:U,size:ae,labelPosition:P,label:h,description:x,error:F,disabled:R,bodyElement:"label",labelElement:"span",classNames:l,styles:u,unstyled:c,"data-checked":f.checked||_||void 0,variant:Z,ref:ee,mod:se,...ie,...I,children:[e.jsx("input",{...W,disabled:R,checked:O,"data-checked":f.checked||_||void 0,onChange:L=>{var D;j?(D=f.onChange)==null||D.call(f,L):S==null||S(L),ne(L.currentTarget.checked)},id:U,ref:a,type:"checkbox",role:"switch",...C("input")}),e.jsxs(k,{"aria-hidden":"true",mod:{error:F,"label-position":P,"without-labels":!d&&!m},...C("track"),children:[e.jsx(k,{component:"span",mod:{"reduce-motion":!0,"with-thumb-indicator":re&&!T},...C("thumb"),children:T}),e.jsx("span",{...C("trackLabel"),children:O?d:m})]})]})});z.classes={...Y,...ke};z.displayName="@mantine/core/Switch";z.Group=E;function Ge({searchQuery:n=""}){const{patients:a,isLoading:r,banPatient:l,unbanPatient:b}=Se();pe();const o=s=>{console.log("Navigate to patient:",s)},u=(s,t)=>{t?b(s):l(s)},c=a.filter(s=>{const t=n.toLowerCase();return s.fullName.toLowerCase().includes(t)||s.email.toLowerCase().includes(t)||s.phoneNumber&&s.phoneNumber.toLowerCase().includes(t)||s.address&&s.address.toLowerCase().includes(t)});return r?e.jsxs(B,{children:[e.jsx(Q,{height:40,radius:"sm"}),[1,2,3].map(s=>e.jsx(Q,{height:50,radius:"sm",mt:"sm"},s))]}):e.jsxs(i,{highlightOnHover:!0,verticalSpacing:"sm",horizontalSpacing:"lg",children:[e.jsx(i.Thead,{children:e.jsxs(i.Tr,{children:[e.jsx(i.Th,{c:"dimmed",children:"Name"}),e.jsx(i.Th,{c:"dimmed",children:"Email"}),e.jsx(i.Th,{c:"dimmed",children:"Phone"}),e.jsx(i.Th,{c:"dimmed",children:"Status"})]})}),e.jsx(i.Tbody,{children:c.length===0?e.jsx(i.Tr,{children:e.jsx(i.Td,{colSpan:4,children:e.jsx(xe,{py:"xl",children:e.jsxs(B,{align:"center",gap:"md",children:[e.jsx(Ce,{size:30,opacity:.4}),e.jsx(g,{size:"sm",c:"dimmed",children:a.length===0?"No patients found":"No patients match your search"})]})})})}):c.map(s=>e.jsxs(i.Tr,{style:{cursor:"pointer"},onClick:()=>o(s.id),children:[e.jsx(i.Td,{children:e.jsxs(V,{gap:"sm",children:[e.jsx(be,{style:{cursor:"pointer"},onClick:()=>o(s.id),size:"md",radius:"xl",variant:"filled",children:e.jsx(g,{fz:"sm",fw:600,c:"white",children:s.fullName.split(" ").map(t=>t[0]).join("").toUpperCase()})}),e.jsx(g,{size:"sm",fw:600,style:{cursor:"pointer"},onClick:()=>o(s.id),children:s.fullName})]})}),e.jsx(i.Td,{children:e.jsx(g,{size:"sm",c:"dimmed",children:s.email})}),e.jsx(i.Td,{children:e.jsx(g,{size:"sm",c:"dimmed",children:s.phoneNumber||"N/A"})}),e.jsx(i.Td,{children:e.jsxs(V,{gap:"xs",align:"center",onClick:t=>t.stopPropagation(),children:[e.jsx(z,{checked:!s.isBanned,onChange:()=>u(s.id,s.isBanned),color:"green",size:"sm"}),e.jsx(g,{size:"xs",c:s.isBanned?"red":"dimmed",children:s.isBanned?"Banned":"Active"})]})})]},s.id))})]})}function Ee(){const{searchQuery:n}=je(),a=()=>{console.log("Add patient clicked")};return e.jsx(fe,{pt:12,maw:1232,fluid:!0,children:e.jsxs(B,{children:[e.jsx(ge,{fz:"24px",order:2,children:"Patients"}),e.jsx(V,{mt:40,justify:"flex-end",children:e.jsx(we,{size:"lg",variant:"outline",leftSection:e.jsx(ve,{size:20}),onClick:a,radius:"xl",children:"Add New Patient"})}),e.jsx(ye,{radius:"md",withBorder:!0,children:e.jsx(Ge,{searchQuery:n})})]})})}export{Ee as default};
