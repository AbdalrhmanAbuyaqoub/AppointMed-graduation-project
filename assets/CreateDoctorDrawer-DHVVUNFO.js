import{j as s,aC as N,f,D as t,G as g,e as n,T as x}from"./index-DFVxnAOD.js";import{u as C}from"./useDoctorQueries-u9M4GpOh.js";import{u as b}from"./useClinicQueries-CQSBc36E.js";import{N as u}from"./NotificationService-CYkVcrvj.js";import{S as v}from"./Select-ZbMGs0iQ.js";function k({opened:o,onClose:m,onSubmit:j,doctorData:e,setDoctorData:i,isLoading:d,clinicId:a}){const{createDoctor:c}=C(),{clinics:h}=b(),p=async r=>{if(r.preventDefault(),!(!e.firstName.trim()||!e.lastName.trim()||!e.email.trim()||!e.phoneNumber.trim()))try{await c({clinicId:a||parseInt(e.selectedClinic),firstName:e.firstName.trim(),lastName:e.lastName.trim(),email:e.email.trim(),address:e.address.trim(),phoneNumber:e.phoneNumber.trim()}),i({firstName:"",lastName:"",email:"",address:"",phoneNumber:"",selectedClinic:a?a.toString():""}),m(),u.success("Success","Doctor added successfully")}catch(l){console.error("Error creating doctor:",l),u.error("Error",l.message||"Failed to add doctor")}};return s.jsx(N,{overlayProps:{opacity:.4},opened:o,onClose:m,title:s.jsx(x,{fz:25,fw:600,children:"Add New Doctor"}),position:"right",size:"md",children:s.jsxs(f,{gap:"md",p:"md",children:[s.jsx(t,{label:"First Name",placeholder:"Doctor First Name",required:!0,value:e.firstName,onChange:r=>i(l=>({...l,firstName:r.target.value}))}),s.jsx(t,{label:"Last Name",placeholder:"Doctor Last Name",required:!0,value:e.lastName,onChange:r=>i(l=>({...l,lastName:r.target.value}))}),s.jsx(t,{label:"Email",type:"email",placeholder:"Doctor Email",required:!0,value:e.email,onChange:r=>i(l=>({...l,email:r.target.value}))}),s.jsx(t,{label:"Phone Number",placeholder:"Doctor Phone",required:!0,value:e.phoneNumber,onChange:r=>i(l=>({...l,phoneNumber:r.target.value}))}),s.jsx(t,{label:"Address",placeholder:"Doctor Address",value:e.address,onChange:r=>i(l=>({...l,address:r.target.value}))}),s.jsx(v,{label:"Select Clinic",placeholder:"Choose a clinic",data:h.map(r=>({value:r.id.toString(),label:r.name})),value:a?a.toString():e.selectedClinic,onChange:r=>i(l=>({...l,selectedClinic:r})),disabled:!!a,withAsterisk:!0,error:!a&&!e.selectedClinic?"Please select a clinic":null,size:"md"}),s.jsxs(g,{justify:"flex-end",mt:"xl",children:[s.jsx(n,{variant:"outline",onClick:m,children:"Cancel"}),s.jsx(n,{variant:"filled",onClick:p,loading:d,children:"Add Doctor"})]})]})})}export{k as C};
