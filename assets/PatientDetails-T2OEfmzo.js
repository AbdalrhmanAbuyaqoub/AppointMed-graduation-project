import{b as C,b4 as N,d as D,aV as S,j as e,C as l,Q as k,G as n,ae as p,b5 as g,T as a,P as o,i as h,h as i,ab as A,f as c,ao as f,K as L,aY as I,b6 as P,as as B,aW as U,ac as M}from"./index-ZwLsdpq7.js";import{u as E}from"./useAppointmentQueries-BY0jJUAZ.js";import{T as s}from"./Table-C_2zmgBg.js";import"./appointmentService-IRgsPcX5.js";/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q=C("outline","clock","IconClock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]);const G={0:"Scheduled",1:"Cancelled",2:"Completed",3:"No Show"},O={0:"blue",1:"red",2:"green",3:"orange"};function V(){const{id:x}=N(),m=D(),{patients:z,isLoading:T}=S(),{getAppointmentsByUser:b}=E(),d=z.find(r=>r.id===x),{data:t=[],isLoading:v,error:j}=b(x);return T||v?e.jsx(l,{pt:20,maw:1232,fluid:!0,children:e.jsx(k,{visible:!0})}):d?e.jsxs(l,{pt:20,maw:1232,fluid:!0,children:[e.jsxs(n,{mb:"xl",children:[e.jsx(p,{variant:"subtle",onClick:()=>m("/patients"),size:"lg",children:e.jsx(g,{size:20})}),e.jsx(a,{order:2,children:"Patient Details"})]}),e.jsx(o,{radius:"md",p:"xl",withBorder:!0,maw:800,mb:"xl",children:e.jsxs(n,{gap:"xl",children:[e.jsx(A,{size:80,radius:80,variant:"filled",color:"#e7edf6",children:e.jsx(i,{fz:"lg",fw:600,children:d.fullName.split(" ").map(r=>r[0]).join("").toUpperCase()})}),e.jsxs(c,{gap:"md",flex:1,children:[e.jsxs(n,{justify:"space-between",children:[e.jsx(a,{order:3,children:d.fullName}),e.jsx(f,{color:d.isBanned?"red":"green",variant:"light",size:"lg",children:d.isBanned?"Banned":"Active"})]}),e.jsxs(c,{gap:"sm",children:[e.jsxs(n,{children:[e.jsx(L,{size:18,stroke:1.5,color:"gray"}),e.jsx(i,{size:"sm",children:d.email})]}),e.jsxs(n,{children:[e.jsx(I,{size:18,stroke:1.5,color:"gray"}),e.jsx(i,{size:"sm",children:d.phoneNumber||"N/A"})]}),e.jsxs(n,{children:[e.jsx(P,{size:18,stroke:1.5,color:"gray"}),e.jsx(i,{size:"sm",children:d.address||"No address provided"})]})]})]})]})}),e.jsxs(o,{radius:"md",p:"xl",withBorder:!0,children:[e.jsxs(n,{justify:"space-between",align:"center",mb:"md",children:[e.jsx(a,{order:3,children:"Appointments"}),e.jsxs(n,{children:[e.jsx(B,{size:20}),e.jsxs(i,{size:"sm",c:"dimmed",children:[t.length," appointment",t.length!==1?"s":""]})]})]}),e.jsx(U,{mb:"md"}),j?e.jsx(h,{py:"xl",children:e.jsxs(i,{c:"red",children:["Error loading appointments: ",j.message]})}):t.length===0?e.jsx(h,{py:"xl",children:e.jsxs(c,{align:"center",gap:"md",children:[e.jsx(M,{size:40,opacity:.4}),e.jsx(i,{size:"lg",c:"dimmed",children:"No appointments found"}),e.jsx(i,{size:"sm",c:"dimmed",children:"This patient has no scheduled appointments."})]})}):e.jsxs(s,{highlightOnHover:!0,verticalSpacing:"sm",children:[e.jsx(s.Thead,{children:e.jsxs(s.Tr,{children:[e.jsx(s.Th,{c:"dimmed",children:"Date & Time"}),e.jsx(s.Th,{c:"dimmed",children:"Doctor"}),e.jsx(s.Th,{c:"dimmed",children:"Clinic"}),e.jsx(s.Th,{c:"dimmed",children:"Status"}),e.jsx(s.Th,{c:"dimmed",children:"Notes"})]})}),e.jsx(s.Tbody,{children:t.map(r=>{var u;const w=G[r.status]||"Scheduled",y=O[r.status]||"blue";return e.jsxs(s.Tr,{children:[e.jsx(s.Td,{children:e.jsxs(n,{gap:"xs",children:[e.jsx(Q,{size:16,opacity:.6}),e.jsxs(c,{gap:"0",children:[e.jsx(i,{size:"sm",fw:500,children:new Date(r.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),e.jsxs(i,{size:"xs",c:"dimmed",children:[new Date(r.startDate).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})," ","-"," ",new Date(r.endDate).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})]})]})]})}),e.jsx(s.Td,{children:e.jsx(i,{size:"sm",fw:500,children:((u=r.doctor)==null?void 0:u.name)||"N/A"})}),e.jsx(s.Td,{children:e.jsx(i,{size:"sm",c:"dimmed",children:r.clinicName||"N/A"})}),e.jsx(s.Td,{children:e.jsx(f,{color:y,variant:"light",size:"sm",children:w})}),e.jsx(s.Td,{children:e.jsx(i,{size:"sm",c:"dimmed",children:r.notes||"No notes"})})]},r.id)})})]})]})]}):e.jsxs(l,{pt:20,maw:1232,fluid:!0,children:[e.jsxs(n,{mb:"xl",children:[e.jsx(p,{variant:"subtle",onClick:()=>m("/patients"),size:"lg",children:e.jsx(g,{size:20})}),e.jsx(a,{order:2,children:"Patient Not Found"})]}),e.jsx(o,{radius:"md",p:"xl",withBorder:!0,children:e.jsx(h,{children:e.jsx(i,{c:"dimmed",children:"The requested patient could not be found."})})})]})}export{V as default};
